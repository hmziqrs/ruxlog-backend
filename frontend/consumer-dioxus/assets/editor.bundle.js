var mh=Object.create;var{getPrototypeOf:Fh,defineProperty:Mu,getOwnPropertyNames:Xh}=Object;var Th=Object.prototype.hasOwnProperty;var ic=(r,c,a)=>{a=r!=null?mh(Fh(r)):{};let n=c||!r||!r.__esModule?Mu(a,"default",{value:r,enumerable:!0}):a;for(let u of Xh(r))if(!Th.call(n,u))Mu(n,u,{get:()=>r[u],enumerable:!0});return n};var kc=(r,c)=>()=>(c||r((c={exports:{}}).exports,c),c.exports);var Gh=kc((cr,nr)=>{(function(c,a){if(typeof cr==="object"&&typeof nr==="object")nr.exports=a();else if(typeof define==="function"&&define.amd)define([],a);else if(typeof cr==="object")cr.AnyButton=a();else c.AnyButton=a()})(self,()=>{return(()=>{var __webpack_modules__={"./src/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ AnyButton)
/* harmony export */ });
/* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./src/index.scss");
/* harmony import */ var _toolbox_icon_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./toolbox-icon.svg */ "./src/toolbox-icon.svg");
/* harmony import */ var codex_notifier__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! codex-notifier */ "./node_modules/codex-notifier/dist/bundle.js");
/* harmony import */ var codex_notifier__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(codex_notifier__WEBPACK_IMPORTED_MODULE_2__);
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }
function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }



var AnyButton = /*#__PURE__*/function () {
  /**
   *
   * @param data
   * @param config
   * @param api
   * @param readOnly
   */
  function AnyButton(_ref) {
    var data = _ref.data,
      config = _ref.config,
      api = _ref.api,
      readOnly = _ref.readOnly;
    _classCallCheck(this, AnyButton);
    this.api = api;
    this.readOnly = readOnly;
    this.nodes = {
      wrapper: null,
      container: null,
      inputHolder: null,
      toggleHolder: null,
      anyButtonHolder: null,
      textInput: null,
      linkInput: null,
      registButton: null,
      anyButton: null
    };
    //css overwrite
    var _CSS = {
      baseClass: this.api.styles.block,
      hide: "hide",
      btn: "anyButton__btn",
      container: "anyButtonContainer",
      input: "anyButtonContainer__input",
      inputHolder: "anyButtonContainer__inputHolder",
      inputText: "anyButtonContainer__input--text",
      inputLink: "anyButtonContainer__input--link",
      registButton: "anyButtonContainer__registerButton",
      anyButtonHolder: "anyButtonContainer__anyButtonHolder",
      btnColor: "anyButton__btn--default"
    };
    this.CSS = Object.assign(_CSS, config.css);
    this.linkValidation = config.linkValidation || this.defaultLinkValidation.bind(this);
    this.textValidation = config.textValidation || this.defaultTextValidation.bind(this);
    this.data = {
      link: "",
      text: ""
    };
    this.data = data;
  }
  return _createClass(AnyButton, [{
    key: "renderSettings",
    value: function renderSettings() {
      var _this = this;
      var tunes = AnyButton.tunes;
      return tunes.map(function (tune) {
        return {
          icon: tune.icon,
          label: _this.api.i18n.t(tune.title),
          name: tune.name,
          onActivate: function onActivate() {
            _this.data = {
              "link": _this.nodes.linkInput.textContent,
              "text": _this.nodes.textInput.textContent
            };
            _this.show(Number(AnyButton.STATE.EDIT));
          }
        };
      });
    }

    /**
     * Returns true to notify the core that read-only mode is supported
     *
     * @return {boolean}
     */
  }, {
    key: "data",
    get:
    /**
     *
     * @returns {{text: string, link: string}}
     */
    function get() {
      return this._data;
    }

    /**
     * セーブ時のバリデーション
     * @param savedData
     * @returns {boolean}
     */,
    set:
    /**
     *
     * @param data
     */
    function set(data) {
      this._data = Object.assign({}, {
        link: this.api.sanitizer.clean(data.link || "", AnyButton.sanitize),
        text: this.api.sanitizer.clean(data.text || "", AnyButton.sanitize)
      });
    }
  }, {
    key: "validate",
    value: function validate(savedData) {
      if (this._data.link === "" || this._data.text === "") {
        return false;
      }
      return true;
    }
    /**
     *
     * @param block
     * @returns {{caption: string, text: string, alignment: string}}
     */
  }, {
    key: "save",
    value: function save(block) {
      return this._data;
    }

    /**
     * タグを全部削除する
     * @returns {{link: boolean, text: boolean}}
     */
  }, {
    key: "defaultLinkValidation",
    value: function defaultLinkValidation(text) {
      //全ての文字列が渡されるがURLのみ許可する. URLじゃない文字列も考慮する
      var url = null;
      try {
        url = new URL(text);
      } catch (e) {
        codex_notifier__WEBPACK_IMPORTED_MODULE_2___default().show({
          message: "URLが間違っています",
          style: 'error'
        });
        return false;
      }
      //httpsかhttpが入っていなければエラー
      if (url.protocol !== "https:" && url.protocol !== "http:") {
        codex_notifier__WEBPACK_IMPORTED_MODULE_2___default().show({
          message: "正しいURLを入力してください",
          style: 'error'
        });
        return false;
      }
      return true;
    }
  }, {
    key: "defaultTextValidation",
    value: function defaultTextValidation(text) {
      if (text === "") {
        codex_notifier__WEBPACK_IMPORTED_MODULE_2___default().show({
          message: "ボタンのテキストを入力してください",
          style: 'error'
        });
        return false;
      }
      return true;
    }
  }, {
    key: "render",
    value: function render() {
      this.nodes.wrapper = this.make('div', this.CSS.baseClass);
      this.nodes.container = this.make('div', this.CSS.container); //twitter-embed-tool

      //入力用
      this.nodes.inputHolder = this.makeInputHolder();
      //display button
      this.nodes.anyButtonHolder = this.makeAnyButtonHolder();
      this.nodes.container.appendChild(this.nodes.inputHolder);
      this.nodes.container.appendChild(this.nodes.anyButtonHolder);
      if (this._data.link !== "") {
        this.init();
        this.show(AnyButton.STATE.VIEW);
      }
      this.nodes.wrapper.appendChild(this.nodes.container);
      return this.nodes.wrapper;
    }
  }, {
    key: "makeInputHolder",
    value: function makeInputHolder() {
      var _this2 = this;
      var inputHolder = this.make('div', [this.CSS.inputHolder]);
      this.nodes.textInput = this.make('div', [this.api.styles.input, this.CSS.input, this.CSS.inputText], {
        contentEditable: !this.readOnly
      });
      this.nodes.textInput.dataset.placeholder = this.api.i18n.t('Button Text');
      this.nodes.linkInput = this.make('div', [this.api.styles.input, this.CSS.input, this.CSS.inputLink], {
        contentEditable: !this.readOnly
      });
      this.nodes.linkInput.dataset.placeholder = this.api.i18n.t('Link Url');
      this.nodes.registButton = this.make('button', [this.api.styles.button, this.CSS.registButton]);
      this.nodes.registButton.type = 'button';
      this.nodes.registButton.textContent = this.api.i18n.t('Set');
      this.nodes.registButton.addEventListener('click', function (event) {
        if (!_this2.linkValidation(_this2.nodes.linkInput.textContent)) {
          return;
        }
        if (!_this2.textValidation(_this2.nodes.textInput.textContent)) {
          return;
        }
        _this2.data = {
          "link": _this2.nodes.linkInput.textContent,
          "text": _this2.nodes.textInput.textContent
        };
        _this2.show(AnyButton.STATE.VIEW);
      });
      inputHolder.appendChild(this.nodes.textInput);
      inputHolder.appendChild(this.nodes.linkInput);
      inputHolder.appendChild(this.nodes.registButton);
      return inputHolder;
    }
  }, {
    key: "init",
    value: function init() {
      this.nodes.textInput.textContent = this._data.text;
      this.nodes.linkInput.textContent = this._data.link;
    }
  }, {
    key: "show",
    value: function show(state) {
      this.nodes.anyButton.textContent = this._data.text;
      this.nodes.anyButton.setAttribute("href", this._data.link);
      this.changeState(state);
    }
  }, {
    key: "makeAnyButtonHolder",
    value: function makeAnyButtonHolder() {
      var anyButtonHolder = this.make('div', [this.CSS.hide, this.CSS.anyButtonHolder]);
      this.nodes.anyButton = this.make('a', [this.CSS.btn, this.CSS.btnColor], {
        target: '_blank',
        rel: 'nofollow noindex noreferrer'
      });
      this.nodes.anyButton.textContent = this.api.i18n.t("Default Button");
      anyButtonHolder.appendChild(this.nodes.anyButton);
      return anyButtonHolder;
    }
  }, {
    key: "changeState",
    value: function changeState(state) {
      switch (state) {
        case AnyButton.STATE.EDIT:
          this.nodes.inputHolder.classList.remove(this.CSS.hide);
          this.nodes.anyButtonHolder.classList.add(this.CSS.hide);
          break;
        case AnyButton.STATE.VIEW:
          this.nodes.inputHolder.classList.add(this.CSS.hide);
          this.nodes.anyButtonHolder.classList.remove(this.CSS.hide);
          break;
      }
    }

    /**
     * node 作成用
     * @param tagName
     * @param classNames
     * @param attributes
     * @returns {*}
     */
  }, {
    key: "make",
    value: function make(tagName) {
      var classNames = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
      var attributes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      var el = document.createElement(tagName);
      if (Array.isArray(classNames)) {
        var _el$classList;
        (_el$classList = el.classList).add.apply(_el$classList, _toConsumableArray(classNames));
      } else if (classNames) {
        el.classList.add(classNames);
      }
      for (var attrName in attributes) {
        el[attrName] = attributes[attrName];
      }
      return el;
    }
  }], [{
    key: "toolbox",
    get:
    /**
     *
     * @returns {{icon: string, title: string}}
     */
    function get() {
      return {
        title: "Button",
        icon: _toolbox_icon_svg__WEBPACK_IMPORTED_MODULE_1__["default"]
      };
    }
  }, {
    key: "tunes",
    get: function get() {
      return [{
        name: 'edit_mode',
        icon: _toolbox_icon_svg__WEBPACK_IMPORTED_MODULE_1__["default"],
        title: 'ボタンを編集'
      }];
    }
  }, {
    key: "isReadOnlySupported",
    get: function get() {
      return true;
    }
    /**
     *
     * @returns {boolean}
     */
  }, {
    key: "enableLineBreaks",
    get: function get() {
      return false;
    }

    /**
     *
     * @returns {{EDIT: number, VIEW: number}}
     * @constructor
     */
  }, {
    key: "STATE",
    get: function get() {
      return {
        EDIT: 0,
        VIEW: 1
      };
    }
  }, {
    key: "sanitize",
    get: function get() {
      return {
        text: false,
        link: false
      };
    }
  }]);
}();


//# sourceURL=webpack://AnyButton/./src/index.js?`)},"./node_modules/codex-notifier/dist/bundle.js":(module)=>{/*!****************************************************!*\
  !*** ./node_modules/codex-notifier/dist/bundle.js ***!
  \****************************************************/eval(`!function(t,e){ true?module.exports=e():0}(window,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=0)}([function(t,e,n){"use strict";n(1),
/*!
 * Codex JavaScript Notification module
 * https://github.com/codex-team/js-notifier
 */
t.exports=function(){var t=n(6),e="cdx-notify--bounce-in",o=null;return{show:function(n){if(n.message){!function(){if(o)return!0;o=t.getWrapper(),document.body.appendChild(o)}();var r=null,i=n.time||8e3;switch(n.type){case"confirm":r=t.confirm(n);break;case"prompt":r=t.prompt(n);break;default:r=t.alert(n),window.setTimeout(function(){r.remove()},i)}o.appendChild(r),r.classList.add(e)}}}}()},function(t,e,n){var o=n(2);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(4)(o,r);o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(3)(!1)).push([t.i,'.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:\\'\\';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:\\'\\';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}',""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var r=(a=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"});return[n].concat(i).concat([r]).join("\\n")}var a;return[n].join("\\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var o,r,i={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),c=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),s=null,f=0,d=[],u=n(5);function l(t,e){for(var n=0;n<t.length;n++){var o=t[n],r=i[o.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](o.parts[a]);for(;a<o.parts.length;a++)r.parts.push(h(o.parts[a],e))}else{var c=[];for(a=0;a<o.parts.length;a++)c.push(h(o.parts[a],e));i[o.id]={id:o.id,refs:1,parts:c}}}}function p(t,e){for(var n=[],o={},r=0;r<t.length;r++){var i=t[r],a=e.base?i[0]+e.base:i[0],c={css:i[1],media:i[2],sourceMap:i[3]};o[a]?o[a].parts.push(c):n.push(o[a]={id:a,parts:[c]})}return n}function b(t,e){var n=c(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=d[d.length-1];if("top"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),d.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n");var r=c(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,r)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=d.indexOf(t);e>=0&&d.splice(e,1)}function x(t){var e=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),y(e,t.attrs),b(t,e),e}function y(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function h(t,e){var n,o,r,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var a=f++;n=s||(s=x(e)),o=_.bind(null,n,a,!1),r=_.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",y(e,t.attrs),b(t,e),e}(e),o=function(t,e,n){var o=n.css,r=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||i)&&(o=u(o));r&&(o+="\\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([o],{type:"text/css"}),c=t.href;t.href=URL.createObjectURL(a),c&&URL.revokeObjectURL(c)}.bind(null,n,e),r=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=x(e),o=function(t,e){var n=e.css,o=e.media;o&&t.setAttribute("media",o);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){m(n)});return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else r()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=p(t,e);return l(n,e),function(t){for(var o=[],r=0;r<n.length;r++){var a=n[r];(c=i[a.id]).refs--,o.push(c)}t&&l(p(t,e),e);for(r=0;r<o.length;r++){var c;if(0===(c=o[r]).refs){for(var s=0;s<c.parts.length;s++)c.parts[s]();delete i[c.id]}}}};var v,g=(v=[],function(t,e){return v[t]=e,v.filter(Boolean).join("\\n")});function _(t,e,n,o){var r=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=g(e,r);else{var i=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,o=n+e.pathname.replace(/\\/[^\\/]*$/,"/");return t.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi,function(t,e){var r,i=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(i)?t:(r=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:o+i.replace(/^\\.\\//,""),"url("+JSON.stringify(r)+")")})}},function(t,e,n){"use strict";var o,r,i,a,c,s,f,d,u;t.exports=(o="cdx-notifies",r="cdx-notify",i="cdx-notify__cross",a="cdx-notify__button--confirm",c="cdx-notify__button--cancel",s="cdx-notify__input",f="cdx-notify__button",d="cdx-notify__btns-wrapper",{alert:u=function(t){var e=document.createElement("DIV"),n=document.createElement("DIV"),o=t.message,a=t.style;return e.classList.add(r),a&&e.classList.add(r+"--"+a),e.innerHTML=o,n.classList.add(i),n.addEventListener("click",e.remove.bind(e)),e.appendChild(n),e},confirm:function(t){var e=u(t),n=document.createElement("div"),o=document.createElement("button"),r=document.createElement("button"),s=e.querySelector("."+i),l=t.cancelHandler,p=t.okHandler;return n.classList.add(d),o.innerHTML=t.okText||"Confirm",r.innerHTML=t.cancelText||"Cancel",o.classList.add(f),r.classList.add(f),o.classList.add(a),r.classList.add(c),l&&"function"==typeof l&&(r.addEventListener("click",l),s.addEventListener("click",l)),p&&"function"==typeof p&&o.addEventListener("click",p),o.addEventListener("click",e.remove.bind(e)),r.addEventListener("click",e.remove.bind(e)),n.appendChild(o),n.appendChild(r),e.appendChild(n),e},prompt:function(t){var e=u(t),n=document.createElement("div"),o=document.createElement("button"),r=document.createElement("input"),c=e.querySelector("."+i),l=t.cancelHandler,p=t.okHandler;return n.classList.add(d),o.innerHTML=t.okText||"Ok",o.classList.add(f),o.classList.add(a),r.classList.add(s),t.placeholder&&r.setAttribute("placeholder",t.placeholder),t.default&&(r.value=t.default),t.inputType&&(r.type=t.inputType),l&&"function"==typeof l&&c.addEventListener("click",l),p&&"function"==typeof p&&o.addEventListener("click",function(){p(r.value)}),o.addEventListener("click",e.remove.bind(e)),n.appendChild(r),n.appendChild(o),e.appendChild(n),e},getWrapper:function(){var t=document.createElement("DIV");return t.classList.add(o),t}})}])});

//# sourceURL=webpack://AnyButton/./node_modules/codex-notifier/dist/bundle.js?`)},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/index.scss":(module,__webpack_exports__,__webpack_require__)=>{/*!*****************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/index.scss ***!
  \*****************************************************************************************************/eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/noSourceMaps.js */ "./node_modules/css-loader/dist/runtime/noSourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/getUrl.js */ "./node_modules/css-loader/dist/runtime/getUrl.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__);
// Imports



var ___CSS_LOADER_URL_IMPORT_0___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"> <path d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12" stroke="black" stroke-width="2" stroke-linecap="round"/> <path d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72" stroke="black" stroke-width="2" stroke-linecap="round"/> </svg> */ "data:image/svg+xml,<svg xmlns=\\"http://www.w3.org/2000/svg\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\"> <path d=\\"M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12\\" stroke=\\"black\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\"/> <path d=\\"M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72\\" stroke=\\"black\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\"/> </svg>"), __webpack_require__.b);
var ___CSS_LOADER_URL_IMPORT_1___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"> <path d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14" stroke="black" stroke-width="2" stroke-linecap="round"/> </svg> */ "data:image/svg+xml,<svg xmlns=\\"http://www.w3.org/2000/svg\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\"> <path d=\\"M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14\\" stroke=\\"black\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\"/> </svg>"), __webpack_require__.b);
var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
var ___CSS_LOADER_URL_REPLACEMENT_0___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_0___);
var ___CSS_LOADER_URL_REPLACEMENT_1___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_1___);
// Module
___CSS_LOADER_EXPORT___.push([module.id, \`.hide {
  display: none !important;
}

.anyButtonContainer {
  position: relative;
}

.anyButtonContainer__registerButton {
  display: block;
  margin: auto;
}

.anyButtonContainer__inputHolder > * {
  margin-bottom: 10px;
}

.anyButtonContainer__input {
  padding-left: 38px;
  background-repeat: no-repeat;
  background-position: 10px;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}

.anyButtonContainer__input--link {
  background-image: url(\${___CSS_LOADER_URL_REPLACEMENT_0___});
}

.anyButtonContainer__input--text {
  background-image: url(\${___CSS_LOADER_URL_REPLACEMENT_1___});
}

.anyButtonContainer__input[contentEditable=true][data-placeholder]::before {
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

.anyButtonContainer__input[contentEditable=true][data-placeholder]:empty::before {
  opacity: 1;
}

.anyButtonContainer__input[contentEditable=true][data-placeholder]:empty:focus::before {
  opacity: 0;
}

.cdx-button {
  white-space: nowrap;
}

.anyButtonContainer__anyButtonHolder {
  text-align: center;
}

.anyButton__btn {
  display: inline-block;
  font-weight: 400;
  line-height: 1.5;
  color: #212529;
  text-align: center;
  text-decoration: none !important;
  vertical-align: middle;
  cursor: pointer;
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
  background-color: transparent;
  border: 1px solid transparent;
  padding: 0.375rem 0.75rem;
  font-size: 1rem;
  border-radius: 0.25rem;
  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
  word-break: break-all;
  overflow-wrap: break-word;
}
.anyButton__btn--default {
  color: #fff;
  background-color: #0d6efd;
  border-color: #0d6efd;
}
.anyButton__btn--gray {
  color: #fff;
  background-color: #7c7c7c;
  border-color: #7c7c7c;
}

.toggle-input {
  position: absolute;
  z-index: 5;
  opacity: 0;
  cursor: pointer;
  width: 40px;
  height: 20px;
  margin: 0;
}

.toggle-label {
  width: 40px;
  height: 20px;
  background: #ccc;
  position: relative;
  display: inline-block;
  border-radius: 46px;
  transition: 0.4s;
  box-sizing: border-box;
}

.toggle-label:after {
  content: "";
  position: absolute;
  width: 20px;
  height: 20px;
  border-radius: 100%;
  left: 0;
  top: 0;
  z-index: 2;
  background: #fff;
  box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
  transition: 0.4s;
}

.toggle-input:checked + .toggle-label {
  background-color: #4BD865;
}

.toggle-input:checked + .toggle-label:after {
  left: 20px;
}

.toggle-switch {
  width: 40px;
  margin-left: auto;
  padding: 10px 0;
}\`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


//# sourceURL=webpack://AnyButton/./src/index.scss?./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js`)},"./node_modules/css-loader/dist/runtime/api.js":(module)=>{/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/eval(`

/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
module.exports = function (cssWithMappingToString) {
  var list = [];

  // return the list of modules as css string
  list.toString = function toString() {
    return this.map(function (item) {
      var content = "";
      var needLayer = typeof item[5] !== "undefined";
      if (item[4]) {
        content += "@supports (".concat(item[4], ") {");
      }
      if (item[2]) {
        content += "@media ".concat(item[2], " {");
      }
      if (needLayer) {
        content += "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {");
      }
      content += cssWithMappingToString(item);
      if (needLayer) {
        content += "}";
      }
      if (item[2]) {
        content += "}";
      }
      if (item[4]) {
        content += "}";
      }
      return content;
    }).join("");
  };

  // import a list of modules into the list
  list.i = function i(modules, media, dedupe, supports, layer) {
    if (typeof modules === "string") {
      modules = [[null, modules, undefined]];
    }
    var alreadyImportedModules = {};
    if (dedupe) {
      for (var k = 0; k < this.length; k++) {
        var id = this[k][0];
        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }
    for (var _k = 0; _k < modules.length; _k++) {
      var item = [].concat(modules[_k]);
      if (dedupe && alreadyImportedModules[item[0]]) {
        continue;
      }
      if (typeof layer !== "undefined") {
        if (typeof item[5] === "undefined") {
          item[5] = layer;
        } else {
          item[1] = "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {").concat(item[1], "}");
          item[5] = layer;
        }
      }
      if (media) {
        if (!item[2]) {
          item[2] = media;
        } else {
          item[1] = "@media ".concat(item[2], " {").concat(item[1], "}");
          item[2] = media;
        }
      }
      if (supports) {
        if (!item[4]) {
          item[4] = "".concat(supports);
        } else {
          item[1] = "@supports (".concat(item[4], ") {").concat(item[1], "}");
          item[4] = supports;
        }
      }
      list.push(item);
    }
  };
  return list;
};

//# sourceURL=webpack://AnyButton/./node_modules/css-loader/dist/runtime/api.js?`)},"./node_modules/css-loader/dist/runtime/getUrl.js":(module)=>{/*!********************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/getUrl.js ***!
  \********************************************************/eval(`

module.exports = function (url, options) {
  if (!options) {
    options = {};
  }
  if (!url) {
    return url;
  }
  url = String(url.__esModule ? url.default : url);

  // If url is already wrapped in quotes, remove them
  if (/^['"].*['"]$/.test(url)) {
    url = url.slice(1, -1);
  }
  if (options.hash) {
    url += options.hash;
  }

  // Should url be wrapped?
  // See https://drafts.csswg.org/css-values-3/#urls
  if (/["'() \\t\\n]|(%20)/.test(url) || options.needQuotes) {
    return "\\"".concat(url.replace(/"/g, '\\\\"').replace(/\\n/g, "\\\\n"), "\\"");
  }
  return url;
};

//# sourceURL=webpack://AnyButton/./node_modules/css-loader/dist/runtime/getUrl.js?`)},"./node_modules/css-loader/dist/runtime/noSourceMaps.js":(module)=>{/*!**************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/noSourceMaps.js ***!
  \**************************************************************/eval(`

module.exports = function (i) {
  return i[1];
};

//# sourceURL=webpack://AnyButton/./node_modules/css-loader/dist/runtime/noSourceMaps.js?`)},"./src/toolbox-icon.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{/*!******************************!*\
  !*** ./src/toolbox-icon.svg ***!
  \******************************/eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ("<svg xmlns=\\"http://www.w3.org/2000/svg\\" width=\\"36\\" height=\\"36\\" viewBox=\\"0 0 36 36\\" fill=\\"none\\">\\n  <rect x=\\"9\\" y=\\"9\\" width=\\"18\\" height=\\"18\\" rx=\\"3\\" fill=\\"black\\"/>\\n  <path d=\\"M25 16.2966H20.8875C20.8583 15.9861 20.7806 15.7044 20.6542 15.4515C20.5326 15.1987 20.3625 14.9813 20.1438 14.7994C19.9299 14.6131 19.6698 14.4712 19.3635 14.3736C19.0573 14.2715 18.7097 14.2205 18.3208 14.2205C17.6403 14.2205 17.0642 14.3714 16.5927 14.673C16.126 14.9747 15.7712 15.4072 15.5281 15.9705C15.2899 16.5339 15.1708 17.2104 15.1708 18C15.1708 18.834 15.2924 19.5326 15.5354 20.096C15.7833 20.6549 16.1406 21.0764 16.6073 21.3603C17.074 21.6397 17.6354 21.7795 18.2917 21.7795C18.666 21.7795 19.0014 21.7373 19.2979 21.653C19.5944 21.5643 19.8521 21.4379 20.0708 21.2738C20.2896 21.1096 20.467 20.9122 20.6031 20.6816C20.7441 20.4465 20.8389 20.1825 20.8875 19.8897L25 19.9163C24.9514 20.493 24.774 21.0808 24.4677 21.6797C24.1615 22.2741 23.7264 22.8241 23.1625 23.3298C22.6035 23.8311 21.9108 24.2348 21.0844 24.5409C20.258 24.847 19.2979 25 18.2042 25C16.8333 25 15.6035 24.7316 14.5146 24.1949C13.4306 23.6581 12.5726 22.8685 11.9406 21.826C11.3135 20.7836 11 19.5082 11 18C11 16.4829 11.3208 15.2053 11.9625 14.1673C12.6042 13.1248 13.4694 12.3375 14.5583 11.8051C15.6472 11.2684 16.8625 11 18.2042 11C19.1472 11 20.0149 11.1176 20.8073 11.3527C21.5997 11.5878 22.2948 11.9316 22.8927 12.384C23.4906 12.8321 23.9719 13.3843 24.3365 14.0409C24.701 14.6974 24.9222 15.4493 25 16.2966Z\\" fill=\\"white\\"/>\\n</svg>");

//# sourceURL=webpack://AnyButton/./src/toolbox-icon.svg?`)},"./src/index.scss":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{/*!************************!*\
  !*** ./src/index.scss ***!
  \************************/eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/dist/cjs.js!./index.scss */ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/index.scss");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());
options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_scss__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_scss__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


//# sourceURL=webpack://AnyButton/./src/index.scss?`)},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":(module)=>{/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/eval(`

var stylesInDOM = [];
function getIndexByIdentifier(identifier) {
  var result = -1;
  for (var i = 0; i < stylesInDOM.length; i++) {
    if (stylesInDOM[i].identifier === identifier) {
      result = i;
      break;
    }
  }
  return result;
}
function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];
  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var indexByIdentifier = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3],
      supports: item[4],
      layer: item[5]
    };
    if (indexByIdentifier !== -1) {
      stylesInDOM[indexByIdentifier].references++;
      stylesInDOM[indexByIdentifier].updater(obj);
    } else {
      var updater = addElementStyle(obj, options);
      options.byIndex = i;
      stylesInDOM.splice(i, 0, {
        identifier: identifier,
        updater: updater,
        references: 1
      });
    }
    identifiers.push(identifier);
  }
  return identifiers;
}
function addElementStyle(obj, options) {
  var api = options.domAPI(options);
  api.update(obj);
  var updater = function updater(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {
        return;
      }
      api.update(obj = newObj);
    } else {
      api.remove();
    }
  };
  return updater;
}
module.exports = function (list, options) {
  options = options || {};
  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];
    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDOM[index].references--;
    }
    var newLastIdentifiers = modulesToDom(newList, options);
    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];
      var _index = getIndexByIdentifier(_identifier);
      if (stylesInDOM[_index].references === 0) {
        stylesInDOM[_index].updater();
        stylesInDOM.splice(_index, 1);
      }
    }
    lastIdentifiers = newLastIdentifiers;
  };
};

//# sourceURL=webpack://AnyButton/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js?`)},"./node_modules/style-loader/dist/runtime/insertBySelector.js":(module)=>{/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/eval(`

var memo = {};

/* istanbul ignore next  */
function getTarget(target) {
  if (typeof memo[target] === "undefined") {
    var styleTarget = document.querySelector(target);

    // Special case to return head of iframe instead of iframe itself
    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
      try {
        // This will throw an exception if access to iframe is blocked
        // due to cross-origin restrictions
        styleTarget = styleTarget.contentDocument.head;
      } catch (e) {
        // istanbul ignore next
        styleTarget = null;
      }
    }
    memo[target] = styleTarget;
  }
  return memo[target];
}

/* istanbul ignore next  */
function insertBySelector(insert, style) {
  var target = getTarget(insert);
  if (!target) {
    throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
  }
  target.appendChild(style);
}
module.exports = insertBySelector;

//# sourceURL=webpack://AnyButton/./node_modules/style-loader/dist/runtime/insertBySelector.js?`)},"./node_modules/style-loader/dist/runtime/insertStyleElement.js":(module)=>{/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/eval(`

/* istanbul ignore next  */
function insertStyleElement(options) {
  var element = document.createElement("style");
  options.setAttributes(element, options.attributes);
  options.insert(element, options.options);
  return element;
}
module.exports = insertStyleElement;

//# sourceURL=webpack://AnyButton/./node_modules/style-loader/dist/runtime/insertStyleElement.js?`)},"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":(module,__unused_webpack_exports,__webpack_require__)=>{/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/eval(`

/* istanbul ignore next  */
function setAttributesWithoutAttributes(styleElement) {
  var nonce =  true ? __webpack_require__.nc : 0;
  if (nonce) {
    styleElement.setAttribute("nonce", nonce);
  }
}
module.exports = setAttributesWithoutAttributes;

//# sourceURL=webpack://AnyButton/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js?`)},"./node_modules/style-loader/dist/runtime/styleDomAPI.js":(module)=>{/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/eval(`

/* istanbul ignore next  */
function apply(styleElement, options, obj) {
  var css = "";
  if (obj.supports) {
    css += "@supports (".concat(obj.supports, ") {");
  }
  if (obj.media) {
    css += "@media ".concat(obj.media, " {");
  }
  var needLayer = typeof obj.layer !== "undefined";
  if (needLayer) {
    css += "@layer".concat(obj.layer.length > 0 ? " ".concat(obj.layer) : "", " {");
  }
  css += obj.css;
  if (needLayer) {
    css += "}";
  }
  if (obj.media) {
    css += "}";
  }
  if (obj.supports) {
    css += "}";
  }
  var sourceMap = obj.sourceMap;
  if (sourceMap && typeof btoa !== "undefined") {
    css += "\\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  }

  // For old IE
  /* istanbul ignore if  */
  options.styleTagTransform(css, styleElement, options.options);
}
function removeStyleElement(styleElement) {
  // istanbul ignore if
  if (styleElement.parentNode === null) {
    return false;
  }
  styleElement.parentNode.removeChild(styleElement);
}

/* istanbul ignore next  */
function domAPI(options) {
  if (typeof document === "undefined") {
    return {
      update: function update() {},
      remove: function remove() {}
    };
  }
  var styleElement = options.insertStyleElement(options);
  return {
    update: function update(obj) {
      apply(styleElement, options, obj);
    },
    remove: function remove() {
      removeStyleElement(styleElement);
    }
  };
}
module.exports = domAPI;

//# sourceURL=webpack://AnyButton/./node_modules/style-loader/dist/runtime/styleDomAPI.js?`)},"./node_modules/style-loader/dist/runtime/styleTagTransform.js":(module)=>{/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/eval(`

/* istanbul ignore next  */
function styleTagTransform(css, styleElement) {
  if (styleElement.styleSheet) {
    styleElement.styleSheet.cssText = css;
  } else {
    while (styleElement.firstChild) {
      styleElement.removeChild(styleElement.firstChild);
    }
    styleElement.appendChild(document.createTextNode(css));
  }
}
module.exports = styleTagTransform;

//# sourceURL=webpack://AnyButton/./node_modules/style-loader/dist/runtime/styleTagTransform.js?`)},'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"> <path d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12" stroke="black" stroke-width="2" stroke-linecap="round"/> <path d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72" stroke="black" stroke-width="2" stroke-linecap="round"/> </svg>':(module)=>{/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"> <path d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12" stroke="black" stroke-width="2" stroke-linecap="round"/> <path d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72" stroke="black" stroke-width="2" stroke-linecap="round"/> </svg> ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/eval(`module.exports = "data:image/svg+xml,<svg xmlns=\\"http://www.w3.org/2000/svg\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\"> <path d=\\"M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12\\" stroke=\\"black\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\"/> <path d=\\"M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72\\" stroke=\\"black\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\"/> </svg>";

//# sourceURL=webpack://AnyButton/data:image/svg+xml,%3Csvg_xmlns=%22http://www.w3.org/2000/svg%22_width=%2224%22_height=%2224%22_viewBox=%220_0_24_24%22_fill=%22none%22%3E_%3Cpath_d=%22M7.69998_12.6L7.67896_12.62C6.53993_13.7048_6.52012_15.5155_7.63516_16.625V16.625C8.72293_17.7073_10.4799_17.7102_11.5712_16.6314L13.0263_15.193C14.0703_14.1609_14.2141_12.525_13.3662_11.3266L13.22_11.12%22_stroke=%22black%22_stroke-width=%222%22_stroke-linecap=%22round%22/%3E_%3Cpath_d=%22M16.22_11.12L16.3564_10.9805C17.2895_10.0265_17.3478_8.5207_16.4914_7.49733V7.49733C15.5691_6.39509_13.9269_6.25143_12.8271_7.17675L11.3901_8.38588C10.0935_9.47674_9.95706_11.4241_11.0888_12.6852L11.12_12.72%22_stroke=%22black%22_stroke-width=%222%22_stroke-linecap=%22round%22/%3E_%3C/svg%3E?`)},'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"> <path d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14" stroke="black" stroke-width="2" stroke-linecap="round"/> </svg>':(module)=>{/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"> <path d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14" stroke="black" stroke-width="2" stroke-linecap="round"/> </svg> ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************/eval(`module.exports = "data:image/svg+xml,<svg xmlns=\\"http://www.w3.org/2000/svg\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\"> <path d=\\"M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14\\" stroke=\\"black\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\"/> </svg>";

//# sourceURL=webpack://AnyButton/data:image/svg+xml,%3Csvg_xmlns=%22http://www.w3.org/2000/svg%22_width=%2224%22_height=%2224%22_viewBox=%220_0_24_24%22_fill=%22none%22%3E_%3Cpath_d=%22M8_9V7.2C8_7.08954_8.08954_7_8.2_7L12_7M16_9V7.2C16_7.08954_15.9105_7_15.8_7L12_7M12_7L12_17M12_17H10M12_17H14%22_stroke=%22black%22_stroke-width=%222%22_stroke-linecap=%22round%22/%3E_%3C/svg%3E?`)}},__webpack_module_cache__={};function __webpack_require__(r){var c=__webpack_module_cache__[r];if(c!==void 0)return c.exports;var a=__webpack_module_cache__[r]={id:r,exports:{}};return __webpack_modules__[r](a,a.exports,__webpack_require__),a.exports}__webpack_require__.m=__webpack_modules__,(()=>{__webpack_require__.n=(r)=>{var c=r&&r.__esModule?()=>r.default:()=>r;return __webpack_require__.d(c,{a:c}),c}})(),(()=>{__webpack_require__.d=(r,c)=>{for(var a in c)if(__webpack_require__.o(c,a)&&!__webpack_require__.o(r,a))Object.defineProperty(r,a,{enumerable:!0,get:c[a]})}})(),(()=>{__webpack_require__.o=(r,c)=>Object.prototype.hasOwnProperty.call(r,c)})(),(()=>{__webpack_require__.r=(r)=>{if(typeof Symbol<"u"&&Symbol.toStringTag)Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});Object.defineProperty(r,"__esModule",{value:!0})}})(),(()=>{__webpack_require__.b=document.baseURI||self.location.href;var r={main:0}})(),(()=>{__webpack_require__.nc=void 0})();var __webpack_exports__=__webpack_require__("./src/index.js");return __webpack_exports__=__webpack_exports__.default,__webpack_exports__})()})});var Rh=kc((sa,Wu)=>{/*! For license information please see bundle.js.LICENSE.txt */(function(r,c){typeof sa=="object"&&typeof Wu=="object"?Wu.exports=c():typeof define=="function"&&define.amd?define([],c):typeof sa=="object"?sa.Alert=c():r.Alert=c()})(self,()=>(()=>{var r={800:(u,f,o)=>{o.d(f,{Z:()=>v});var h=o(81),l=o.n(h),p=o(645),y=o.n(p)()(l());y.push([u.id,".cdx-alert{position:relative;padding:10px;border-radius:5px;margin-bottom:10px}.cdx-alert-primary{background-color:#ebf8ff;border:1px solid #4299e1;color:#2b6cb0}.cdx-alert-secondary{background-color:#f7fafc;border:1px solid #cbd5e0;color:#222731}.cdx-alert-info{background-color:#e6fdff;border:1px solid #4cd4ce;color:#00727c}.cdx-alert-success{background-color:#f0fff4;border:1px solid #68d391;color:#2f855a}.cdx-alert-warning{background-color:#fffaf0;border:1px solid #ed8936;color:#c05621}.cdx-alert-danger{background-color:#fff5f5;border:1px solid #fc8181;color:#c53030}.cdx-alert-light{background-color:#fff;border:1px solid #edf2f7;color:#1a202c}.cdx-alert-dark{background-color:#2d3748;border:1px solid #1a202c;color:#d3d3d3}.cdx-alert-align-left{text-align:left}.cdx-alert-align-center{text-align:center}.cdx-alert-align-right{text-align:right}.cdx-alert__message{outline:none}.cdx-alert [contentEditable=true][data-placeholder]::before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:normal;opacity:0}.cdx-alert [contentEditable=true][data-placeholder]:empty::before{opacity:1}.cdx-alert [contentEditable=true][data-placeholder]:empty:focus::before{opacity:0}.ce-popover__item[data-item-name=alert-primary] .ce-popover__item-icon svg #background{fill:#ebf8ff;stroke:#4299e1}.ce-popover__item[data-item-name=alert-primary] .ce-popover__item-icon svg #content{fill:#2b6cb0}.ce-popover__item[data-item-name=alert-secondary] .ce-popover__item-icon svg #background{fill:#f7fafc;stroke:#cbd5e0}.ce-popover__item[data-item-name=alert-secondary] .ce-popover__item-icon svg #content{fill:#222731}.ce-popover__item[data-item-name=alert-info] .ce-popover__item-icon svg #background{fill:#e6fdff;stroke:#4cd4ce}.ce-popover__item[data-item-name=alert-info] .ce-popover__item-icon svg #content{fill:#00727c}.ce-popover__item[data-item-name=alert-success] .ce-popover__item-icon svg #background{fill:#f0fff4;stroke:#68d391}.ce-popover__item[data-item-name=alert-success] .ce-popover__item-icon svg #content{fill:#2f855a}.ce-popover__item[data-item-name=alert-warning] .ce-popover__item-icon svg #background{fill:#fffaf0;stroke:#ed8936}.ce-popover__item[data-item-name=alert-warning] .ce-popover__item-icon svg #content{fill:#c05621}.ce-popover__item[data-item-name=alert-danger] .ce-popover__item-icon svg #background{fill:#fff5f5;stroke:#fc8181}.ce-popover__item[data-item-name=alert-danger] .ce-popover__item-icon svg #content{fill:#c53030}.ce-popover__item[data-item-name=alert-light] .ce-popover__item-icon svg #background{fill:#fff;stroke:#edf2f7}.ce-popover__item[data-item-name=alert-light] .ce-popover__item-icon svg #content{fill:#1a202c}.ce-popover__item[data-item-name=alert-dark] .ce-popover__item-icon svg #background{fill:#2d3748;stroke:#1a202c}.ce-popover__item[data-item-name=alert-dark] .ce-popover__item-icon svg #content{fill:#d3d3d3}",""]);let v=y},645:(u)=>{u.exports=function(f){var o=[];return o.toString=function(){return this.map(function(h){var l="",p=h[5]!==void 0;return h[4]&&(l+="@supports (".concat(h[4],") {")),h[2]&&(l+="@media ".concat(h[2]," {")),p&&(l+="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {")),l+=f(h),p&&(l+="}"),h[2]&&(l+="}"),h[4]&&(l+="}"),l}).join("")},o.i=function(h,l,p,y,v){typeof h=="string"&&(h=[[null,h,void 0]]);var x={};if(p)for(var O=0;O<this.length;O++){var k=this[O][0];k!=null&&(x[k]=!0)}for(var i=0;i<h.length;i++){var g=[].concat(h[i]);p&&x[g[0]]||(v!==void 0&&(g[5]===void 0||(g[1]="@layer".concat(g[5].length>0?" ".concat(g[5]):""," {").concat(g[1],"}")),g[5]=v),l&&(g[2]?(g[1]="@media ".concat(g[2]," {").concat(g[1],"}"),g[2]=l):g[2]=l),y&&(g[4]?(g[1]="@supports (".concat(g[4],") {").concat(g[1],"}"),g[4]=y):g[4]="".concat(y)),o.push(g))}},o}},81:(u)=>{u.exports=function(f){return f[1]}},620:(u,f,o)=>{var h=o(379),l=o.n(h),p=o(795),y=o.n(p),v=o(569),x=o.n(v),O=o(565),k=o.n(O),i=o(216),g=o.n(i),b=o(589),A=o.n(b),P=o(800),S={};S.styleTagTransform=A(),S.setAttributes=k(),S.insert=x().bind(null,"head"),S.domAPI=y(),S.insertStyleElement=g(),l()(P.Z,S),P.Z&&P.Z.locals&&P.Z.locals},379:(u)=>{var f=[];function o(p){for(var y=-1,v=0;v<f.length;v++)if(f[v].identifier===p){y=v;break}return y}function h(p,y){for(var v={},x=[],O=0;O<p.length;O++){var k=p[O],i=y.base?k[0]+y.base:k[0],g=v[i]||0,b="".concat(i," ").concat(g);v[i]=g+1;var A=o(b),P={css:k[1],media:k[2],sourceMap:k[3],supports:k[4],layer:k[5]};if(A!==-1)f[A].references++,f[A].updater(P);else{var S=l(P,y);y.byIndex=O,f.splice(O,0,{identifier:b,updater:S,references:1})}x.push(b)}return x}function l(p,y){var v=y.domAPI(y);return v.update(p),function(x){if(x){if(x.css===p.css&&x.media===p.media&&x.sourceMap===p.sourceMap&&x.supports===p.supports&&x.layer===p.layer)return;v.update(p=x)}else v.remove()}}u.exports=function(p,y){var v=h(p=p||[],y=y||{});return function(x){x=x||[];for(var O=0;O<v.length;O++){var k=o(v[O]);f[k].references--}for(var i=h(x,y),g=0;g<v.length;g++){var b=o(v[g]);f[b].references===0&&(f[b].updater(),f.splice(b,1))}v=i}}},569:(u)=>{var f={};u.exports=function(o,h){var l=function(p){if(f[p]===void 0){var y=document.querySelector(p);if(window.HTMLIFrameElement&&y instanceof window.HTMLIFrameElement)try{y=y.contentDocument.head}catch(v){y=null}f[p]=y}return f[p]}(o);if(!l)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");l.appendChild(h)}},216:(u)=>{u.exports=function(f){var o=document.createElement("style");return f.setAttributes(o,f.attributes),f.insert(o,f.options),o}},565:(u,f,o)=>{u.exports=function(h){var l=o.nc;l&&h.setAttribute("nonce",l)}},795:(u)=>{u.exports=function(f){if(typeof document>"u")return{update:function(){},remove:function(){}};var o=f.insertStyleElement(f);return{update:function(h){(function(l,p,y){var v="";y.supports&&(v+="@supports (".concat(y.supports,") {")),y.media&&(v+="@media ".concat(y.media," {"));var x=y.layer!==void 0;x&&(v+="@layer".concat(y.layer.length>0?" ".concat(y.layer):""," {")),v+=y.css,x&&(v+="}"),y.media&&(v+="}"),y.supports&&(v+="}");var O=y.sourceMap;O&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(O))))," */")),p.styleTagTransform(v,l,p.options)})(o,f,h)},remove:function(){(function(h){if(h.parentNode===null)return!1;h.parentNode.removeChild(h)})(o)}}}},589:(u)=>{u.exports=function(f,o){if(o.styleSheet)o.styleSheet.cssText=f;else{for(;o.firstChild;)o.removeChild(o.firstChild);o.appendChild(document.createTextNode(f))}}},749:(u)=>{u.exports='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"></path><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"></path><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"></path></svg>'},454:(u)=>{u.exports='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"></path><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"></path><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"></path></svg>'},431:(u)=>{u.exports='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 7L7 7"></path><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17H7"></path><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 12L11 12"></path></svg>'},654:(u)=>{u.exports='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5 12a7 7 90 0 1 14 0 7 7 90 0 1-14 0zM12 9.02v-.01M12 12v3"></path></svg>'},338:(u)=>{u.exports='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><rect id="background" width="18" height="18" x="3" y="3" fill="none" stroke="currentColor" stroke-width="1" rx="4"></rect><path id="content" fill="currentColor" stroke-width="0" d="m15.579 16.9-1.042-2.25H10.15L9.11 16.9H7.113L11.697 7h1.266l4.612 9.9h-1.998Zm-4.613-4.05h2.755l-1.377-2.953-1.379 2.953Z"></path></svg>'}},c={};function a(u){var f=c[u];if(f!==void 0)return f.exports;var o=c[u]={id:u,exports:{}};return r[u](o,o.exports,a),o.exports}a.n=(u)=>{var f=u&&u.__esModule?()=>u.default:()=>u;return a.d(f,{a:f}),f},a.d=(u,f)=>{for(var o in f)a.o(f,o)&&!a.o(u,o)&&Object.defineProperty(u,o,{enumerable:!0,get:f[o]})},a.o=(u,f)=>Object.prototype.hasOwnProperty.call(u,f),a.nc=void 0;var n={};return(()=>{a.d(n,{default:()=>N});var u=a(654),f=a.n(u),o=a(338),h=a.n(o),l=a(454),p=a.n(l),y=a(749),v=a.n(y),x=a(431),O=a.n(x);function k(G){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},k(G)}function i(G,L){var s=Object.keys(G);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(G);L&&(j=j.filter(function(U){return Object.getOwnPropertyDescriptor(G,U).enumerable})),s.push.apply(s,j)}return s}function g(G){for(var L=1;L<arguments.length;L++){var s=arguments[L]!=null?arguments[L]:{};L%2?i(Object(s),!0).forEach(function(j){b(G,j,s[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach(function(j){Object.defineProperty(G,j,Object.getOwnPropertyDescriptor(s,j))})}return G}function b(G,L,s){return(L=d(L))in G?Object.defineProperty(G,L,{value:s,enumerable:!0,configurable:!0,writable:!0}):G[L]=s,G}function A(G){return function(L){if(Array.isArray(L))return P(L)}(G)||function(L){if(typeof Symbol<"u"&&L[Symbol.iterator]!=null||L["@@iterator"]!=null)return Array.from(L)}(G)||function(L,s){if(L){if(typeof L=="string")return P(L,s);var j=Object.prototype.toString.call(L).slice(8,-1);return j==="Object"&&L.constructor&&(j=L.constructor.name),j==="Map"||j==="Set"?Array.from(L):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?P(L,s):void 0}}(G)||function(){throw TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function P(G,L){(L==null||L>G.length)&&(L=G.length);for(var s=0,j=Array(L);s<L;s++)j[s]=G[s];return j}function S(G,L){for(var s=0;s<L.length;s++){var j=L[s];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(G,d(j.key),j)}}function d(G){var L=function(s,j){if(k(s)!=="object"||s===null)return s;var U=s[Symbol.toPrimitive];if(U!==void 0){var B=U.call(s,"string");if(k(B)!=="object")return B;throw TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(G);return k(L)==="symbol"?L:String(L)}a(620).toString();var N=function(){function G(U){var{data:B,config:J,api:H,readOnly:W}=U;(function(_,t){if(!(_ instanceof t))throw TypeError("Cannot call a class as a function")})(this,G),this.api=H,this.alertTypes=J.alertTypes||G.ALERT_TYPES,this.defaultType=J.defaultType||G.DEFAULT_TYPE,this.defaultAlign=J.defaultAlign||G.DEFAULT_ALIGN_TYPE,this.messagePlaceholder=J.messagePlaceholder||G.DEFAULT_MESSAGE_PLACEHOLDER,this.data={type:this.alertTypes.includes(B.type)?B.type:this.defaultType,align:G.ALIGN_TYPES.includes(B.align)?B.align:this.defaultAlign,message:B.message||""},this.container=void 0,this.readOnly=W}var L,s,j;return L=G,s=[{key:"CSS",get:function(){return{wrapper:"cdx-alert",wrapperForType:function(U){return"cdx-alert-".concat(U)},wrapperForAlignType:function(U){return"cdx-alert-align-".concat(U)},message:"cdx-alert__message"}}},{key:"render",value:function(){var U=[this.CSS.wrapper,this.CSS.wrapperForType(this.data.type),this.CSS.wrapperForAlignType(this.data.align)];this.container=this._make("div",U);var B=this._make("div",[this.CSS.message],{contentEditable:!this.readOnly,innerHTML:this.data.message});return B.dataset.placeholder=this.messagePlaceholder,this.container.appendChild(B),this.container}},{key:"renderSettings",value:function(){var U=this,B=this.alertTypes.map(function(H){return{icon:h(),name:"alert-".concat(H),label:U._getFormattedName(H),toggle:"alert",isActive:U.data.type===H,onActivate:function(){U._changeAlertType(H)}}}),J=G.ALIGN_TYPES.map(function(H){return{icon:H=="left"?p():H=="center"?v():H=="right"?O():IconAlign_left,name:"align-".concat(H),label:U._getFormattedName(H),toggle:"align",isActive:U.data.align===H,onActivate:function(){U._changeAlignType(H)}}});return[].concat(A(B),A(J))}},{key:"_getFormattedName",value:function(U){return this.api.i18n.t(U.charAt(0).toUpperCase()+U.slice(1))}},{key:"_changeAlertType",value:function(U){var B=this;this.data.type=U,this.alertTypes.forEach(function(J){var H=B.CSS.wrapperForType(J);B.container.classList.remove(H),U===J&&B.container.classList.add(H)})}},{key:"_changeAlignType",value:function(U){var B=this;this.data.align=U,G.ALIGN_TYPES.forEach(function(J){var H=B.CSS.wrapperForAlignType(J);B.container.classList.remove(H),U===J&&B.container.classList.add(H)})}},{key:"save",value:function(U){var B=U.querySelector(".".concat(this.CSS.message));return g(g({},this.data),{},{message:B.innerHTML})}},{key:"_make",value:function(U){var B,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},W=document.createElement(U);for(var _ in Array.isArray(J)?(B=W.classList).add.apply(B,A(J)):J&&W.classList.add(J),H)W[_]=H[_];return W}},{key:"onPaste",value:function(U){var B=U.detail.data;this.data={type:this.defaultType,message:B.innerHTML||""}}}],j=[{key:"toolbox",get:function(){return{icon:f(),title:"Alert"}}},{key:"enableLineBreaks",get:function(){return!0}},{key:"DEFAULT_TYPE",get:function(){return"info"}},{key:"DEFAULT_ALIGN_TYPE",get:function(){return"left"}},{key:"DEFAULT_MESSAGE_PLACEHOLDER",get:function(){return"Type here..."}},{key:"ALERT_TYPES",get:function(){return["primary","secondary","info","success","warning","danger","light","dark"]}},{key:"ALIGN_TYPES",get:function(){return["left","center","right"]}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"conversionConfig",get:function(){var U=this;return{export:function(B){return B.message},import:function(B){return{message:B,type:U.DEFAULT_TYPE,alignType:U.DEFAULT_ALIGN_TYPE}}}}},{key:"sanitize",get:function(){return{message:!0,type:!1,alignType:!1}}}],s&&S(L.prototype,s),j&&S(L,j),Object.defineProperty(L,"prototype",{writable:!1}),G}()})(),n.default})())});var Yh=kc((Br,Kr)=>{(function(c,a){if(typeof Br==="object"&&typeof Kr==="object")Kr.exports=a();else if(typeof define==="function"&&define.amd)define([],a);else if(typeof Br==="object")Br.Hyperlink=a();else c.Hyperlink=a()})(window,function(){return function(r){var c={};function a(n){if(c[n])return c[n].exports;var u=c[n]={i:n,l:!1,exports:{}};return r[n].call(u.exports,u,u.exports,a),u.l=!0,u.exports}return a.m=r,a.c=c,a.d=function(n,u,f){if(!a.o(n,u))Object.defineProperty(n,u,{enumerable:!0,get:f})},a.r=function(n){if(typeof Symbol<"u"&&Symbol.toStringTag)Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});Object.defineProperty(n,"__esModule",{value:!0})},a.t=function(n,u){if(u&1)n=a(n);if(u&8)return n;if(u&4&&typeof n==="object"&&n&&n.__esModule)return n;var f=Object.create(null);if(a.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:n}),u&2&&typeof n!="string")for(var o in n)a.d(f,o,function(h){return n[h]}.bind(null,o));return f},a.n=function(n){var u=n&&n.__esModule?function(){return n.default}:function(){return n};return a.d(u,"a",u),u},a.o=function(n,u){return Object.prototype.hasOwnProperty.call(n,u)},a.p="/",a(a.s="./src/Hyperlink.js")}({"./node_modules/css-loader/dist/cjs.js!./src/Hyperlink.css":function(module,exports,__webpack_require__){/*!*****************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/Hyperlink.css ***!
  \*****************************************************************//*! no static exports found */eval(`// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".ce-inline-tool-hyperlink-wrapper {\\r\\n    outline: none;\\r\\n    border: 0;\\r\\n    border-radius: 0 0 4px 4px;\\r\\n    margin: 0;\\r\\n    font-size: 13px;\\r\\n    padding: 10px;\\r\\n    width: 100%;\\r\\n    -webkit-box-sizing: border-box;\\r\\n    box-sizing: border-box;\\r\\n    display: none;\\r\\n    font-weight: 500;\\r\\n    border-top: 1px solid rgba(201,201,204,.48);\\r\\n}\\r\\n\\r\\n.ce-inline-tool-hyperlink-wrapper.ce-inline-tool-hyperlink-wrapper--showed {\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.ce-inline-tool-hyperlink--input,\\r\\n.ce-inline-tool-hyperlink--select-target,\\r\\n.ce-inline-tool-hyperlink--select-rel {\\r\\n    border: 1px solid rgba(201,201,204,.48);\\r\\n    -webkit-box-shadow: inset 0 1px 2px 0 rgba(35,44,72,.06);\\r\\n    box-shadow: inset 0 1px 2px 0 rgba(35,44,72,.06);\\r\\n    border-radius: 5px;\\r\\n    padding: 5px 8px;\\r\\n    margin-bottom: 10px;\\r\\n    outline: none;\\r\\n    width: 100%;\\r\\n    -webkit-box-sizing: border-box;\\r\\n    box-sizing: border-box;\\r\\n}\\r\\n\\r\\n.ce-inline-tool-hyperlink--select-target,\\r\\n.ce-inline-tool-hyperlink--select-rel {\\r\\n    width: 48%;\\r\\n    display: inline-block;\\r\\n}\\r\\n.ce-inline-tool-hyperlink--select-target {\\r\\n    margin-right: 2%;\\r\\n}\\r\\n.ce-inline-tool-hyperlink--select-rel {\\r\\n    margin-left: 2%;\\r\\n}\\r\\n\\r\\n.ce-inline-tool-hyperlink--button {\\r\\n    display: block;\\r\\n    width: 100%;\\r\\n    background-color: #34c38f;\\r\\n    color: #fff;\\r\\n    padding: 7px 0;\\r\\n    border: none;\\r\\n    text-align: center;\\r\\n    text-decoration: none;\\r\\n    font-size: 16px;\\r\\n    border-radius: 5px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n", ""]);
// Exports
module.exports = exports;


//# sourceURL=webpack://Hyperlink/./src/Hyperlink.css?./node_modules/css-loader/dist/cjs.js`)},"./node_modules/css-loader/dist/runtime/api.js":function(module,exports,__webpack_require__){/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************//*! no static exports found */eval(`

/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
// eslint-disable-next-line func-names
module.exports = function (useSourceMap) {
  var list = []; // return the list of modules as css string

  list.toString = function toString() {
    return this.map(function (item) {
      var content = cssWithMappingToString(item, useSourceMap);

      if (item[2]) {
        return "@media ".concat(item[2], " {").concat(content, "}");
      }

      return content;
    }).join('');
  }; // import a list of modules into the list
  // eslint-disable-next-line func-names


  list.i = function (modules, mediaQuery, dedupe) {
    if (typeof modules === 'string') {
      // eslint-disable-next-line no-param-reassign
      modules = [[null, modules, '']];
    }

    var alreadyImportedModules = {};

    if (dedupe) {
      for (var i = 0; i < this.length; i++) {
        // eslint-disable-next-line prefer-destructuring
        var id = this[i][0];

        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }

    for (var _i = 0; _i < modules.length; _i++) {
      var item = [].concat(modules[_i]);

      if (dedupe && alreadyImportedModules[item[0]]) {
        // eslint-disable-next-line no-continue
        continue;
      }

      if (mediaQuery) {
        if (!item[2]) {
          item[2] = mediaQuery;
        } else {
          item[2] = "".concat(mediaQuery, " and ").concat(item[2]);
        }
      }

      list.push(item);
    }
  };

  return list;
};

function cssWithMappingToString(item, useSourceMap) {
  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring

  var cssMapping = item[3];

  if (!cssMapping) {
    return content;
  }

  if (useSourceMap && typeof btoa === 'function') {
    var sourceMapping = toComment(cssMapping);
    var sourceURLs = cssMapping.sources.map(function (source) {
      return "/*# sourceURL=".concat(cssMapping.sourceRoot || '').concat(source, " */");
    });
    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');
  }

  return [content].join('\\n');
} // Adapted from convert-source-map (MIT)


function toComment(sourceMap) {
  // eslint-disable-next-line no-undef
  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));
  var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
  return "/*# ".concat(data, " */");
}

//# sourceURL=webpack://Hyperlink/./node_modules/css-loader/dist/runtime/api.js?`)},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":function(module,exports,__webpack_require__){/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************//*! no static exports found */eval(`

var isOldIE = function isOldIE() {
  var memo;
  return function memorize() {
    if (typeof memo === 'undefined') {
      // Test for IE <= 9 as proposed by Browserhacks
      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805
      // Tests for existence of standard globals is to allow style-loader
      // to operate correctly into non-standard environments
      // @see https://github.com/webpack-contrib/style-loader/issues/177
      memo = Boolean(window && document && document.all && !window.atob);
    }

    return memo;
  };
}();

var getTarget = function getTarget() {
  var memo = {};
  return function memorize(target) {
    if (typeof memo[target] === 'undefined') {
      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself

      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
        try {
          // This will throw an exception if access to iframe is blocked
          // due to cross-origin restrictions
          styleTarget = styleTarget.contentDocument.head;
        } catch (e) {
          // istanbul ignore next
          styleTarget = null;
        }
      }

      memo[target] = styleTarget;
    }

    return memo[target];
  };
}();

var stylesInDom = [];

function getIndexByIdentifier(identifier) {
  var result = -1;

  for (var i = 0; i < stylesInDom.length; i++) {
    if (stylesInDom[i].identifier === identifier) {
      result = i;
      break;
    }
  }

  return result;
}

function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];

  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var index = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3]
    };

    if (index !== -1) {
      stylesInDom[index].references++;
      stylesInDom[index].updater(obj);
    } else {
      stylesInDom.push({
        identifier: identifier,
        updater: addStyle(obj, options),
        references: 1
      });
    }

    identifiers.push(identifier);
  }

  return identifiers;
}

function insertStyleElement(options) {
  var style = document.createElement('style');
  var attributes = options.attributes || {};

  if (typeof attributes.nonce === 'undefined') {
    var nonce =  true ? __webpack_require__.nc : undefined;

    if (nonce) {
      attributes.nonce = nonce;
    }
  }

  Object.keys(attributes).forEach(function (key) {
    style.setAttribute(key, attributes[key]);
  });

  if (typeof options.insert === 'function') {
    options.insert(style);
  } else {
    var target = getTarget(options.insert || 'head');

    if (!target) {
      throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
    }

    target.appendChild(style);
  }

  return style;
}

function removeStyleElement(style) {
  // istanbul ignore if
  if (style.parentNode === null) {
    return false;
  }

  style.parentNode.removeChild(style);
}
/* istanbul ignore next  */


var replaceText = function replaceText() {
  var textStore = [];
  return function replace(index, replacement) {
    textStore[index] = replacement;
    return textStore.filter(Boolean).join('\\n');
  };
}();

function applyToSingletonTag(style, index, remove, obj) {
  var css = remove ? '' : obj.media ? "@media ".concat(obj.media, " {").concat(obj.css, "}") : obj.css; // For old IE

  /* istanbul ignore if  */

  if (style.styleSheet) {
    style.styleSheet.cssText = replaceText(index, css);
  } else {
    var cssNode = document.createTextNode(css);
    var childNodes = style.childNodes;

    if (childNodes[index]) {
      style.removeChild(childNodes[index]);
    }

    if (childNodes.length) {
      style.insertBefore(cssNode, childNodes[index]);
    } else {
      style.appendChild(cssNode);
    }
  }
}

function applyToTag(style, options, obj) {
  var css = obj.css;
  var media = obj.media;
  var sourceMap = obj.sourceMap;

  if (media) {
    style.setAttribute('media', media);
  } else {
    style.removeAttribute('media');
  }

  if (sourceMap && typeof btoa !== 'undefined') {
    css += "\\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  } // For old IE

  /* istanbul ignore if  */


  if (style.styleSheet) {
    style.styleSheet.cssText = css;
  } else {
    while (style.firstChild) {
      style.removeChild(style.firstChild);
    }

    style.appendChild(document.createTextNode(css));
  }
}

var singleton = null;
var singletonCounter = 0;

function addStyle(obj, options) {
  var style;
  var update;
  var remove;

  if (options.singleton) {
    var styleIndex = singletonCounter++;
    style = singleton || (singleton = insertStyleElement(options));
    update = applyToSingletonTag.bind(null, style, styleIndex, false);
    remove = applyToSingletonTag.bind(null, style, styleIndex, true);
  } else {
    style = insertStyleElement(options);
    update = applyToTag.bind(null, style, options);

    remove = function remove() {
      removeStyleElement(style);
    };
  }

  update(obj);
  return function updateStyle(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {
        return;
      }

      update(obj = newObj);
    } else {
      remove();
    }
  };
}

module.exports = function (list, options) {
  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
  // tags it will allow on a page

  if (!options.singleton && typeof options.singleton !== 'boolean') {
    options.singleton = isOldIE();
  }

  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];

    if (Object.prototype.toString.call(newList) !== '[object Array]') {
      return;
    }

    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDom[index].references--;
    }

    var newLastIdentifiers = modulesToDom(newList, options);

    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];

      var _index = getIndexByIdentifier(_identifier);

      if (stylesInDom[_index].references === 0) {
        stylesInDom[_index].updater();

        stylesInDom.splice(_index, 1);
      }
    }

    lastIdentifiers = newLastIdentifiers;
  };
};

//# sourceURL=webpack://Hyperlink/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js?`)},"./src/Hyperlink.css":function(module,exports,__webpack_require__){/*!***************************!*\
  !*** ./src/Hyperlink.css ***!
  \***************************//*! no static exports found */eval(`var api = __webpack_require__(/*! ../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
            var content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js!./Hyperlink.css */ "./node_modules/css-loader/dist/cjs.js!./src/Hyperlink.css");

            content = content.__esModule ? content.default : content;

            if (typeof content === 'string') {
              content = [[module.i, content, '']];
            }

var options = {};

options.insert = "head";
options.singleton = false;

var update = api(content, options);



module.exports = content.locals || {};

//# sourceURL=webpack://Hyperlink/./src/Hyperlink.css?`)},"./src/Hyperlink.js":function(module,__webpack_exports__,__webpack_require__){/*!**************************!*\
  !*** ./src/Hyperlink.js ***!
  \**************************//*! exports provided: default */eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Hyperlink; });
/* harmony import */ var _SelectionUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SelectionUtils */ "./src/SelectionUtils.js");
/* harmony import */ var _Hyperlink_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Hyperlink.css */ "./src/Hyperlink.css");
/* harmony import */ var _Hyperlink_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_Hyperlink_css__WEBPACK_IMPORTED_MODULE_1__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }




var Hyperlink = /*#__PURE__*/function () {
  function Hyperlink(_ref) {
    var data = _ref.data,
        config = _ref.config,
        api = _ref.api,
        readOnly = _ref.readOnly;

    _classCallCheck(this, Hyperlink);

    this.toolbar = api.toolbar;
    this.inlineToolbar = api.inlineToolbar;
    this.tooltip = api.tooltip;
    this.i18n = api.i18n;
    this.config = config;
    this.selection = new _SelectionUtils__WEBPACK_IMPORTED_MODULE_0__["default"]();
    this.commandLink = 'createLink';
    this.commandUnlink = 'unlink';
    this.CSS = {
      wrapper: 'ce-inline-tool-hyperlink-wrapper',
      wrapperShowed: 'ce-inline-tool-hyperlink-wrapper--showed',
      button: 'ce-inline-tool',
      buttonActive: 'ce-inline-tool--active',
      buttonModifier: 'ce-inline-tool--link',
      buttonUnlink: 'ce-inline-tool--unlink',
      input: 'ce-inline-tool-hyperlink--input',
      selectTarget: 'ce-inline-tool-hyperlink--select-target',
      selectRel: 'ce-inline-tool-hyperlink--select-rel',
      buttonSave: 'ce-inline-tool-hyperlink--button'
    };
    this.targetAttributes = this.config.availableTargets || ['_blank', // Opens the linked document in a new window or tab
    '_self', // Opens the linked document in the same frame as it was clicked (this is default)
    '_parent', // Opens the linked document in the parent frame
    '_top' // Opens the linked document in the full body of the window
    ];
    this.relAttributes = this.config.availableRels || ['alternate', //Provides a link to an alternate representation of the document (i.e. print page, translated or mirror)
    'author', //Provides a link to the author of the document
    'bookmark', //Permanent URL used for bookmarking
    'external', //Indicates that the referenced document is not part of the same site as the current document
    'help', //Provides a link to a help document
    'license', //Provides a link to licensing information for the document
    'next', //Provides a link to the next document in the series
    'nofollow', //Links to an unendorsed document, like a paid link. ("nofollow" is used by Google, to specify that the Google search spider should not follow that link)
    'noreferrer', //Requires that the browser should not send an HTTP referer header if the user follows the hyperlink
    'noopener', //Requires that any browsing context created by following the hyperlink must not have an opener browsing context
    'prev', //The previous document in a selection
    'search', //Links to a search tool for the document
    'tag' //A tag (keyword) for the current document
    ];
    this.nodes = {
      button: null,
      wrapper: null,
      input: null,
      selectTarget: null,
      selectRel: null,
      buttonSave: null
    };
    this.inputOpened = false;
  }

  _createClass(Hyperlink, [{
    key: "render",
    value: function render() {
      this.nodes.button = document.createElement('button');
      this.nodes.button.type = 'button';
      this.nodes.button.classList.add(this.CSS.button, this.CSS.buttonModifier);
      this.nodes.button.appendChild(this.iconSvg('link', 14, 10));
      this.nodes.button.appendChild(this.iconSvg('unlink', 15, 11));
      return this.nodes.button;
    }
  }, {
    key: "renderActions",
    value: function renderActions() {
      var _this = this;

      this.nodes.wrapper = document.createElement('div');
      this.nodes.wrapper.classList.add(this.CSS.wrapper); // Input

      this.nodes.input = document.createElement('input');
      this.nodes.input.placeholder = 'https://...';
      this.nodes.input.classList.add(this.CSS.input);
      var i; // Target

      this.nodes.selectTarget = document.createElement('select');
      this.nodes.selectTarget.classList.add(this.CSS.selectTarget);
      this.addOption(this.nodes.selectTarget, this.i18n.t('Select target'), '');

      for (i = 0; i < this.targetAttributes.length; i++) {
        this.addOption(this.nodes.selectTarget, this.targetAttributes[i], this.targetAttributes[i]);
      }

      if (!!this.config.target) {
        this.nodes.selectTarget.value = this.config.target;
      } // Rel


      this.nodes.selectRel = document.createElement('select');
      this.nodes.selectRel.classList.add(this.CSS.selectRel);
      this.addOption(this.nodes.selectRel, this.i18n.t('Select rel'), '');

      for (i = 0; i < this.relAttributes.length; i++) {
        this.addOption(this.nodes.selectRel, this.relAttributes[i], this.relAttributes[i]);
      }

      if (!!this.config.rel) {
        this.nodes.selectRel.value = this.config.rel;
      } // Button


      this.nodes.buttonSave = document.createElement('button');
      this.nodes.buttonSave.type = 'button';
      this.nodes.buttonSave.classList.add(this.CSS.buttonSave);
      this.nodes.buttonSave.innerHTML = this.i18n.t('Save');
      this.nodes.buttonSave.addEventListener('click', function (event) {
        _this.savePressed(event);
      }); // append

      this.nodes.wrapper.appendChild(this.nodes.input);
      this.nodes.wrapper.appendChild(this.nodes.selectTarget);
      this.nodes.wrapper.appendChild(this.nodes.selectRel);
      this.nodes.wrapper.appendChild(this.nodes.buttonSave);
      return this.nodes.wrapper;
    }
  }, {
    key: "surround",
    value: function surround(range) {
      if (range) {
        if (!this.inputOpened) {
          this.selection.setFakeBackground();
          this.selection.save();
        } else {
          this.selection.restore();
          this.selection.removeFakeBackground();
        }

        var parentAnchor = this.selection.findParentTag('A');

        if (parentAnchor) {
          this.selection.expandToTag(parentAnchor);
          this.unlink();
          this.closeActions();
          this.checkState();
          this.toolbar.close();
          return;
        }
      }

      this.toggleActions();
    }
  }, {
    key: "checkState",
    value: function checkState() {
      var selection = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
      var anchorTag = this.selection.findParentTag('A');

      if (anchorTag) {
        this.nodes.button.classList.add(this.CSS.buttonUnlink);
        this.nodes.button.classList.add(this.CSS.buttonActive);
        this.openActions();
        var hrefAttr = anchorTag.getAttribute('href');
        var targetAttr = anchorTag.getAttribute('target');
        var relAttr = anchorTag.getAttribute('rel');
        this.nodes.input.value = !!hrefAttr ? hrefAttr : '';
        this.nodes.selectTarget.value = !!targetAttr ? targetAttr : '';
        this.nodes.selectRel.value = !!relAttr ? relAttr : '';
        this.selection.save();
      } else {
        this.nodes.button.classList.remove(this.CSS.buttonUnlink);
        this.nodes.button.classList.remove(this.CSS.buttonActive);
      }

      return !!anchorTag;
    }
  }, {
    key: "clear",
    value: function clear() {
      this.closeActions();
    }
  }, {
    key: "toggleActions",
    value: function toggleActions() {
      if (!this.inputOpened) {
        this.openActions(true);
      } else {
        this.closeActions(false);
      }
    }
  }, {
    key: "openActions",
    value: function openActions() {
      var needFocus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
      this.nodes.wrapper.classList.add(this.CSS.wrapperShowed);

      if (needFocus) {
        this.nodes.input.focus();
      }

      this.inputOpened = true;
    }
  }, {
    key: "closeActions",
    value: function closeActions() {
      var clearSavedSelection = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;

      if (this.selection.isFakeBackgroundEnabled) {
        var currentSelection = new _SelectionUtils__WEBPACK_IMPORTED_MODULE_0__["default"]();
        currentSelection.save();
        this.selection.restore();
        this.selection.removeFakeBackground();
        currentSelection.restore();
      }

      this.nodes.wrapper.classList.remove(this.CSS.wrapperShowed);
      this.nodes.input.value = '';
      this.nodes.selectTarget.value = '';
      this.nodes.selectRel.value = '';

      if (clearSavedSelection) {
        this.selection.clearSaved();
      }

      this.inputOpened = false;
    }
  }, {
    key: "savePressed",
    value: function savePressed(event) {
      event.preventDefault();
      event.stopPropagation();
      event.stopImmediatePropagation();
      var value = this.nodes.input.value || '';
      var target = this.nodes.selectTarget.value || '';
      var rel = this.nodes.selectRel.value || '';

      if (!value.trim()) {
        this.selection.restore();
        this.unlink();
        event.preventDefault();
        this.closeActions();
      } // if (!this.validateURL(value)) {
      //     this.tooltip.show(this.nodes.input, 'Pasted link is not valid.', {
      //         placement: 'top',
      //     });
      //     setTimeout(() => {
      //         this.tooltip.hide();
      //     }, 1000);
      //     return;
      // }


      value = this.prepareLink(value);
      this.selection.restore();
      this.selection.removeFakeBackground();
      this.insertLink(value, target, rel);
      this.selection.collapseToEnd();
      this.inlineToolbar.close();
    }
  }, {
    key: "validateURL",
    value: function validateURL(str) {
      var pattern = new RegExp('^(https?:\\\\/\\\\/)?' + // protocol
      '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|' + // domain name
      '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))' + // OR ip (v4) address
      '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*' + // port and path
      '(\\\\?[;&a-z\\\\d%_.~+=-]*)?' + // query string
      '(\\\\#[-a-z\\\\d_]*)?$', 'i'); // fragment locator

      return !!pattern.test(str);
    }
  }, {
    key: "prepareLink",
    value: function prepareLink(link) {
      link = link.trim();
      link = this.addProtocol(link);
      return link;
    }
  }, {
    key: "addProtocol",
    value: function addProtocol(link) {
      if (/^(\\w+):(\\/\\/)?/.test(link)) {
        return link;
      }

      var isInternal = /^\\/[^/\\s]/.test(link),
          isAnchor = link.substring(0, 1) === '#',
          isProtocolRelative = /^\\/\\/[^/\\s]/.test(link);

      if (!isInternal && !isAnchor && !isProtocolRelative) {
        link = 'http://' + link;
      }

      return link;
    }
  }, {
    key: "insertLink",
    value: function insertLink(link) {
      var target = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
      var rel = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';
      var anchorTag = this.selection.findParentTag('A');

      if (anchorTag) {
        this.selection.expandToTag(anchorTag);
      } else {
        document.execCommand(this.commandLink, false, link);
        anchorTag = this.selection.findParentTag('A');
      }

      if (anchorTag) {
        if (!!target) {
          anchorTag['target'] = target;
        } else {
          anchorTag.removeAttribute('target');
        }

        if (!!rel) {
          anchorTag['rel'] = rel;
        } else {
          anchorTag.removeAttribute('rel');
        }
      }
    }
  }, {
    key: "unlink",
    value: function unlink() {
      document.execCommand(this.commandUnlink);
    }
  }, {
    key: "iconSvg",
    value: function iconSvg(name) {
      var width = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 14;
      var height = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 14;
      var icon = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
      icon.classList.add('icon', 'icon--' + name);
      icon.setAttribute('width', width + 'px');
      icon.setAttribute('height', height + 'px');
      icon.innerHTML = "<use xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xlink:href=\\"#".concat(name, "\\"></use>");
      return icon;
    }
  }, {
    key: "addOption",
    value: function addOption(element, text) {
      var value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
      var option = document.createElement('option');
      option.text = text;
      option.value = value;
      element.add(option);
    }
  }, {
    key: "shortcut",
    get: function get() {
      return this.config.shortcut || 'CMD+L';
    }
  }, {
    key: "title",
    get: function get() {
      return 'Hyperlink';
    }
  }], [{
    key: "isInline",
    get: function get() {
      return true;
    }
  }, {
    key: "sanitize",
    get: function get() {
      return {
        a: {
          href: true,
          target: true,
          rel: true
        }
      };
    }
  }]);

  return Hyperlink;
}();



//# sourceURL=webpack://Hyperlink/./src/Hyperlink.js?`)},"./src/SelectionUtils.js":function(module,__webpack_exports__,__webpack_require__){/*!*******************************!*\
  !*** ./src/SelectionUtils.js ***!
  \*******************************//*! exports provided: default */eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SelectionUtils; });
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var SelectionUtils = /*#__PURE__*/function () {
  function SelectionUtils() {
    _classCallCheck(this, SelectionUtils);

    this.selection = null;
    this.savedSelectionRange = null;
    this.isFakeBackgroundEnabled = false;
    this.commandBackground = 'backColor';
    this.commandRemoveFormat = 'removeFormat';
  }

  _createClass(SelectionUtils, [{
    key: "isElement",
    value: function isElement(node) {
      return node && _typeof(node) === 'object' && node.nodeType && node.nodeType === Node.ELEMENT_NODE;
    }
  }, {
    key: "isContentEditable",
    value: function isContentEditable(element) {
      return element.contentEditable === 'true';
    }
  }, {
    key: "isNativeInput",
    value: function isNativeInput(target) {
      var nativeInputs = ['INPUT', 'TEXTAREA'];
      return target && target.tagName ? nativeInputs.includes(target.tagName) : false;
    }
  }, {
    key: "canSetCaret",
    value: function canSetCaret(target) {
      var result = true;

      if (this.isNativeInput(target)) {
        switch (target.type) {
          case 'file':
          case 'checkbox':
          case 'radio':
          case 'hidden':
          case 'submit':
          case 'button':
          case 'image':
          case 'reset':
            result = false;
            break;

          default:
        }
      } else {
        result = this.isContentEditable(target);
      }

      return result;
    }
  }, {
    key: "CSS",
    value: function CSS() {
      return {
        editorWrapper: 'codex-editor',
        editorZone: 'codex-editor__redactor'
      };
    }
  }, {
    key: "anchorNode",
    value: function anchorNode() {
      var selection = window.getSelection();
      return selection ? selection.anchorNode : null;
    }
  }, {
    key: "anchorElement",
    value: function anchorElement() {
      var selection = window.getSelection();

      if (!selection) {
        return null;
      }

      var anchorNode = selection.anchorNode;

      if (!anchorNode) {
        return null;
      }

      if (!this.isElement(anchorNode)) {
        return anchorNode.parentElement;
      } else {
        return anchorNode;
      }
    }
  }, {
    key: "anchorOffset",
    value: function anchorOffset() {
      var selection = window.getSelection();
      return selection ? selection.anchorOffset : null;
    }
  }, {
    key: "isCollapsed",
    value: function isCollapsed() {
      var selection = window.getSelection();
      return selection ? selection.isCollapsed : null;
    }
  }, {
    key: "isAtEditor",
    value: function isAtEditor() {
      var selection = SelectionUtils.get();
      var selectedNode = selection.anchorNode || selection.focusNode;

      if (selectedNode && selectedNode.nodeType === Node.TEXT_NODE) {
        selectedNode = selectedNode.parentNode;
      }

      var editorZone = null;

      if (selectedNode) {
        editorZone = selectedNode.closest(".".concat(SelectionUtils.CSS.editorZone));
      }

      return editorZone && editorZone.nodeType === Node.ELEMENT_NODE;
    }
  }, {
    key: "isSelectionExists",
    value: function isSelectionExists() {
      var selection = SelectionUtils.get();
      return !!selection.anchorNode;
    }
  }, {
    key: "get",
    value: function get() {
      return window.getSelection();
    }
  }, {
    key: "setCursor",
    value: function setCursor(element) {
      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
      var range = document.createRange();
      var selection = window.getSelection();

      if (this.isNativeInput(element)) {
        if (!this.canSetCaret(element)) {
          return;
        }

        element.focus();
        element.selectionStart = element.selectionEnd = offset;
        return element.getBoundingClientRect();
      }

      range.setStart(element, offset);
      range.setEnd(element, offset);
      selection.removeAllRanges();
      selection.addRange(range);
      return range.getBoundingClientRect();
    }
  }, {
    key: "removeFakeBackground",
    value: function removeFakeBackground() {
      if (!this.isFakeBackgroundEnabled) {
        return;
      }

      this.isFakeBackgroundEnabled = false;
      document.execCommand(this.commandRemoveFormat);
    }
  }, {
    key: "setFakeBackground",
    value: function setFakeBackground() {
      document.execCommand(this.commandBackground, false, '#a8d6ff');
      this.isFakeBackgroundEnabled = true;
    }
  }, {
    key: "save",
    value: function save() {
      this.savedSelectionRange = SelectionUtils.range;
    }
  }, {
    key: "restore",
    value: function restore() {
      if (!this.savedSelectionRange) {
        return;
      }

      var sel = window.getSelection();
      sel.removeAllRanges();
      sel.addRange(this.savedSelectionRange);
    }
  }, {
    key: "clearSaved",
    value: function clearSaved() {
      this.savedSelectionRange = null;
    }
  }, {
    key: "collapseToEnd",
    value: function collapseToEnd() {
      var sel = window.getSelection();
      var range = document.createRange();
      range.selectNodeContents(sel.focusNode);
      range.collapse(false);
      sel.removeAllRanges();
      sel.addRange(range);
    }
  }, {
    key: "findParentTag",
    value: function findParentTag(tagName) {
      var className = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
      var searchDepth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;
      var selection = window.getSelection();
      var parentTag = null;

      if (!selection || !selection.anchorNode || !selection.focusNode) {
        return null;
      }

      var boundNodes = [selection.anchorNode, selection.focusNode];
      boundNodes.forEach(function (parent) {
        var searchDepthIterable = searchDepth;

        while (searchDepthIterable > 0 && parent.parentNode) {
          if (parent.tagName === tagName) {
            parentTag = parent;

            if (className && parent.classList && !parent.classList.contains(className)) {
              parentTag = null;
            }

            if (parentTag) {
              break;
            }
          }

          parent = parent.parentNode;
          searchDepthIterable--;
        }
      });
      return parentTag;
    }
  }, {
    key: "expandToTag",
    value: function expandToTag(element) {
      var selection = window.getSelection();
      selection.removeAllRanges();
      var range = document.createRange();
      range.selectNodeContents(element);
      selection.addRange(range);
    }
  }], [{
    key: "range",
    get: function get() {
      var selection = window.getSelection();
      return selection && selection.rangeCount ? selection.getRangeAt(0) : null;
    }
  }, {
    key: "rect",
    get: function get() {
      var sel = document.selection,
          range;
      var rect = {
        x: 0,
        y: 0,
        width: 0,
        height: 0
      };

      if (sel && sel.type !== 'Control') {
        range = sel.createRange();
        rect.x = range.boundingLeft;
        rect.y = range.boundingTop;
        rect.width = range.boundingWidth;
        rect.height = range.boundingHeight;
        return rect;
      }

      if (!window.getSelection) {
        return rect;
      }

      sel = window.getSelection();

      if (sel.rangeCount === null || isNaN(sel.rangeCount)) {
        return rect;
      }

      if (sel.rangeCount === 0) {
        return rect;
      }

      range = sel.getRangeAt(0).cloneRange();

      if (range.getBoundingClientRect) {
        rect = range.getBoundingClientRect();
      }

      if (rect.x === 0 && rect.y === 0) {
        var span = document.createElement('span');

        if (span.getBoundingClientRect) {
          span.appendChild(document.createTextNode("\\u200B"));
          range.insertNode(span);
          rect = span.getBoundingClientRect();
          var spanParent = span.parentNode;
          spanParent.removeChild(span);
          spanParent.normalize();
        }
      }

      return rect;
    }
  }, {
    key: "text",
    get: function get() {
      return window.getSelection ? window.getSelection().toString() : '';
    }
  }]);

  return SelectionUtils;
}();



//# sourceURL=webpack://Hyperlink/./src/SelectionUtils.js?`)}}).default})});var Hh=kc((Oa,Cu)=>{(function(r,c){typeof Oa=="object"&&typeof Cu=="object"?Cu.exports=c():typeof define=="function"&&define.amd?define([],c):typeof Oa=="object"?Oa.DragDrop=c():r.DragDrop=c()})(self,()=>(()=>{var r={523:(u,f,o)=>{o.d(f,{A:()=>v});var h=o(601),l=o.n(h),p=o(314),y=o.n(p)()(l());y.push([u.id,`.ce-block--drop-target .ce-block__content:before {
  content: "";
  position: absolute;
  top: 50%;
  left: -20px;
  margin-top: -1px;
  height: 8px;
  width: 8px;
  border: solid #a0a0a0;
  border-width: 1px 1px 0 0;
  -webkit-transform-origin: right;
  transform-origin: right;
  -webkit-transform: rotate(45deg);
  transform: rotate(45deg);
}

.ce-block--drop-target .ce-block__content:after {
  background: none;
}
`,""]);let v=y},314:(u)=>{u.exports=function(f){var o=[];return o.toString=function(){return this.map(function(h){var l="",p=h[5]!==void 0;return h[4]&&(l+="@supports (".concat(h[4],") {")),h[2]&&(l+="@media ".concat(h[2]," {")),p&&(l+="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {")),l+=f(h),p&&(l+="}"),h[2]&&(l+="}"),h[4]&&(l+="}"),l}).join("")},o.i=function(h,l,p,y,v){typeof h=="string"&&(h=[[null,h,void 0]]);var x={};if(p)for(var O=0;O<this.length;O++){var k=this[O][0];k!=null&&(x[k]=!0)}for(var i=0;i<h.length;i++){var g=[].concat(h[i]);p&&x[g[0]]||(v!==void 0&&(g[5]===void 0||(g[1]="@layer".concat(g[5].length>0?" ".concat(g[5]):""," {").concat(g[1],"}")),g[5]=v),l&&(g[2]?(g[1]="@media ".concat(g[2]," {").concat(g[1],"}"),g[2]=l):g[2]=l),y&&(g[4]?(g[1]="@supports (".concat(g[4],") {").concat(g[1],"}"),g[4]=y):g[4]="".concat(y)),o.push(g))}},o}},601:(u)=>{u.exports=function(f){return f[1]}},72:(u)=>{var f=[];function o(p){for(var y=-1,v=0;v<f.length;v++)if(f[v].identifier===p){y=v;break}return y}function h(p,y){for(var v={},x=[],O=0;O<p.length;O++){var k=p[O],i=y.base?k[0]+y.base:k[0],g=v[i]||0,b="".concat(i," ").concat(g);v[i]=g+1;var A=o(b),P={css:k[1],media:k[2],sourceMap:k[3],supports:k[4],layer:k[5]};if(A!==-1)f[A].references++,f[A].updater(P);else{var S=l(P,y);y.byIndex=O,f.splice(O,0,{identifier:b,updater:S,references:1})}x.push(b)}return x}function l(p,y){var v=y.domAPI(y);return v.update(p),function(x){if(x){if(x.css===p.css&&x.media===p.media&&x.sourceMap===p.sourceMap&&x.supports===p.supports&&x.layer===p.layer)return;v.update(p=x)}else v.remove()}}u.exports=function(p,y){var v=h(p=p||[],y=y||{});return function(x){x=x||[];for(var O=0;O<v.length;O++){var k=o(v[O]);f[k].references--}for(var i=h(x,y),g=0;g<v.length;g++){var b=o(v[g]);f[b].references===0&&(f[b].updater(),f.splice(b,1))}v=i}}},659:(u)=>{var f={};u.exports=function(o,h){var l=function(p){if(f[p]===void 0){var y=document.querySelector(p);if(window.HTMLIFrameElement&&y instanceof window.HTMLIFrameElement)try{y=y.contentDocument.head}catch(v){y=null}f[p]=y}return f[p]}(o);if(!l)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");l.appendChild(h)}},540:(u)=>{u.exports=function(f){var o=document.createElement("style");return f.setAttributes(o,f.attributes),f.insert(o,f.options),o}},56:(u,f,o)=>{u.exports=function(h){var l=o.nc;l&&h.setAttribute("nonce",l)}},825:(u)=>{u.exports=function(f){if(typeof document>"u")return{update:function(){},remove:function(){}};var o=f.insertStyleElement(f);return{update:function(h){(function(l,p,y){var v="";y.supports&&(v+="@supports (".concat(y.supports,") {")),y.media&&(v+="@media ".concat(y.media," {"));var x=y.layer!==void 0;x&&(v+="@layer".concat(y.layer.length>0?" ".concat(y.layer):""," {")),v+=y.css,x&&(v+="}"),y.media&&(v+="}"),y.supports&&(v+="}");var O=y.sourceMap;O&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(O))))," */")),p.styleTagTransform(v,l,p.options)})(o,f,h)},remove:function(){(function(h){if(h.parentNode===null)return!1;h.parentNode.removeChild(h)})(o)}}}},113:(u)=>{u.exports=function(f,o){if(o.styleSheet)o.styleSheet.cssText=f;else{for(;o.firstChild;)o.removeChild(o.firstChild);o.appendChild(document.createTextNode(f))}}}},c={};function a(u){var f=c[u];if(f!==void 0)return f.exports;var o=c[u]={id:u,exports:{}};return r[u](o,o.exports,a),o.exports}a.n=(u)=>{var f=u&&u.__esModule?()=>u.default:()=>u;return a.d(f,{a:f}),f},a.d=(u,f)=>{for(var o in f)a.o(f,o)&&!a.o(u,o)&&Object.defineProperty(u,o,{enumerable:!0,get:f[o]})},a.o=(u,f)=>Object.prototype.hasOwnProperty.call(u,f),a.nc=void 0;var n={};return(()=>{a.d(n,{default:()=>d});var u=a(72),f=a.n(u),o=a(825),h=a.n(o),l=a(659),p=a.n(l),y=a(56),v=a.n(y),x=a(540),O=a.n(x),k=a(113),i=a.n(k),g=a(523),b={};function A(N){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},A(N)}function P(N,G){for(var L=0;L<G.length;L++){var s=G[L];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(N,S(s.key),s)}}function S(N){var G=function(L,s){if(A(L)!="object"||!L)return L;var j=L[Symbol.toPrimitive];if(j!==void 0){var U=j.call(L,"string");if(A(U)!="object")return U;throw TypeError("@@toPrimitive must return a primitive value.")}return String(L)}(N);return A(G)=="symbol"?G:G+""}b.styleTagTransform=i(),b.setAttributes=v(),b.insert=p().bind(null,"head"),b.domAPI=h(),b.insertStyleElement=O(),f()(g.A,b),g.A&&g.A.locals&&g.A.locals;var d=function(){return N=function s(j,U){var{configuration:B,blocks:J,toolbar:H,save:W}=j;(function(_,t){if(!(_ instanceof t))throw TypeError("Cannot call a class as a function")})(this,s),this.toolbar=H,this.borderStyle=U||"1px dashed #aaa",this.api=J,this.holder=typeof B.holder=="string"?document.getElementById(B.holder):B.holder,this.readOnly=B.readOnly,this.startBlock=null,this.endBlock=null,this.save=W,this.setDragListener(),this.setDropListener()},L=[{key:"isReadOnlySupported",get:function(){return!0}}],(G=[{key:"setElementCursor",value:function(s){if(s){var j=document.createRange(),U=window.getSelection();j.setStart(s.childNodes[0],0),j.collapse(!0),U.removeAllRanges(),U.addRange(j),s.focus()}}},{key:"setDragListener",value:function(){var s=this;if(!this.readOnly){var j=this.holder.querySelector(".ce-toolbar__settings-btn");if(j)this.initializeDragListener(j);else{var U=new MutationObserver(function(B,J){var H=s.holder.querySelector(".ce-toolbar__settings-btn");H&&(s.initializeDragListener(H),J.disconnect())});U.observe(this.holder,{childList:!0,subtree:!0})}}}},{key:"initializeDragListener",value:function(s){var j=this;s.setAttribute("draggable","true"),s.addEventListener("dragstart",function(){j.startBlock=j.api.getCurrentBlockIndex()}),s.addEventListener("drag",function(){if(j.toolbar.close(),!j.isTheOnlyBlock()){var U=j.holder.querySelectorAll(".ce-block"),B=j.holder.querySelector(".ce-block--drop-target");j.setElementCursor(B),j.setBorderBlocks(U,B)}})}},{key:"setBorderBlocks",value:function(s,j){var U=this;Object.values(s).forEach(function(B){var J=B.querySelector(".ce-block__content");B!==j?(J.style.removeProperty("border-top"),J.style.removeProperty("border-bottom")):Object.keys(s).find(function(H){return s[H]===j})>U.startBlock?J.style.borderBottom=U.borderStyle:J.style.borderTop=U.borderStyle})}},{key:"setDropListener",value:function(){var s=this;document.addEventListener("drop",function(j){var U=j.target;if(s.holder.contains(U)&&s.startBlock!==null){var B=s.getDropTarget(U);if(B){var J=B.querySelector(".ce-block__content");J.style.removeProperty("border-top"),J.style.removeProperty("border-bottom"),s.endBlock=s.getTargetPosition(B),s.moveBlocks()}}s.startBlock=null})}},{key:"getDropTarget",value:function(s){return s.classList.contains("ce-block")?s:s.closest(".ce-block")}},{key:"getTargetPosition",value:function(s){return Array.from(s.parentNode.children).indexOf(s)}},{key:"isTheOnlyBlock",value:function(){return this.api.getBlocksCount()===1}},{key:"moveBlocks",value:function(){this.isTheOnlyBlock()||this.api.move(this.endBlock,this.startBlock)}}])&&P(N.prototype,G),L&&P(N,L),Object.defineProperty(N,"prototype",{writable:!1}),N;var N,G,L}()})(),n.default})())});var Kh=kc((La,_u)=>{/*! For license information please see bundle.js.LICENSE.txt */(function(r,c){typeof La=="object"&&typeof _u=="object"?_u.exports=c():typeof define=="function"&&define.amd?define([],c):typeof La=="object"?La.Undo=c():r.Undo=c()})(self,()=>(()=>{var r={917:function(u,f){var o,h;o=function(l){var p=function(){function v(x,O){for(var k=0;k<O.length;k++){var i=O[k];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(x,i.key,i)}}return function(x,O,k){return O&&v(x.prototype,O),k&&v(x,k),x}}(),y=function(){function v(x){(function(O,k){if(!(O instanceof k))throw TypeError("Cannot call a class as a function")})(this,v),this.target=x,this.isContentEditable=x&&x.contentEditable}return p(v,[{key:"getPos",value:function(){if(document.activeElement!==this.target)return-1;if(this.isContentEditable==="true"){this.target.focus();var x=document.getSelection().getRangeAt(0),O=x.cloneRange();return O.selectNodeContents(this.target),O.setEnd(x.endContainer,x.endOffset),O.toString().length}return this.target.selectionStart}},{key:"setPos",value:function(x){if(this.isContentEditable==="true"){if(x>=0){var O=window.getSelection(),k=this.createRange(this.target,{count:x});k&&(k.collapse(!1),O.removeAllRanges(),O.addRange(k))}}else this.target.setSelectionRange(x,x)}},{key:"createRange",value:function(x,O,k){if(k||((k=document.createRange()).selectNode(x),k.setStart(x,0)),O.count===0)k.setEnd(x,O.count);else if(x&&O.count>0)if(x.nodeType===Node.TEXT_NODE)x.textContent.length<O.count?O.count-=x.textContent.length:(k.setEnd(x,O.count),O.count=0);else for(var i=0;i<x.childNodes.length&&(k=this.createRange(x.childNodes[i],O,k),O.count!==0);i++);return k}}]),v}();l.exports=y},(h=o.apply(f,[u]))===void 0||(u.exports=h)},442:(u,f,o)=>{u.exports=o(917)},633:(u,f,o)=>{var h=o(738).default;function l(){u.exports=l=function(){return y},u.exports.__esModule=!0,u.exports.default=u.exports;var p,y={},v=Object.prototype,x=v.hasOwnProperty,O=Object.defineProperty||function(Z,R,Y){Z[R]=Y.value},k=typeof Symbol=="function"?Symbol:{},i=k.iterator||"@@iterator",g=k.asyncIterator||"@@asyncIterator",b=k.toStringTag||"@@toStringTag";function A(Z,R,Y){return Object.defineProperty(Z,R,{value:Y,enumerable:!0,configurable:!0,writable:!0}),Z[R]}try{A({},"")}catch(Z){A=function(R,Y,I){return R[Y]=I}}function P(Z,R,Y,I){var K=R&&R.prototype instanceof j?R:j,X=Object.create(K.prototype),ar=new Gr(I||[]);return O(X,"_invoke",{value:pr(Z,Y,ar)}),X}function S(Z,R,Y){try{return{type:"normal",arg:Z.call(R,Y)}}catch(I){return{type:"throw",arg:I}}}y.wrap=P;var d="suspendedStart",N="suspendedYield",G="executing",L="completed",s={};function j(){}function U(){}function B(){}var J={};A(J,i,function(){return this});var H=Object.getPrototypeOf,W=H&&H(H(gr([])));W&&W!==v&&x.call(W,i)&&(J=W);var _=B.prototype=j.prototype=Object.create(J);function t(Z){["next","throw","return"].forEach(function(R){A(Z,R,function(Y){return this._invoke(R,Y)})})}function e(Z,R){function Y(K,X,ar,xr){var br=S(Z[K],Z,X);if(br.type!=="throw"){var Er=br.arg,gc=Er.value;return gc&&h(gc)=="object"&&x.call(gc,"__await")?R.resolve(gc.__await).then(function($r){Y("next",$r,ar,xr)},function($r){Y("throw",$r,ar,xr)}):R.resolve(gc).then(function($r){Er.value=$r,ar(Er)},function($r){return Y("throw",$r,ar,xr)})}xr(br.arg)}var I;O(this,"_invoke",{value:function(K,X){function ar(){return new R(function(xr,br){Y(K,X,xr,br)})}return I=I?I.then(ar,ar):ar()}})}function pr(Z,R,Y){var I=d;return function(K,X){if(I===G)throw Error("Generator is already running");if(I===L){if(K==="throw")throw X;return{value:p,done:!0}}for(Y.method=K,Y.arg=X;;){var ar=Y.delegate;if(ar){var xr=m(ar,Y);if(xr){if(xr===s)continue;return xr}}if(Y.method==="next")Y.sent=Y._sent=Y.arg;else if(Y.method==="throw"){if(I===d)throw I=L,Y.arg;Y.dispatchException(Y.arg)}else Y.method==="return"&&Y.abrupt("return",Y.arg);I=G;var br=S(Z,R,Y);if(br.type==="normal"){if(I=Y.done?L:N,br.arg===s)continue;return{value:br.arg,done:Y.done}}br.type==="throw"&&(I=L,Y.method="throw",Y.arg=br.arg)}}}function m(Z,R){var Y=R.method,I=Z.iterator[Y];if(I===p)return R.delegate=null,Y==="throw"&&Z.iterator.return&&(R.method="return",R.arg=p,m(Z,R),R.method==="throw")||Y!=="return"&&(R.method="throw",R.arg=TypeError("The iterator does not provide a '"+Y+"' method")),s;var K=S(I,Z.iterator,R.arg);if(K.type==="throw")return R.method="throw",R.arg=K.arg,R.delegate=null,s;var X=K.arg;return X?X.done?(R[Z.resultName]=X.value,R.next=Z.nextLoc,R.method!=="return"&&(R.method="next",R.arg=p),R.delegate=null,s):X:(R.method="throw",R.arg=TypeError("iterator result is not an object"),R.delegate=null,s)}function V(Z){var R={tryLoc:Z[0]};1 in Z&&(R.catchLoc=Z[1]),2 in Z&&(R.finallyLoc=Z[2],R.afterLoc=Z[3]),this.tryEntries.push(R)}function kr(Z){var R=Z.completion||{};R.type="normal",delete R.arg,Z.completion=R}function Gr(Z){this.tryEntries=[{tryLoc:"root"}],Z.forEach(V,this),this.reset(!0)}function gr(Z){if(Z||Z===""){var R=Z[i];if(R)return R.call(Z);if(typeof Z.next=="function")return Z;if(!isNaN(Z.length)){var Y=-1,I=function K(){for(;++Y<Z.length;)if(x.call(Z,Y))return K.value=Z[Y],K.done=!1,K;return K.value=p,K.done=!0,K};return I.next=I}}throw TypeError(h(Z)+" is not iterable")}return U.prototype=B,O(_,"constructor",{value:B,configurable:!0}),O(B,"constructor",{value:U,configurable:!0}),U.displayName=A(B,b,"GeneratorFunction"),y.isGeneratorFunction=function(Z){var R=typeof Z=="function"&&Z.constructor;return!!R&&(R===U||(R.displayName||R.name)==="GeneratorFunction")},y.mark=function(Z){return Object.setPrototypeOf?Object.setPrototypeOf(Z,B):(Z.__proto__=B,A(Z,b,"GeneratorFunction")),Z.prototype=Object.create(_),Z},y.awrap=function(Z){return{__await:Z}},t(e.prototype),A(e.prototype,g,function(){return this}),y.AsyncIterator=e,y.async=function(Z,R,Y,I,K){K===void 0&&(K=Promise);var X=new e(P(Z,R,Y,I),K);return y.isGeneratorFunction(R)?X:X.next().then(function(ar){return ar.done?ar.value:X.next()})},t(_),A(_,b,"Generator"),A(_,i,function(){return this}),A(_,"toString",function(){return"[object Generator]"}),y.keys=function(Z){var R=Object(Z),Y=[];for(var I in R)Y.push(I);return Y.reverse(),function K(){for(;Y.length;){var X=Y.pop();if(X in R)return K.value=X,K.done=!1,K}return K.done=!0,K}},y.values=gr,Gr.prototype={constructor:Gr,reset:function(Z){if(this.prev=0,this.next=0,this.sent=this._sent=p,this.done=!1,this.delegate=null,this.method="next",this.arg=p,this.tryEntries.forEach(kr),!Z)for(var R in this)R.charAt(0)==="t"&&x.call(this,R)&&!isNaN(+R.slice(1))&&(this[R]=p)},stop:function(){this.done=!0;var Z=this.tryEntries[0].completion;if(Z.type==="throw")throw Z.arg;return this.rval},dispatchException:function(Z){if(this.done)throw Z;var R=this;function Y(br,Er){return X.type="throw",X.arg=Z,R.next=br,Er&&(R.method="next",R.arg=p),!!Er}for(var I=this.tryEntries.length-1;I>=0;--I){var K=this.tryEntries[I],X=K.completion;if(K.tryLoc==="root")return Y("end");if(K.tryLoc<=this.prev){var ar=x.call(K,"catchLoc"),xr=x.call(K,"finallyLoc");if(ar&&xr){if(this.prev<K.catchLoc)return Y(K.catchLoc,!0);if(this.prev<K.finallyLoc)return Y(K.finallyLoc)}else if(ar){if(this.prev<K.catchLoc)return Y(K.catchLoc,!0)}else{if(!xr)throw Error("try statement without catch or finally");if(this.prev<K.finallyLoc)return Y(K.finallyLoc)}}}},abrupt:function(Z,R){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var I=this.tryEntries[Y];if(I.tryLoc<=this.prev&&x.call(I,"finallyLoc")&&this.prev<I.finallyLoc){var K=I;break}}K&&(Z==="break"||Z==="continue")&&K.tryLoc<=R&&R<=K.finallyLoc&&(K=null);var X=K?K.completion:{};return X.type=Z,X.arg=R,K?(this.method="next",this.next=K.finallyLoc,s):this.complete(X)},complete:function(Z,R){if(Z.type==="throw")throw Z.arg;return Z.type==="break"||Z.type==="continue"?this.next=Z.arg:Z.type==="return"?(this.rval=this.arg=Z.arg,this.method="return",this.next="end"):Z.type==="normal"&&R&&(this.next=R),s},finish:function(Z){for(var R=this.tryEntries.length-1;R>=0;--R){var Y=this.tryEntries[R];if(Y.finallyLoc===Z)return this.complete(Y.completion,Y.afterLoc),kr(Y),s}},catch:function(Z){for(var R=this.tryEntries.length-1;R>=0;--R){var Y=this.tryEntries[R];if(Y.tryLoc===Z){var I=Y.completion;if(I.type==="throw"){var K=I.arg;kr(Y)}return K}}throw Error("illegal catch attempt")},delegateYield:function(Z,R,Y){return this.delegate={iterator:gr(Z),resultName:R,nextLoc:Y},this.method==="next"&&(this.arg=p),s}},y}u.exports=l,u.exports.__esModule=!0,u.exports.default=u.exports},738:(u)=>{function f(o){return u.exports=f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},u.exports.__esModule=!0,u.exports.default=u.exports,f(o)}u.exports=f,u.exports.__esModule=!0,u.exports.default=u.exports},756:(u,f,o)=>{var h=o(633)();u.exports=h;try{regeneratorRuntime=h}catch(l){typeof globalThis=="object"?globalThis.regeneratorRuntime=h:Function("r","regeneratorRuntime = r")(h)}}},c={};function a(u){var f=c[u];if(f!==void 0)return f.exports;var o=c[u]={exports:{}};return r[u].call(o.exports,o,o.exports,a),o.exports}a.n=(u)=>{var f=u&&u.__esModule?()=>u.default:()=>u;return a.d(f,{a:f}),f},a.d=(u,f)=>{for(var o in f)a.o(f,o)&&!a.o(u,o)&&Object.defineProperty(u,o,{enumerable:!0,get:f[o]})},a.o=(u,f)=>Object.prototype.hasOwnProperty.call(u,f);var n={};return(()=>{function u(P,S,d,N,G,L,s){try{var j=P[L](s),U=j.value}catch(B){return void d(B)}j.done?S(U):Promise.resolve(U).then(N,G)}function f(P){return function(){var S=this,d=arguments;return new Promise(function(N,G){var L=P.apply(S,d);function s(U){u(L,N,G,s,j,"next",U)}function j(U){u(L,N,G,s,j,"throw",U)}s(void 0)})}}function o(P){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},o(P)}function h(P){var S=function(d,N){if(o(d)!="object"||!d)return d;var G=d[Symbol.toPrimitive];if(G!==void 0){var L=G.call(d,"string");if(o(L)!="object")return L;throw TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(P);return o(S)=="symbol"?S:S+""}function l(P,S){if(!(P instanceof S))throw TypeError("Cannot call a class as a function")}function p(P,S){for(var d=0;d<S.length;d++){var N=S[d];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(P,h(N.key),N)}}function y(P,S,d){return S&&p(P.prototype,S),d&&p(P,d),Object.defineProperty(P,"prototype",{writable:!1}),P}a.d(n,{default:()=>A});var v=a(756),x=a.n(v),O=a(442),k=a.n(O),i=function(){return y(function P(S,d,N){l(this,P),this.holder=d,this.observer=null,this.debounceTimer=N,this.mutationDebouncer=this.debounce(function(){S()},this.debounceTimer)},[{key:"setMutationObserver",value:function(){var P=this,S=this.holder.querySelector(".codex-editor__redactor");this.observer=new MutationObserver(function(d){P.mutationHandler(d)}),this.observer.observe(S,{childList:!0,attributes:!0,subtree:!0,characterData:!0,characterDataOldValue:!0})}},{key:"mutationHandler",value:function(P){var S=this,d=!1;P.forEach(function(N){switch(N.type){case"childList":N.target===S.holder?S.onDestroy():d=!0;break;case"characterData":d=!0;break;case"attributes":N.target.classList.contains("ce-block")||N.target.classList.contains("tc-toolbox")||(d=!0)}}),d&&this.mutationDebouncer()}},{key:"debounce",value:function(P,S){var d,N=this;return function(){for(var G=arguments.length,L=Array(G),s=0;s<G;s++)L[s]=arguments[s];var j=N;clearTimeout(d),d=setTimeout(function(){return P.apply(j,L)},S)}}},{key:"onDestroy",value:function(){var P=new CustomEvent("destroy");document.dispatchEvent(P),this.observer.disconnect()}}])}();function g(P,S){var d=Object.keys(P);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(P);S&&(N=N.filter(function(G){return Object.getOwnPropertyDescriptor(P,G).enumerable})),d.push.apply(d,N)}return d}function b(P){for(var S=1;S<arguments.length;S++){var d=arguments[S]!=null?arguments[S]:{};S%2?g(Object(d),!0).forEach(function(N){var G,L,s;G=P,L=N,s=d[N],(L=h(L))in G?Object.defineProperty(G,L,{value:s,enumerable:!0,configurable:!0,writable:!0}):G[L]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(d)):g(Object(d)).forEach(function(N){Object.defineProperty(P,N,Object.getOwnPropertyDescriptor(d,N))})}return P}var A=function(){return y(function L(s){var j=this,U=s.editor,B=s.config,J=B===void 0?{}:B,H=s.onUpdate,W=s.maxLength;l(this,L);var _={maxLength:30,onUpdate:function(){},config:{debounceTimer:200,shortcuts:{undo:["CMD+Z"],redo:["CMD+Y","CMD+SHIFT+Z"]}}},t=U.blocks,e=U.caret,pr=U.configuration,m=pr.holder,V=pr.defaultBlock,kr=_.config.shortcuts,Gr=J.shortcuts,gr=b(b({},kr),Gr),Z=Array.isArray(gr.undo)?gr.undo:[gr.undo],R=Array.isArray(gr.redo)?gr.redo:[gr.redo],Y=_.config.debounceTimer,I=J.debounceTimer,K=I===void 0?Y:I;this.holder=typeof m=="string"?document.getElementById(m):m,this.editor=U,this.defaultBlock=V,this.blocks=t,this.caret=e,this.shouldSaveHistory=!0,this.readOnly=pr.readOnly,this.maxLength=W||_.maxLength,this.onUpdate=H||_.onUpdate,this.config={debounceTimer:K,shortcuts:{undo:Z,redo:R}},new i(function(){return j.registerChange()},this.holder,this.config.debounceTimer).setMutationObserver(),this.setEventListeners(),this.initialItem=null,this.clear()},[{key:"truncate",value:function(L,s){for(;L.length>s;)L.shift()}},{key:"initialize",value:function(L){var s="blocks"in L?L.blocks:L,j={index:s.length-1,state:s};this.stack[0]=j,this.initialItem=j}},{key:"clear",value:function(){this.stack=this.initialItem?[this.initialItem]:[{index:0,state:[{type:this.defaultBlock,data:{}}]}],this.position=0,this.onUpdate()}},{key:"setReadOnly",value:function(){var L=this.holder.querySelector(".ce-toolbox");this.readOnly=!L}},{key:"registerChange",value:function(){var L=this;this.setReadOnly(),this.readOnly||(this.editor&&this.editor.save&&this.shouldSaveHistory&&this.editor.save().then(function(s){L.editorDidUpdate(s.blocks)&&L.save(s.blocks)}),this.shouldSaveHistory=!0)}},{key:"editorDidUpdate",value:function(L){var s=this.stack[this.position].state;return!!L.length&&(L.length!==s.length||JSON.stringify(s)!==JSON.stringify(L))}},{key:"save",value:function(L){this.position>=this.maxLength&&this.truncate(this.stack,this.maxLength),this.position=Math.min(this.position,this.stack.length-1),this.stack=this.stack.slice(0,this.position+1);var s=this.blocks.getCurrentBlockIndex(),j=this.blocks.getBlocksCount(),U=s;L[s]||(U-=j-L.length);var B=!L[U]||L[U].type!=="paragraph"&&L[U].type!=="header"?null:this.getCaretIndex(s);this.stack.push({index:U,state:L,caretIndex:B}),this.position+=1,this.onUpdate()}},{key:"getCaretIndex",value:function(L){var s=this.holder.getElementsByClassName("ce-block__content");return new(k())(s[L].firstChild).getPos()}},{key:"insertDeletedBlock",value:function(L,s,j){for(var U=0;U<L.length;U+=1)if(!s[U]||L[U].id!==s[U].id){this.blocks.insert(L[U].type,L[U].data,{},U,!0),this.caret.setToBlock(j,"end");break}}},{key:"blockWasDropped",value:function(L,s){return L.length===s.length&&L.some(function(j,U){return j.id!==s[U].id})}},{key:"blockWasSkipped",value:function(L,s){return L.length!==s.length}},{key:"contentChangedInNoFocusBlock",value:function(L,s){return L!==s}},{key:"blockWasDeleted",value:function(L,s){return L.length>s.length}},{key:"contentWasCopied",value:function(L,s,j){return Object.keys(L[j].data).length===0&&JSON.stringify(s[j+1])!==JSON.stringify(L[j+1])}},{key:"undo",value:(G=f(x().mark(function L(){var s,j,U,B,J,H,W,_,t,e,pr;return x().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(!this.canUndo()){m.next=47;break}if(s=this.stack[this.position],j=s.index,U=s.state,this.position-=1,this.shouldSaveHistory=!1,B=this.stack[this.position].index,J=this.stack[this.position],H=J.state,W=J.caretIndex,this.onUpdate(),_=this.blocks.getBlocksCount(),H[B]||(B-=1,this.stack[this.position].index=B),!this.blockWasDeleted(H,U)){m.next=13;break}this.insertDeletedBlock(H,U,B),m.next=42;break;case 13:if(!this.contentWasCopied(H,U,B)){m.next=19;break}return m.next=16,this.blocks.render({blocks:H});case 16:this.caret.setToBlock(B,"end"),m.next=42;break;case 19:if(!(B<j&&this.blockWasSkipped(H,U))){m.next=25;break}return m.next=22,this.blocks.delete(j);case 22:this.caret.setToBlock(B,"end"),m.next=42;break;case 25:if(!(_>H.length)){m.next=31;break}return m.next=28,this.blocks.render({blocks:H});case 28:this.setCaretIndex(B,W),m.next=42;break;case 31:if(!this.blockWasDropped(H,U)){m.next=37;break}return m.next=34,this.blocks.render({blocks:H});case 34:this.caret.setToBlock(B,"end"),m.next=42;break;case 37:if(!this.contentChangedInNoFocusBlock(B,j)){m.next=42;break}return t=this.blocks.getBlockByIndex(j),e=t.id,m.next=41,this.blocks.update(e,H[j].data);case 41:this.setCaretIndex(B,W);case 42:if(!(pr=this.blocks.getBlockByIndex(B))){m.next=47;break}return m.next=46,this.blocks.update(pr.id,H[B].data);case 46:this.setCaretIndex(B,W);case 47:case"end":return m.stop()}},L,this)})),function(){return G.apply(this,arguments)})},{key:"setCaretIndex",value:function(L,s){if(s&&s!==-1){var j=this.holder.getElementsByClassName("ce-block__content"),U=new(k())(j[L].firstChild);setTimeout(function(){return U.setPos(s)},50)}else this.caret.setToBlock(L,"end")}},{key:"insertBlock",value:(N=f(x().mark(function L(s,j){return x().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,this.blocks.insert(s[j].type,s[j].data,{},j,!0);case 2:case"end":return U.stop()}},L,this)})),function(L,s){return N.apply(this,arguments)})},{key:"insertSkippedBlocks",value:(d=f(x().mark(function L(s,j,U){var B;return x().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:for(B=s.length;B<j.length;B+=1)this.insertBlock(j,B);if(JSON.stringify(s[U-1])===JSON.stringify(j[U-1])){J.next=4;break}return J.next=4,this.updateModifiedBlock(j,U);case 4:case"end":return J.stop()}},L,this)})),function(L,s,j){return d.apply(this,arguments)})},{key:"updateModifiedBlock",value:(S=f(x().mark(function L(s,j){var U;return x().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(U=s[j-1],!this.editor.blocks.getById(U.id)){B.next=3;break}return B.abrupt("return",this.blocks.update(U.id,U.data));case 3:return B.abrupt("return",this.blocks.render({blocks:s}));case 4:case"end":return B.stop()}},L,this)})),function(L,s){return S.apply(this,arguments)})},{key:"redo",value:(P=f(x().mark(function L(){var s,j,U,B,J,H,W;return x().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(!this.canRedo()){_.next=27;break}if(this.position+=1,this.shouldSaveHistory=!1,s=this.stack[this.position],j=s.index,U=s.state,B=s.caretIndex,(J=this.stack[this.position-1]).index,H=J.state,!this.blockWasDeleted(H,U)){_.next=11;break}return _.next=8,this.blocks.delete();case 8:this.caret.setToBlock(j,"end"),_.next=21;break;case 11:if(!this.blockWasSkipped(U,H)){_.next=17;break}return _.next=14,this.insertSkippedBlocks(H,U,j);case 14:this.caret.setToBlock(j,"end"),_.next=21;break;case 17:if(!this.blockWasDropped(U,H)||this.position===1){_.next=21;break}return _.next=20,this.blocks.render({blocks:U});case 20:this.caret.setToBlock(j,"end");case 21:if(this.onUpdate(),!(W=this.blocks.getBlockByIndex(j))){_.next=27;break}return _.next=26,this.blocks.update(W.id,U[j].data);case 26:this.setCaretIndex(j,B);case 27:case"end":return _.stop()}},L,this)})),function(){return P.apply(this,arguments)})},{key:"canUndo",value:function(){return!this.readOnly&&this.position>0}},{key:"canRedo",value:function(){return!this.readOnly&&this.position<this.count()}},{key:"count",value:function(){return this.stack.length-1}},{key:"parseKeys",value:function(L){var s={CMD:/(Mac)/i.test(navigator.platform)?"metaKey":"ctrlKey",ALT:"altKey",SHIFT:"shiftKey"},j=L.slice(0,-1).map(function(B){return s[B]}),U=j.includes("shiftKey")&&L.length===2?L[L.length-1].toUpperCase():L[L.length-1].toLowerCase();return j.push(U),j}},{key:"setEventListeners",value:function(){var L=this,s=this.holder,j=this.config.shortcuts,U=j.undo,B=j.redo,J=U.map(function(V){return V.replace(/ /g,"").split("+")}),H=B.map(function(V){return V.replace(/ /g,"").split("+")}),W=J.map(function(V){return L.parseKeys(V)}),_=H.map(function(V){return L.parseKeys(V)}),t=function(V,kr){return kr.reduce(function(Gr,gr){return Gr||function(Z,R){return R.length===3&&Z[R[0]]&&Z[R[1]]&&Z.key.toLowerCase()===R[2]}(V,gr)},!1)},e=function(V,kr,Gr){return!(!function(gr,Z){return Z.reduce(function(R,Y){return R||function(I,K){return K.length===2&&I[K[0]]&&I.key.toLowerCase()===K[1]}(gr,Y)},!1)}(V,kr)||t(V,Gr))||!!t(V,kr)},pr=function(V){e(V,W,_)&&(V.preventDefault(),L.undo())},m=function(V){e(V,_,W)&&(V.preventDefault(),L.redo())};s.addEventListener("keydown",pr),s.addEventListener("keydown",m),s.addEventListener("destroy",function(){s.removeEventListener("keydown",pr),s.removeEventListener("keydown",m)})}}],[{key:"isReadOnlySupported",get:function(){return!0}}]);var P,S,d,N,G}()})(),n.default})())});(function(){try{if(typeof document<"u"){var r=document.createElement("style");r.appendChild(document.createTextNode(".ce-hint--align-start{text-align:left}.ce-hint--align-center{text-align:center}.ce-hint__description{opacity:.6;margin-top:3px}")),document.head.appendChild(r)}}catch(c){console.error("vite-plugin-css-injected-by-js",c)}})();var Vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ic(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Pa(){}Object.assign(Pa,{default:Pa,register:Pa,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(r){let c=(this.document||this.ownerDocument).querySelectorAll(r),a=c.length;for(;--a>=0&&c.item(a)!==this;);return a>-1});Element.prototype.closest||(Element.prototype.closest=function(r){let c=this;if(!document.documentElement.contains(c))return null;do{if(c.matches(r))return c;c=c.parentElement||c.parentNode}while(c!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(r){let c=document.createDocumentFragment();Array.isArray(r)||(r=[r]),r.forEach((a)=>{let n=a instanceof Node;c.appendChild(n?a:document.createTextNode(a))}),this.insertBefore(c,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(r){r=arguments.length===0?!0:!!r;let c=this.parentNode,a=window.getComputedStyle(c,null),n=parseInt(a.getPropertyValue("border-top-width")),u=parseInt(a.getPropertyValue("border-left-width")),f=this.offsetTop-c.offsetTop<c.scrollTop,o=this.offsetTop-c.offsetTop+this.clientHeight-n>c.scrollTop+c.clientHeight,h=this.offsetLeft-c.offsetLeft<c.scrollLeft,l=this.offsetLeft-c.offsetLeft+this.clientWidth-u>c.scrollLeft+c.clientWidth,p=f&&!o;(f||o)&&r&&(c.scrollTop=this.offsetTop-c.offsetTop-c.clientHeight/2-n+this.clientHeight/2),(h||l)&&r&&(c.scrollLeft=this.offsetLeft-c.offsetLeft-c.clientWidth/2-u+this.clientWidth/2),(f||o||h||l)&&!r&&this.scrollIntoView(p)});window.requestIdleCallback=window.requestIdleCallback||function(r){let c=Date.now();return setTimeout(function(){r({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-c))}})},1)};window.cancelIdleCallback=window.cancelIdleCallback||function(r){clearTimeout(r)};var zh=(r=21)=>crypto.getRandomValues(new Uint8Array(r)).reduce((c,a)=>(a&=63,a<36?c+=a.toString(36):a<62?c+=(a-26).toString(36).toUpperCase():a>62?c+="-":c+="_",c),""),tu=((r)=>(r.VERBOSE="VERBOSE",r.INFO="INFO",r.WARN="WARN",r.ERROR="ERROR",r))(tu||{}),M={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},qh={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};function Ac(r,c,a="log",n,u="color: inherit"){if(!("console"in window)||!window.console[a])return;let f=["info","log","warn","error"].includes(a),o=[];switch(Ac.logLevel){case"ERROR":if(a!=="error")return;break;case"WARN":if(!["error","warn"].includes(a))return;break;case"INFO":if(!f||r)return;break}n&&o.push(n);let h="Editor.js 2.30.7",l=`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`;r&&(f?(o.unshift(l,u),c=`%c${h}%c ${c}`):c=`( ${h} )${c}`);try{f?n?console[a](`${c} %o`,...o):console[a](c,...o):console[a](c)}catch{}}Ac.logLevel="VERBOSE";function wh(r){Ac.logLevel=r}var F=Ac.bind(window,!1),Ar=Ac.bind(window,!0);function Fr(r){return Object.prototype.toString.call(r).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function q(r){return Fr(r)==="function"||Fr(r)==="asyncfunction"}function fr(r){return Fr(r)==="object"}function Jr(r){return Fr(r)==="string"}function Eh(r){return Fr(r)==="boolean"}function Qu(r){return Fr(r)==="number"}function $u(r){return Fr(r)==="undefined"}function Pr(r){return r?Object.keys(r).length===0&&r.constructor===Object:!0}function eu(r){return r>47&&r<58||r===32||r===13||r===229||r>64&&r<91||r>95&&r<112||r>185&&r<193||r>218&&r<223}async function th(r,c=()=>{},a=()=>{}){async function n(u,f,o){try{await u.function(u.data),await f($u(u.data)?{}:u.data)}catch{o($u(u.data)?{}:u.data)}}return r.reduce(async(u,f)=>(await u,n(f,c,a)),Promise.resolve())}function rf(r){return Array.prototype.slice.call(r)}function Jc(r,c){return function(){let a=this,n=arguments;window.setTimeout(()=>r.apply(a,n),c)}}function eh(r){return r.name.split(".").pop()}function rp(r){return/^[-\w]+\/([-+\w]+|\*)$/.test(r)}function mu(r,c,a){let n;return(...u)=>{let f=this,o=()=>{n=null,a||r.apply(f,u)},h=a&&!n;window.clearTimeout(n),n=window.setTimeout(o,c),h&&r.apply(f,u)}}function Ba(r,c,a=void 0){let n,u,f,o=null,h=0;a||(a={});let l=function(){h=a.leading===!1?0:Date.now(),o=null,f=r.apply(n,u),o||(n=u=null)};return function(){let p=Date.now();!h&&a.leading===!1&&(h=p);let y=c-(p-h);return n=this,u=arguments,y<=0||y>c?(o&&(clearTimeout(o),o=null),h=p,f=r.apply(n,u),o||(n=u=null)):!o&&a.trailing!==!1&&(o=setTimeout(l,y)),f}}function cp(){let r={win:!1,mac:!1,x11:!1,linux:!1},c=Object.keys(r).find((a)=>window.navigator.appVersion.toLowerCase().indexOf(a)!==-1);return c&&(r[c]=!0),r}function Yc(r){return r[0].toUpperCase()+r.slice(1)}function Ga(r,...c){if(!c.length)return r;let a=c.shift();if(fr(r)&&fr(a))for(let n in a)fr(a[n])?(r[n]||Object.assign(r,{[n]:{}}),Ga(r[n],a[n])):Object.assign(r,{[n]:a[n]});return Ga(r,...c)}function Ka(r){let c=cp();return r=r.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi," + "),c.mac?r=r.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):r=r.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),r}function ap(r){try{return new URL(r).href}catch{}return r.substring(0,2)==="//"?window.location.protocol+r:window.location.origin+r}function np(){return zh(10)}function up(r){window.open(r,"_blank")}function fp(r=""){return`${r}${Math.floor(Math.random()*1e8).toString(16)}`}function Ra(r,c,a){let n=`«${c}» is deprecated and will be removed in the next major release. Please use the «${a}» instead.`;r&&Ar(n,"warn")}function ac(r,c,a){let n=a.value?"value":"get",u=a[n],f=`#${c}Cache`;if(a[n]=function(...o){return this[f]===void 0&&(this[f]=u.apply(this,...o)),this[f]},n==="get"&&a.set){let o=a.set;a.set=function(h){delete r[f],o.apply(this,h)}}return a}var cf=650;function nc(){return window.matchMedia(`(max-width: ${cf}px)`).matches}var Za=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function op(r,c){let a=Array.isArray(r)||fr(r),n=Array.isArray(c)||fr(c);return a||n?JSON.stringify(r)===JSON.stringify(c):r===c}class D{static isSingleTag(r){return r.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(r.tagName)}static isLineBreakTag(r){return r&&r.tagName&&["BR","WBR"].includes(r.tagName)}static make(r,c=null,a={}){let n=document.createElement(r);if(Array.isArray(c)){let u=c.filter((f)=>f!==void 0);n.classList.add(...u)}else c&&n.classList.add(c);for(let u in a)Object.prototype.hasOwnProperty.call(a,u)&&(n[u]=a[u]);return n}static text(r){return document.createTextNode(r)}static append(r,c){Array.isArray(c)?c.forEach((a)=>r.appendChild(a)):r.appendChild(c)}static prepend(r,c){Array.isArray(c)?(c=c.reverse(),c.forEach((a)=>r.prepend(a))):r.prepend(c)}static swap(r,c){let a=document.createElement("div"),n=r.parentNode;n.insertBefore(a,r),n.insertBefore(r,c),n.insertBefore(c,a),n.removeChild(a)}static find(r=document,c){return r.querySelector(c)}static get(r){return document.getElementById(r)}static findAll(r=document,c){return r.querySelectorAll(c)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map((r)=>`input[type="${r}"]`).join(", ")}static findAllInputs(r){return rf(r.querySelectorAll(D.allInputsSelector)).reduce((c,a)=>D.isNativeInput(a)||D.containsOnlyInlineElements(a)?[...c,a]:[...c,...D.getDeepestBlockElements(a)],[])}static getDeepestNode(r,c=!1){let a=c?"lastChild":"firstChild",n=c?"previousSibling":"nextSibling";if(r&&r.nodeType===Node.ELEMENT_NODE&&r[a]){let u=r[a];if(D.isSingleTag(u)&&!D.isNativeInput(u)&&!D.isLineBreakTag(u))if(u[n])u=u[n];else if(u.parentNode[n])u=u.parentNode[n];else return u.parentNode;return this.getDeepestNode(u,c)}return r}static isElement(r){return Qu(r)?!1:r&&r.nodeType&&r.nodeType===Node.ELEMENT_NODE}static isFragment(r){return Qu(r)?!1:r&&r.nodeType&&r.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(r){return r.contentEditable==="true"}static isNativeInput(r){let c=["INPUT","TEXTAREA"];return r&&r.tagName?c.includes(r.tagName):!1}static canSetCaret(r){let c=!0;if(D.isNativeInput(r))switch(r.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":c=!1;break}else c=D.isContentEditable(r);return c}static isNodeEmpty(r,c){let a;return this.isSingleTag(r)&&!this.isLineBreakTag(r)?!1:(this.isElement(r)&&this.isNativeInput(r)?a=r.value:a=r.textContent.replace("​",""),c&&(a=a.replace(new RegExp(c,"g"),"")),a.trim().length===0)}static isLeaf(r){return r?r.childNodes.length===0:!1}static isEmpty(r,c){let a=[r];for(;a.length>0;)if(r=a.shift(),!!r){if(this.isLeaf(r)&&!this.isNodeEmpty(r,c))return!1;r.childNodes&&a.push(...Array.from(r.childNodes))}return!0}static isHTMLString(r){let c=D.make("div");return c.innerHTML=r,c.childElementCount>0}static getContentLength(r){return D.isNativeInput(r)?r.value.length:r.nodeType===Node.TEXT_NODE?r.length:r.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(r){let c;Jr(r)?(c=document.createElement("div"),c.innerHTML=r):c=r;let a=(n)=>!D.blockElements.includes(n.tagName.toLowerCase())&&Array.from(n.children).every(a);return Array.from(c.children).every(a)}static getDeepestBlockElements(r){return D.containsOnlyInlineElements(r)?[r]:Array.from(r.children).reduce((c,a)=>[...c,...D.getDeepestBlockElements(a)],[])}static getHolder(r){return Jr(r)?document.getElementById(r):r}static isAnchor(r){return r.tagName.toLowerCase()==="a"}static offset(r){let c=r.getBoundingClientRect(),a=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop,u=c.top+n,f=c.left+a;return{top:u,left:f,bottom:u+c.height,right:f+c.width}}}function hp(r){return!/[^\t\n\r ]/.test(r)}function pp(r){let c=window.getComputedStyle(r),a=parseFloat(c.fontSize),n=parseFloat(c.lineHeight)||a*1.2,u=parseFloat(c.paddingTop),f=parseFloat(c.borderTopWidth),o=parseFloat(c.marginTop),h=a*0.8,l=(n-a)/2;return o+f+u+l+h}function af(r){r.dataset.empty=D.isEmpty(r)?"true":"false"}var vp={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":"","Convert to":""}},yp={Text:"",Link:"",Bold:"",Italic:""},lp={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},gp={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},nf={ui:vp,toolNames:yp,tools:lp,blockTunes:gp},uf=class r{static ui(c,a){return r._t(c,a)}static t(c,a){return r._t(c,a)}static setDictionary(c){r.currentDictionary=c}static _t(c,a){let n=r.getNamespace(c);return!n||!n[a]?a:n[a]}static getNamespace(c){return c.split(".").reduce((a,n)=>!a||!Object.keys(a).length?{}:a[n],r.currentDictionary)}};uf.currentDictionary=nf;var yr=uf;class Wa extends Error{}class uc{constructor(){this.subscribers={}}on(r,c){r in this.subscribers||(this.subscribers[r]=[]),this.subscribers[r].push(c)}once(r,c){r in this.subscribers||(this.subscribers[r]=[]);let a=(n)=>{let u=c(n),f=this.subscribers[r].indexOf(a);return f!==-1&&this.subscribers[r].splice(f,1),u};this.subscribers[r].push(a)}emit(r,c){Pr(this.subscribers)||!this.subscribers[r]||this.subscribers[r].reduce((a,n)=>{let u=n(a);return u!==void 0?u:a},c)}off(r,c){if(this.subscribers[r]===void 0){console.warn(`EventDispatcher .off(): there is no subscribers for event "${r.toString()}". Probably, .off() called before .on()`);return}for(let a=0;a<this.subscribers[r].length;a++)if(this.subscribers[r][a]===c){delete this.subscribers[r][a];break}}destroy(){this.subscribers={}}}function Rr(r){Object.setPrototypeOf(this,{get id(){return r.id},get name(){return r.name},get config(){return r.config},get holder(){return r.holder},get isEmpty(){return r.isEmpty},get selected(){return r.selected},set stretched(c){r.stretched=c},get stretched(){return r.stretched},get focusable(){return r.focusable},call(c,a){return r.call(c,a)},save(){return r.save()},validate(c){return r.validate(c)},dispatchChange(){r.dispatchChange()},getActiveToolboxEntry(){return r.getActiveToolboxEntry()}})}class fc{constructor(){this.allListeners=[]}on(r,c,a,n=!1){let u=fp("l"),f={id:u,element:r,eventType:c,handler:a,options:n};if(!this.findOne(r,c,a))return this.allListeners.push(f),r.addEventListener(c,a,n),u}off(r,c,a,n){let u=this.findAll(r,c,a);u.forEach((f,o)=>{let h=this.allListeners.indexOf(u[o]);h>-1&&(this.allListeners.splice(h,1),f.element.removeEventListener(f.eventType,f.handler,f.options))})}offById(r){let c=this.findById(r);c&&c.element.removeEventListener(c.eventType,c.handler,c.options)}findOne(r,c,a){let n=this.findAll(r,c,a);return n.length>0?n[0]:null}findAll(r,c,a){let n,u=r?this.findByEventTarget(r):[];return r&&c&&a?n=u.filter((f)=>f.eventType===c&&f.handler===a):r&&c?n=u.filter((f)=>f.eventType===c):n=u,n}removeAll(){this.allListeners.map((r)=>{r.element.removeEventListener(r.eventType,r.handler,r.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(r){return this.allListeners.filter((c)=>{if(c.element===r)return c})}findByType(r){return this.allListeners.filter((c)=>{if(c.eventType===r)return c})}findByHandler(r){return this.allListeners.filter((c)=>{if(c.handler===r)return c})}findById(r){return this.allListeners.find((c)=>c.id===r)}}class ${constructor({config:r,eventsDispatcher:c}){if(this.nodes={},this.listeners=new fc,this.readOnlyMutableListeners={on:(a,n,u,f=!1)=>{this.mutableListenerIds.push(this.listeners.on(a,n,u,f))},clearAll:()=>{for(let a of this.mutableListenerIds)this.listeners.offById(a);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===$)throw TypeError("Constructors for abstract class Module are not allowed.");this.config=r,this.eventsDispatcher=c}set state(r){this.Editor=r}removeAllNodes(){for(let r in this.nodes){let c=this.nodes[r];c instanceof HTMLElement&&c.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}}class C{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){let r=window.getSelection();return r?r.anchorNode:null}static get anchorElement(){let r=window.getSelection();if(!r)return null;let c=r.anchorNode;return c?D.isElement(c)?c:c.parentElement:null}static get anchorOffset(){let r=window.getSelection();return r?r.anchorOffset:null}static get isCollapsed(){let r=window.getSelection();return r?r.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(C.get())}static isSelectionAtEditor(r){if(!r)return!1;let c=r.anchorNode||r.focusNode;c&&c.nodeType===Node.TEXT_NODE&&(c=c.parentNode);let a=null;return c&&c instanceof Element&&(a=c.closest(`.${C.CSS.editorZone}`)),a?a.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(r){if(!r)return;let c=r.startContainer;c&&c.nodeType===Node.TEXT_NODE&&(c=c.parentNode);let a=null;return c&&c instanceof Element&&(a=c.closest(`.${C.CSS.editorZone}`)),a?a.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!C.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(r){return r&&r.rangeCount?r.getRangeAt(0):null}static get rect(){let r=document.selection,c,a={x:0,y:0,width:0,height:0};if(r&&r.type!=="Control")return r=r,c=r.createRange(),a.x=c.boundingLeft,a.y=c.boundingTop,a.width=c.boundingWidth,a.height=c.boundingHeight,a;if(!window.getSelection)return F("Method window.getSelection is not supported","warn"),a;if(r=window.getSelection(),r.rangeCount===null||isNaN(r.rangeCount))return F("Method SelectionUtils.rangeCount is not supported","warn"),a;if(r.rangeCount===0)return a;if(c=r.getRangeAt(0).cloneRange(),c.getBoundingClientRect&&(a=c.getBoundingClientRect()),a.x===0&&a.y===0){let n=document.createElement("span");if(n.getBoundingClientRect){n.appendChild(document.createTextNode("​")),c.insertNode(n),a=n.getBoundingClientRect();let u=n.parentNode;u.removeChild(n),u.normalize()}}return a}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(r,c=0){let a=document.createRange(),n=window.getSelection();return D.isNativeInput(r)?D.canSetCaret(r)?(r.focus(),r.selectionStart=r.selectionEnd=c,r.getBoundingClientRect()):void 0:(a.setStart(r,c),a.setEnd(r,c),n.removeAllRanges(),n.addRange(a),a.getBoundingClientRect())}static isRangeInsideContainer(r){let c=C.range;return c===null?!1:r.contains(c.startContainer)}static addFakeCursor(){let r=C.range;if(r===null)return;let c=D.make("span","codex-editor__fake-cursor");c.dataset.mutationFree="true",r.collapse(),r.insertNode(c)}static isFakeCursorInsideContainer(r){return D.find(r,".codex-editor__fake-cursor")!==null}static removeFakeCursor(r=document.body){let c=D.find(r,".codex-editor__fake-cursor");c&&c.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=C.range}restore(){if(!this.savedSelectionRange)return;let r=window.getSelection();r.removeAllRanges(),r.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){let r=window.getSelection(),c=document.createRange();c.selectNodeContents(r.focusNode),c.collapse(!1),r.removeAllRanges(),r.addRange(c)}findParentTag(r,c,a=10){let n=window.getSelection(),u=null;return!n||!n.anchorNode||!n.focusNode?null:([n.anchorNode,n.focusNode].forEach((f)=>{let o=a;for(;o>0&&f.parentNode&&!(f.tagName===r&&(u=f,c&&f.classList&&!f.classList.contains(c)&&(u=null),u));)f=f.parentNode,o--}),u)}expandToTag(r){let c=window.getSelection();c.removeAllRanges();let a=document.createRange();a.selectNodeContents(r),c.addRange(a)}}function ip(r,c){let{type:a,target:n,addedNodes:u,removedNodes:f}=r;return r.type==="attributes"&&r.attributeName==="data-empty"?!1:!!(c.contains(n)||a==="childList"&&(Array.from(u).some((o)=>o===c)||Array.from(f).some((o)=>o===c)))}var Ja="redactor dom changed",ff="block changed",of="fake cursor is about to be toggled",hf="fake cursor have been set",Lc="editor mobile layout toggled";function Ya(r,c){if(!r.conversionConfig)return!1;let a=r.conversionConfig[c];return q(a)||Jr(a)}function Hc(r,c){return Ya(r.tool,c)}function pf(r,c){return Object.entries(r).some(([a,n])=>c[a]&&op(c[a],n))}async function vf(r,c){let a=(await r.save()).data,n=c.find((u)=>u.name===r.name);return n!==void 0&&!Ya(n,"export")?[]:c.reduce((u,f)=>{if(!Ya(f,"import")||f.toolbox===void 0)return u;let o=f.toolbox.filter((h)=>{if(Pr(h)||h.icon===void 0)return!1;if(h.data!==void 0){if(pf(h.data,a))return!1}else if(f.name===r.name)return!1;return!0});return u.push({...f,toolbox:o}),u},[])}function Fu(r,c){return r.mergeable?r.name===c.name?!0:Hc(c,"export")&&Hc(r,"import"):!1}function kp(r,c){let a=c==null?void 0:c.export;return q(a)?a(r):Jr(a)?r[a]:(a!==void 0&&F("Conversion «export» property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),"")}function Xu(r,c){let a=c==null?void 0:c.import;return q(a)?a(r):Jr(a)?{[a]:r}:(a!==void 0&&F("Conversion «import» property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),{})}var z=((r)=>(r.Default="default",r.Separator="separator",r.Html="html",r))(z||{}),Zr=((r)=>(r.APPEND_CALLBACK="appendCallback",r.RENDERED="rendered",r.MOVED="moved",r.UPDATED="updated",r.REMOVED="removed",r.ON_PASTE="onPaste",r))(Zr||{});class ur extends uc{constructor({id:r=np(),data:c,tool:a,readOnly:n,tunesData:u},f){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(o=void 0)=>{let h=o===void 0,l=o instanceof InputEvent;!h&&!l&&this.detectToolRootChange(o);let p;h||l?p=!0:p=!(o.length>0&&o.every((y)=>{let{addedNodes:v,removedNodes:x,target:O}=y;return[...Array.from(v),...Array.from(x),O].some((k)=>(D.isElement(k)||(k=k.parentElement),k&&k.closest('[data-mutation-free="true"]')!==null))})),p&&(this.dropInputsCache(),this.updateCurrentInput(),this.toggleInputsEmptyMark(),this.call("updated"),this.emit("didMutated",this))},this.name=a.name,this.id=r,this.settings=a.settings,this.config=a.settings.config||{},this.editorEventBus=f||null,this.blockAPI=new Rr(this),this.tool=a,this.toolInstance=a.create(c,this.blockAPI,n),this.tunes=a.tunes,this.composeTunes(u),this.holder=this.compose(),window.requestIdleCallback(()=>{this.watchBlockMutations(),this.addInputEvents(),this.toggleInputsEmptyMark()})}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;let r=D.findAllInputs(this.holder);return this.inputIndex>r.length-1&&(this.inputIndex=r.length-1),this.cachedInputs=r,r}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(r){let c=this.inputs.findIndex((a)=>a===r||a.contains(r));c!==-1&&(this.inputIndex=c)}get firstInput(){return this.inputs[0]}get lastInput(){let r=this.inputs;return r[r.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then((r)=>r&&!Pr(r.data)?r.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return q(this.toolInstance.merge)}get focusable(){return this.inputs.length!==0}get isEmpty(){let r=D.isEmpty(this.pluginsContent,"/"),c=!this.hasMedia;return r&&c}get hasMedia(){let r=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(r.join(","))}set selected(r){var c,a;this.holder.classList.toggle(ur.CSS.selected,r);let n=r===!0&&C.isRangeInsideContainer(this.holder),u=r===!1&&C.isFakeCursorInsideContainer(this.holder);(n||u)&&((c=this.editorEventBus)==null||c.emit(of,{state:r}),n?C.addFakeCursor():C.removeFakeCursor(this.holder),(a=this.editorEventBus)==null||a.emit(hf,{state:r}))}get selected(){return this.holder.classList.contains(ur.CSS.selected)}set stretched(r){this.holder.classList.toggle(ur.CSS.wrapperStretched,r)}get stretched(){return this.holder.classList.contains(ur.CSS.wrapperStretched)}set dropTarget(r){this.holder.classList.toggle(ur.CSS.dropTarget,r)}get pluginsContent(){return this.toolRenderedElement}call(r,c){if(q(this.toolInstance[r])){r==="appendCallback"&&F("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[r].call(this.toolInstance,c)}catch(a){F(`Error during '${r}' call: ${a.message}`,"error")}}}async mergeWith(r){await this.toolInstance.merge(r)}async save(){let r=await this.toolInstance.save(this.pluginsContent),c=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([u,f])=>{if(q(f.save))try{c[u]=f.save()}catch(o){F(`Tune ${f.constructor.name} save method throws an Error %o`,"warn",o)}});let a=window.performance.now(),n;return Promise.resolve(r).then((u)=>(n=window.performance.now(),{id:this.id,tool:this.name,data:u,tunes:c,time:n-a})).catch((u)=>{F(`Saving process for ${this.name} tool failed due to the ${u}`,"log","red")})}async validate(r){let c=!0;return this.toolInstance.validate instanceof Function&&(c=await this.toolInstance.validate(r)),c}getTunes(){let r=[],c=[],a=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[];return D.isElement(a)?r.push({type:z.Html,element:a}):Array.isArray(a)?r.push(...a):r.push(a),[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map((n)=>n.render()).forEach((n)=>{D.isElement(n)?c.push({type:z.Html,element:n}):Array.isArray(n)?c.push(...n):c.push(n)}),{toolTunes:r,commonTunes:c}}updateCurrentInput(){this.currentInput=D.isNativeInput(document.activeElement)||!C.anchorNode?document.activeElement:C.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),q(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){let r=this.tool.toolbox;if(r.length===1)return Promise.resolve(this.tool.toolbox[0]);let c=await this.data,a=r;return a==null?void 0:a.find((n)=>pf(n.data,c))}async exportDataAsString(){let r=await this.data;return kp(r,this.tool.conversionConfig)}compose(){let r=D.make("div",ur.CSS.wrapper),c=D.make("div",ur.CSS.content),a=this.toolInstance.render();r.dataset.id=this.id,this.toolRenderedElement=a,c.appendChild(this.toolRenderedElement);let n=c;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach((u)=>{if(q(u.wrap))try{n=u.wrap(n)}catch(f){F(`Tune ${u.constructor.name} wrap method throws an Error %o`,"warn",f)}}),r.appendChild(n),r}composeTunes(r){Array.from(this.tunes.values()).forEach((c)=>{(c.isInternal?this.defaultTunesInstances:this.tunesInstances).set(c.name,c.create(r[c.name],this.blockAPI))}),Object.entries(r).forEach(([c,a])=>{this.tunesInstances.has(c)||(this.unavailableTunesData[c]=a)})}addInputEvents(){this.inputs.forEach((r)=>{r.addEventListener("focus",this.handleFocus),D.isNativeInput(r)&&r.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach((r)=>{r.removeEventListener("focus",this.handleFocus),D.isNativeInput(r)&&r.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var r;this.redactorDomChangedCallback=(c)=>{let{mutations:a}=c;a.some((n)=>ip(n,this.toolRenderedElement))&&this.didMutated(a)},(r=this.editorEventBus)==null||r.on(Ja,this.redactorDomChangedCallback)}unwatchBlockMutations(){var r;(r=this.editorEventBus)==null||r.off(Ja,this.redactorDomChangedCallback)}detectToolRootChange(r){r.forEach((c)=>{if(Array.from(c.removedNodes).includes(this.toolRenderedElement)){let a=c.addedNodes[c.addedNodes.length-1];this.toolRenderedElement=a}})}dropInputsCache(){this.cachedInputs=[]}toggleInputsEmptyMark(){this.inputs.forEach(af)}}class yf extends ${constructor(){super(...arguments),this.insert=(r=this.config.defaultBlock,c={},a={},n,u,f,o)=>{let h=this.Editor.BlockManager.insert({id:o,tool:r,data:c,index:n,needToFocus:u,replace:f});return new Rr(h)},this.composeBlockData=async(r)=>{let c=this.Editor.Tools.blockTools.get(r);return new ur({tool:c,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=async(r,c,a)=>{let{BlockManager:n}=this.Editor,u=n.getBlockById(r);if(u===void 0)throw Error(`Block with id "${r}" not found`);let f=await n.update(u,c,a);return new Rr(f)},this.convert=async(r,c,a)=>{var n,u;let{BlockManager:f,Tools:o}=this.Editor,h=f.getBlockById(r);if(!h)throw Error(`Block with id "${r}" not found`);let l=o.blockTools.get(h.name),p=o.blockTools.get(c);if(!p)throw Error(`Block Tool with type "${c}" not found`);let y=((n=l==null?void 0:l.conversionConfig)==null?void 0:n.export)!==void 0,v=((u=p.conversionConfig)==null?void 0:u.import)!==void 0;if(y&&v){let x=await f.convert(h,c,a);return new Rr(x)}else{let x=[y?!1:Yc(h.name),v?!1:Yc(c)].filter(Boolean).join(" and ");throw Error(`Conversion from "${h.name}" to "${c}" is not possible. ${x} tool(s) should provide a "conversionConfig"`)}},this.insertMany=(r,c=this.Editor.BlockManager.blocks.length-1)=>{this.validateIndex(c);let a=r.map(({id:n,type:u,data:f})=>this.Editor.BlockManager.composeBlock({id:n,tool:u||this.config.defaultBlock,data:f}));return this.Editor.BlockManager.insertMany(a,c),a.map((n)=>new Rr(n))}}get methods(){return{clear:()=>this.clear(),render:(r)=>this.render(r),renderFromHTML:(r)=>this.renderFromHTML(r),delete:(r)=>this.delete(r),swap:(r,c)=>this.swap(r,c),move:(r,c)=>this.move(r,c),getBlockByIndex:(r)=>this.getBlockByIndex(r),getById:(r)=>this.getById(r),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:(r)=>this.getBlockIndex(r),getBlocksCount:()=>this.getBlocksCount(),getBlockByElement:(r)=>this.getBlockByElement(r),stretchBlock:(r,c=!0)=>this.stretchBlock(r,c),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,insertMany:this.insertMany,update:this.update,composeBlockData:this.composeBlockData,convert:this.convert}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(r){let c=this.Editor.BlockManager.getBlockById(r);if(!c){Ar("There is no block with id `"+r+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(c)}getBlockByIndex(r){let c=this.Editor.BlockManager.getBlockByIndex(r);if(c===void 0){Ar("There is no block at index `"+r+"`","warn");return}return new Rr(c)}getById(r){let c=this.Editor.BlockManager.getBlockById(r);return c===void 0?(Ar("There is no block with id `"+r+"`","warn"),null):new Rr(c)}getBlockByElement(r){let c=this.Editor.BlockManager.getBlock(r);if(c===void 0){Ar("There is no block corresponding to element `"+r+"`","warn");return}return new Rr(c)}swap(r,c){F("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(r,c)}move(r,c){this.Editor.BlockManager.move(r,c)}delete(r=this.Editor.BlockManager.currentBlockIndex){try{let c=this.Editor.BlockManager.getBlockByIndex(r);this.Editor.BlockManager.removeBlock(c)}catch(c){Ar(c,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}async clear(){await this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}async render(r){if(r===void 0||r.blocks===void 0)throw Error("Incorrect data passed to the render() method");this.Editor.ModificationsObserver.disable(),await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(r.blocks),this.Editor.ModificationsObserver.enable()}renderFromHTML(r){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(r,!0)}stretchBlock(r,c=!0){Ra(!0,"blocks.stretchBlock()","BlockAPI");let a=this.Editor.BlockManager.getBlockByIndex(r);a&&(a.stretched=c)}insertNewBlock(){F("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}validateIndex(r){if(typeof r!="number")throw Error("Index should be a number");if(r<0)throw Error("Index should be greater than or equal to 0");if(r===null)throw Error("Index should be greater than or equal to 0")}}function xp(r,c){return typeof r=="number"?c.BlockManager.getBlockByIndex(r):typeof r=="string"?c.BlockManager.getBlockById(r):c.BlockManager.getBlockById(r.id)}class lf extends ${constructor(){super(...arguments),this.setToFirstBlock=(r=this.Editor.Caret.positions.DEFAULT,c=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,r,c),!0):!1,this.setToLastBlock=(r=this.Editor.Caret.positions.DEFAULT,c=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,r,c),!0):!1,this.setToPreviousBlock=(r=this.Editor.Caret.positions.DEFAULT,c=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,r,c),!0):!1,this.setToNextBlock=(r=this.Editor.Caret.positions.DEFAULT,c=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,r,c),!0):!1,this.setToBlock=(r,c=this.Editor.Caret.positions.DEFAULT,a=0)=>{let n=xp(r,this.Editor);return n===void 0?!1:(this.Editor.Caret.setToBlock(n,c,a),!0)},this.focus=(r=!1)=>r?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class gf extends ${get methods(){return{emit:(r,c)=>this.emit(r,c),off:(r,c)=>this.off(r,c),on:(r,c)=>this.on(r,c)}}on(r,c){this.eventsDispatcher.on(r,c)}emit(r,c){this.eventsDispatcher.emit(r,c)}off(r,c){this.eventsDispatcher.off(r,c)}}class Ca extends ${static getNamespace(r,c){return c?`blockTunes.${r}`:`tools.${r}`}get methods(){return{t:()=>{Ar("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(r,c){return Object.assign(this.methods,{t:(a)=>yr.t(Ca.getNamespace(r,c),a)})}}class kf extends ${get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,tools:this.Editor.ToolsAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(r,c){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(r,c)})}}class xf extends ${get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class bf extends ${get methods(){return{on:(r,c,a,n)=>this.on(r,c,a,n),off:(r,c,a,n)=>this.off(r,c,a,n),offById:(r)=>this.offById(r)}}on(r,c,a,n){return this.listeners.on(r,c,a,n)}off(r,c,a,n){this.listeners.off(r,c,a,n)}offById(r){this.listeners.offById(r)}}var sf={exports:{}};(function(r,c){(function(a,n){r.exports=n()})(window,function(){return function(a){var n={};function u(f){if(n[f])return n[f].exports;var o=n[f]={i:f,l:!1,exports:{}};return a[f].call(o.exports,o,o.exports,u),o.l=!0,o.exports}return u.m=a,u.c=n,u.d=function(f,o,h){u.o(f,o)||Object.defineProperty(f,o,{enumerable:!0,get:h})},u.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},u.t=function(f,o){if(1&o&&(f=u(f)),8&o||4&o&&typeof f=="object"&&f&&f.__esModule)return f;var h=Object.create(null);if(u.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:f}),2&o&&typeof f!="string")for(var l in f)u.d(h,l,function(p){return f[p]}.bind(null,l));return h},u.n=function(f){var o=f&&f.__esModule?function(){return f.default}:function(){return f};return u.d(o,"a",o),o},u.o=function(f,o){return Object.prototype.hasOwnProperty.call(f,o)},u.p="/",u(u.s=0)}([function(a,n,u){u(1),a.exports=function(){/*!
       * Codex JavaScript Notification module
       * https://github.com/codex-team/js-notifier
       */var f=u(6),o="cdx-notify--bounce-in",h=null;return{show:function(l){if(l.message){(function(){if(h)return!0;h=f.getWrapper(),document.body.appendChild(h)})();var p=null,y=l.time||8000;switch(l.type){case"confirm":p=f.confirm(l);break;case"prompt":p=f.prompt(l);break;default:p=f.alert(l),window.setTimeout(function(){p.remove()},y)}h.appendChild(p),p.classList.add(o)}}}}()},function(a,n,u){var f=u(2);typeof f=="string"&&(f=[[a.i,f,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};u(4)(f,o),f.locals&&(a.exports=f.locals)},function(a,n,u){(a.exports=u(3)(!1)).push([a.i,".cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen,Ubuntu,Cantarell,\"Fira Sans\",\"Droid Sans\",\"Helvetica Neue\",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}",""])},function(a,n){a.exports=function(u){var f=[];return f.toString=function(){return this.map(function(o){var h=function(l,p){var y=l[1]||"",v=l[3];if(!v)return y;if(p&&typeof btoa=="function"){var x=(k=v,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(k))))+" */"),O=v.sources.map(function(i){return"/*# sourceURL="+v.sourceRoot+i+" */"});return[y].concat(O).concat([x]).join(`
`)}var k;return[y].join(`
`)}(o,u);return o[2]?"@media "+o[2]+"{"+h+"}":h}).join("")},f.i=function(o,h){typeof o=="string"&&(o=[[null,o,""]]);for(var l={},p=0;p<this.length;p++){var y=this[p][0];typeof y=="number"&&(l[y]=!0)}for(p=0;p<o.length;p++){var v=o[p];typeof v[0]=="number"&&l[v[0]]||(h&&!v[2]?v[2]=h:h&&(v[2]="("+v[2]+") and ("+h+")"),f.push(v))}},f}},function(a,n,u){var f,o,h={},l=(f=function(){return window&&document&&document.all&&!window.atob},function(){return o===void 0&&(o=f.apply(this,arguments)),o}),p=function(L){var s={};return function(j){if(typeof j=="function")return j();if(s[j]===void 0){var U=function(B){return document.querySelector(B)}.call(this,j);if(window.HTMLIFrameElement&&U instanceof window.HTMLIFrameElement)try{U=U.contentDocument.head}catch{U=null}s[j]=U}return s[j]}}(),y=null,v=0,x=[],O=u(5);function k(L,s){for(var j=0;j<L.length;j++){var U=L[j],B=h[U.id];if(B){B.refs++;for(var J=0;J<B.parts.length;J++)B.parts[J](U.parts[J]);for(;J<U.parts.length;J++)B.parts.push(S(U.parts[J],s))}else{var H=[];for(J=0;J<U.parts.length;J++)H.push(S(U.parts[J],s));h[U.id]={id:U.id,refs:1,parts:H}}}}function i(L,s){for(var j=[],U={},B=0;B<L.length;B++){var J=L[B],H=s.base?J[0]+s.base:J[0],W={css:J[1],media:J[2],sourceMap:J[3]};U[H]?U[H].parts.push(W):j.push(U[H]={id:H,parts:[W]})}return j}function g(L,s){var j=p(L.insertInto);if(!j)throw Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var U=x[x.length-1];if(L.insertAt==="top")U?U.nextSibling?j.insertBefore(s,U.nextSibling):j.appendChild(s):j.insertBefore(s,j.firstChild),x.push(s);else if(L.insertAt==="bottom")j.appendChild(s);else{if(typeof L.insertAt!="object"||!L.insertAt.before)throw Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var B=p(L.insertInto+" "+L.insertAt.before);j.insertBefore(s,B)}}function b(L){if(L.parentNode===null)return!1;L.parentNode.removeChild(L);var s=x.indexOf(L);s>=0&&x.splice(s,1)}function A(L){var s=document.createElement("style");return L.attrs.type===void 0&&(L.attrs.type="text/css"),P(s,L.attrs),g(L,s),s}function P(L,s){Object.keys(s).forEach(function(j){L.setAttribute(j,s[j])})}function S(L,s){var j,U,B,J;if(s.transform&&L.css){if(!(J=s.transform(L.css)))return function(){};L.css=J}if(s.singleton){var H=v++;j=y||(y=A(s)),U=G.bind(null,j,H,!1),B=G.bind(null,j,H,!0)}else L.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(j=function(W){var _=document.createElement("link");return W.attrs.type===void 0&&(W.attrs.type="text/css"),W.attrs.rel="stylesheet",P(_,W.attrs),g(W,_),_}(s),U=function(W,_,t){var{css:e,sourceMap:pr}=t,m=_.convertToAbsoluteUrls===void 0&&pr;(_.convertToAbsoluteUrls||m)&&(e=O(e)),pr&&(e+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(pr))))+" */");var V=new Blob([e],{type:"text/css"}),kr=W.href;W.href=URL.createObjectURL(V),kr&&URL.revokeObjectURL(kr)}.bind(null,j,s),B=function(){b(j),j.href&&URL.revokeObjectURL(j.href)}):(j=A(s),U=function(W,_){var{css:t,media:e}=_;if(e&&W.setAttribute("media",e),W.styleSheet)W.styleSheet.cssText=t;else{for(;W.firstChild;)W.removeChild(W.firstChild);W.appendChild(document.createTextNode(t))}}.bind(null,j),B=function(){b(j)});return U(L),function(W){if(W){if(W.css===L.css&&W.media===L.media&&W.sourceMap===L.sourceMap)return;U(L=W)}else B()}}a.exports=function(L,s){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw Error("The style-loader cannot be used in a non-browser environment");(s=s||{}).attrs=typeof s.attrs=="object"?s.attrs:{},s.singleton||typeof s.singleton=="boolean"||(s.singleton=l()),s.insertInto||(s.insertInto="head"),s.insertAt||(s.insertAt="bottom");var j=i(L,s);return k(j,s),function(U){for(var B=[],J=0;J<j.length;J++){var H=j[J];(W=h[H.id]).refs--,B.push(W)}for(U&&k(i(U,s),s),J=0;J<B.length;J++){var W;if((W=B[J]).refs===0){for(var _=0;_<W.parts.length;_++)W.parts[_]();delete h[W.id]}}}};var d,N=(d=[],function(L,s){return d[L]=s,d.filter(Boolean).join(`
`)});function G(L,s,j,U){var B=j?"":U.css;if(L.styleSheet)L.styleSheet.cssText=N(s,B);else{var J=document.createTextNode(B),H=L.childNodes;H[s]&&L.removeChild(H[s]),H.length?L.insertBefore(J,H[s]):L.appendChild(J)}}},function(a,n){a.exports=function(u){var f=typeof window<"u"&&window.location;if(!f)throw Error("fixUrls requires window.location");if(!u||typeof u!="string")return u;var o=f.protocol+"//"+f.host,h=o+f.pathname.replace(/\/[^\/]*$/,"/");return u.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,p){var y,v=p.trim().replace(/^"(.*)"$/,function(x,O){return O}).replace(/^'(.*)'$/,function(x,O){return O});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(v)?l:(y=v.indexOf("//")===0?v:v.indexOf("/")===0?o+v:h+v.replace(/^\.\//,""),"url("+JSON.stringify(y)+")")})}},function(a,n,u){var f,o,h,l,p,y,v,x,O;a.exports=(f="cdx-notifies",o="cdx-notify",h="cdx-notify__cross",l="cdx-notify__button--confirm",p="cdx-notify__button--cancel",y="cdx-notify__input",v="cdx-notify__button",x="cdx-notify__btns-wrapper",{alert:O=function(k){var i=document.createElement("DIV"),g=document.createElement("DIV"),b=k.message,A=k.style;return i.classList.add(o),A&&i.classList.add(o+"--"+A),i.innerHTML=b,g.classList.add(h),g.addEventListener("click",i.remove.bind(i)),i.appendChild(g),i},confirm:function(k){var i=O(k),g=document.createElement("div"),b=document.createElement("button"),A=document.createElement("button"),P=i.querySelector("."+h),S=k.cancelHandler,d=k.okHandler;return g.classList.add(x),b.innerHTML=k.okText||"Confirm",A.innerHTML=k.cancelText||"Cancel",b.classList.add(v),A.classList.add(v),b.classList.add(l),A.classList.add(p),S&&typeof S=="function"&&(A.addEventListener("click",S),P.addEventListener("click",S)),d&&typeof d=="function"&&b.addEventListener("click",d),b.addEventListener("click",i.remove.bind(i)),A.addEventListener("click",i.remove.bind(i)),g.appendChild(b),g.appendChild(A),i.appendChild(g),i},prompt:function(k){var i=O(k),g=document.createElement("div"),b=document.createElement("button"),A=document.createElement("input"),P=i.querySelector("."+h),S=k.cancelHandler,d=k.okHandler;return g.classList.add(x),b.innerHTML=k.okText||"Ok",b.classList.add(v),b.classList.add(l),A.classList.add(y),k.placeholder&&A.setAttribute("placeholder",k.placeholder),k.default&&(A.value=k.default),k.inputType&&(A.type=k.inputType),S&&typeof S=="function"&&P.addEventListener("click",S),d&&typeof d=="function"&&b.addEventListener("click",function(){d(A.value)}),b.addEventListener("click",i.remove.bind(i)),g.appendChild(A),g.appendChild(b),i.appendChild(g),i},getWrapper:function(){var k=document.createElement("DIV");return k.classList.add(f),k}})}])})})(sf);var bp=sf.exports,sp=Ic(bp);class Of{show(r){sp.show(r)}}class Lf extends ${constructor({config:r,eventsDispatcher:c}){super({config:r,eventsDispatcher:c}),this.notifier=new Of}get methods(){return{show:(r)=>this.show(r)}}show(r){return this.notifier.show(r)}}class Af extends ${get methods(){let r=()=>this.isEnabled;return{toggle:(c)=>this.toggle(c),get isEnabled(){return r()}}}toggle(r){return this.Editor.ReadOnly.toggle(r)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var Pf={exports:{}};(function(r,c){(function(a,n){r.exports=n()})(Vh,function(){function a(v){var x=v.tags,O=Object.keys(x),k=O.map(function(i){return typeof x[i]}).every(function(i){return i==="object"||i==="boolean"||i==="function"});if(!k)throw Error("The configuration was invalid");this.config=v}var n=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function u(v){return n.indexOf(v.nodeName)!==-1}var f=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function o(v){return f.indexOf(v.nodeName)!==-1}a.prototype.clean=function(v){let x=document.implementation.createHTMLDocument(),O=x.createElement("div");return O.innerHTML=v,this._sanitize(x,O),O.innerHTML},a.prototype._sanitize=function(v,x){var O=h(v,x),k=O.firstChild();if(k)do{if(k.nodeType===Node.TEXT_NODE)if(k.data.trim()===""&&(k.previousElementSibling&&u(k.previousElementSibling)||k.nextElementSibling&&u(k.nextElementSibling))){x.removeChild(k),this._sanitize(v,x);break}else continue;if(k.nodeType===Node.COMMENT_NODE){x.removeChild(k),this._sanitize(v,x);break}var i=o(k),g;i&&(g=Array.prototype.some.call(k.childNodes,u));var b=!!x.parentNode,A=u(x)&&u(k)&&b,P=k.nodeName.toLowerCase(),S=l(this.config,P,k),d=i&&g;if(d||p(k,S)||!this.config.keepNestedBlockElements&&A){if(!(k.nodeName==="SCRIPT"||k.nodeName==="STYLE"))for(;k.childNodes.length>0;)x.insertBefore(k.childNodes[0],k);x.removeChild(k),this._sanitize(v,x);break}for(var N=0;N<k.attributes.length;N+=1){var G=k.attributes[N];y(G,S,k)&&(k.removeAttribute(G.name),N=N-1)}this._sanitize(v,k)}while(k=O.nextSibling())};function h(v,x){return v.createTreeWalker(x,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function l(v,x,O){return typeof v.tags[x]=="function"?v.tags[x](O):v.tags[x]}function p(v,x){return typeof x>"u"?!0:typeof x=="boolean"?!x:!1}function y(v,x,O){var k=v.name.toLowerCase();return x===!0?!1:typeof x[k]=="function"?!x[k](v.value,O):typeof x[k]>"u"||x[k]===!1?!0:typeof x[k]=="string"?x[k]!==v.value:!1}return a})})(Pf);var Op=Pf.exports,Lp=Ic(Op);function _a(r,c){return r.map((a)=>{let n=q(c)?c(a.tool):c;return Pr(n)||(a.data=Ia(a.data,n)),a})}function dr(r,c={}){return new Lp({tags:c}).clean(r)}function Ia(r,c){return Array.isArray(r)?Ap(r,c):fr(r)?Pp(r,c):Jr(r)?Sp(r,c):r}function Ap(r,c){return r.map((a)=>Ia(a,c))}function Pp(r,c){let a={};for(let n in r){if(!Object.prototype.hasOwnProperty.call(r,n))continue;let u=r[n],f=dp(c[n])?c[n]:c;a[n]=Ia(u,f)}return a}function Sp(r,c){return fr(c)?dr(r,c):c===!1?dr(r,{}):r}function dp(r){return fr(r)||Eh(r)||q(r)}class Sf extends ${get methods(){return{clean:(r,c)=>this.clean(r,c)}}clean(r,c){return dr(r,c)}}class df extends ${get methods(){return{save:()=>this.save()}}save(){return this.Editor.ReadOnly.isEnabled?(Ar("Editor's content can not be saved in read-only mode","warn"),Promise.reject(Error("Editor's content can not be saved in read-only mode"))):this.Editor.Saver.save()}}class jf extends ${constructor(){super(...arguments),this.selectionUtils=new C}get methods(){return{findParentTag:(r,c)=>this.findParentTag(r,c),expandToTag:(r)=>this.expandToTag(r),save:()=>this.selectionUtils.save(),restore:()=>this.selectionUtils.restore(),setFakeBackground:()=>this.selectionUtils.setFakeBackground(),removeFakeBackground:()=>this.selectionUtils.removeFakeBackground()}}findParentTag(r,c){return this.selectionUtils.findParentTag(r,c)}expandToTag(r){this.selectionUtils.expandToTag(r)}}class Uf extends ${get methods(){return{getBlockTools:()=>Array.from(this.Editor.Tools.blockTools.values())}}}class Nf extends ${get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class Df extends ${get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:(r)=>this.toggleBlockSettings(r),toggleToolbox:(r)=>this.toggleToolbox(r)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(r){if(this.Editor.BlockManager.currentBlockIndex===-1){Ar("Could't toggle the Toolbar because there is no block selected ","warn");return}r??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(r){if(this.Editor.BlockManager.currentBlockIndex===-1){Ar("Could't toggle the Toolbox because there is no block selected ","warn");return}r??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var Bf={exports:{}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(r,c){(function(a,n){r.exports=n()})(window,function(){return function(a){var n={};function u(f){if(n[f])return n[f].exports;var o=n[f]={i:f,l:!1,exports:{}};return a[f].call(o.exports,o,o.exports,u),o.l=!0,o.exports}return u.m=a,u.c=n,u.d=function(f,o,h){u.o(f,o)||Object.defineProperty(f,o,{enumerable:!0,get:h})},u.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},u.t=function(f,o){if(1&o&&(f=u(f)),8&o||4&o&&typeof f=="object"&&f&&f.__esModule)return f;var h=Object.create(null);if(u.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:f}),2&o&&typeof f!="string")for(var l in f)u.d(h,l,function(p){return f[p]}.bind(null,l));return h},u.n=function(f){var o=f&&f.__esModule?function(){return f.default}:function(){return f};return u.d(o,"a",o),o},u.o=function(f,o){return Object.prototype.hasOwnProperty.call(f,o)},u.p="",u(u.s=0)}([function(a,n,u){a.exports=u(1)},function(a,n,u){u.r(n),u.d(n,"default",function(){return f});class f{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(o,h,l){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);let p=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},l);if(p.hidingDelay&&(this.hidingDelay=p.hidingDelay),this.nodes.content.innerHTML="",typeof h=="string")this.nodes.content.appendChild(document.createTextNode(h));else{if(!(h instanceof Node))throw Error("[CodeX Tooltip] Wrong type of «content» passed. It should be an instance of Node or String. But "+typeof h+" given.");this.nodes.content.appendChild(h)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),p.placement){case"top":this.placeTop(o,p);break;case"left":this.placeLeft(o,p);break;case"right":this.placeRight(o,p);break;case"bottom":default:this.placeBottom(o,p)}p&&p.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},p.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(o=!1){if(this.hidingDelay&&!o)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(o,h,l){o.addEventListener("mouseenter",()=>{this.show(o,h,l)}),o.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){if(document.getElementById("codex-tooltips-style"))return;let h=u(2),l=this.make("style",null,{textContent:h.toString(),id:"codex-tooltips-style"});this.prepend(document.head,l)}placeBottom(o,h){let l=o.getBoundingClientRect(),p=l.left+o.clientWidth/2-this.nodes.wrapper.offsetWidth/2,y=l.bottom+window.pageYOffset+this.offsetTop+h.marginTop;this.applyPlacement("bottom",p,y)}placeTop(o,h){let l=o.getBoundingClientRect(),p=l.left+o.clientWidth/2-this.nodes.wrapper.offsetWidth/2,y=l.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",p,y)}placeLeft(o,h){let l=o.getBoundingClientRect(),p=l.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-h.marginLeft,y=l.top+window.pageYOffset+o.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",p,y)}placeRight(o,h){let l=o.getBoundingClientRect(),p=l.right+this.offsetRight+h.marginRight,y=l.top+window.pageYOffset+o.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",p,y)}applyPlacement(o,h,l){this.nodes.wrapper.classList.add(this.CSS.placement[o]),this.nodes.wrapper.style.left=h+"px",this.nodes.wrapper.style.top=l+"px"}make(o,h=null,l={}){let p=document.createElement(o);Array.isArray(h)?p.classList.add(...h):h&&p.classList.add(h);for(let y in l)l.hasOwnProperty(y)&&(p[y]=l[y]);return p}append(o,h){Array.isArray(h)?h.forEach((l)=>o.appendChild(l)):o.appendChild(h)}prepend(o,h){Array.isArray(h)?(h=h.reverse()).forEach((l)=>o.prepend(l)):o.prepend(h)}}},function(a,n){a.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(Bf);var jp=Bf.exports,Up=Ic(jp),Sr=null;function Ma(){Sr||(Sr=new Up)}function Np(r,c,a){Ma(),Sr==null||Sr.show(r,c,a)}function Kc(r=!1){Ma(),Sr==null||Sr.hide(r)}function Wc(r,c,a){Ma(),Sr==null||Sr.onHover(r,c,a)}function Dp(){Sr==null||Sr.destroy(),Sr=null}class Gf extends ${constructor({config:r,eventsDispatcher:c}){super({config:r,eventsDispatcher:c})}get methods(){return{show:(r,c,a)=>this.show(r,c,a),hide:()=>this.hide(),onHover:(r,c,a)=>this.onHover(r,c,a)}}show(r,c,a){Np(r,c,a)}hide(){Kc()}onHover(r,c,a){Wc(r,c,a)}}class Rf extends ${get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function Zf(r,c){let a={};return Object.entries(r).forEach(([n,u])=>{if(fr(u)){let f=c?`${c}.${n}`:n;Object.values(u).every((o)=>Jr(o))?a[n]=f:a[n]=Zf(u,f);return}a[n]=u}),a}var Or=Zf(nf);function Bp(r,c){let a={};return Object.keys(r).forEach((n)=>{let u=c[n];u!==void 0?a[u]=r[n]:a[n]=r[n]}),a}var Jf=class r{constructor(c,a){this.cursor=-1,this.items=[],this.items=c||[],this.focusedCssClass=a}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(c){c<this.items.length&&c>=-1&&(this.dropCursor(),this.cursor=c,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(c){this.items=c}next(){this.cursor=this.leafNodesAndReturnIndex(r.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(r.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(c){if(this.items.length===0)return this.cursor;let a=this.cursor;return a===-1?a=c===r.directions.RIGHT?-1:0:this.items[a].classList.remove(this.focusedCssClass),c===r.directions.RIGHT?a=(a+1)%this.items.length:a=(this.items.length+a-1)%this.items.length,D.canSetCaret(this.items[a])&&Jc(()=>C.setCursor(this.items[a]),50)(),this.items[a].classList.add(this.focusedCssClass),a}};Jf.directions={RIGHT:"right",LEFT:"left"};var xc=Jf;class Xr{constructor(r){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=(c)=>{if(this.isEventReadyForHandling(c))switch(Xr.usedKeys.includes(c.keyCode)&&c.preventDefault(),c.keyCode){case M.TAB:this.handleTabPress(c);break;case M.LEFT:case M.UP:this.flipLeft();break;case M.RIGHT:case M.DOWN:this.flipRight();break;case M.ENTER:this.handleEnterPress(c);break}},this.iterator=new xc(r.items,r.focusedItemClass),this.activateCallback=r.activateCallback,this.allowedKeys=r.allowedKeys||Xr.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[M.TAB,M.LEFT,M.RIGHT,M.ENTER,M.UP,M.DOWN]}activate(r,c){this.activated=!0,r&&this.iterator.setItems(r),c!==void 0&&this.iterator.setCursor(c),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(r){this.flipCallbacks.push(r)}removeOnFlip(r){this.flipCallbacks=this.flipCallbacks.filter((c)=>c!==r)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(r){return this.activated&&this.allowedKeys.includes(r.keyCode)}handleTabPress(r){switch(r.shiftKey?xc.directions.LEFT:xc.directions.RIGHT){case xc.directions.RIGHT:this.flipRight();break;case xc.directions.LEFT:this.flipLeft();break}}handleEnterPress(r){this.activated&&(this.iterator.currentItem&&(r.stopPropagation(),r.preventDefault(),this.iterator.currentItem.click()),q(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach((r)=>r())}}var Gp='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',Rp='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',Zp='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.5 17.5L9.64142 12.6414C9.56331 12.5633 9.56331 12.4367 9.64142 12.3586L14.5 7.5"/></svg>',Jp='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.58284 17.5L14.4414 12.6414C14.5195 12.5633 14.5195 12.4367 14.4414 12.3586L9.58284 7.5"/></svg>',Yp='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',Hp='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',Kp='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',Wp='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',Tu='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',Cp='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',_p='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',Yf='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M11.5 17.5L5 11M5 11V15.5M5 11H9.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12.5 6.5L19 13M19 13V8.5M19 13H14.5"/></svg>',Ip='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',Mp='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',Qp='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>',$p="__",mp="--";function Cr(r){return(c,a)=>[[r,c].filter((n)=>!!n).join($p),a].filter((n)=>!!n).join(mp)}var bc=Cr("ce-hint"),sc={root:bc(),alignedStart:bc(null,"align-left"),alignedCenter:bc(null,"align-center"),title:bc("title"),description:bc("description")};class Hf{constructor(r){this.nodes={root:D.make("div",[sc.root,r.alignment==="center"?sc.alignedCenter:sc.alignedStart]),title:D.make("div",sc.title,{textContent:r.title})},this.nodes.root.appendChild(this.nodes.title),r.description!==void 0&&(this.nodes.description=D.make("div",sc.description,{textContent:r.description}),this.nodes.root.appendChild(this.nodes.description))}getElement(){return this.nodes.root}}class Mc{constructor(r){this.params=r}get name(){if(this.params!==void 0&&"name"in this.params)return this.params.name}destroy(){Kc()}onChildrenOpen(){var r;this.params!==void 0&&"children"in this.params&&typeof((r=this.params.children)==null?void 0:r.onOpen)=="function"&&this.params.children.onOpen()}onChildrenClose(){var r;this.params!==void 0&&"children"in this.params&&typeof((r=this.params.children)==null?void 0:r.onClose)=="function"&&this.params.children.onClose()}handleClick(){var r,c;this.params!==void 0&&"onActivate"in this.params&&((c=(r=this.params).onActivate)==null||c.call(r,this.params))}addHint(r,c){let a=new Hf(c);Wc(r,a.getElement(),{placement:c.position,hidingDelay:100})}get children(){var r;return this.params!==void 0&&"children"in this.params&&((r=this.params.children)==null?void 0:r.items)!==void 0?this.params.children.items:[]}get hasChildren(){return this.children.length>0}get isChildrenOpen(){var r;return this.params!==void 0&&"children"in this.params&&((r=this.params.children)==null?void 0:r.isOpen)===!0}get isChildrenFlippable(){var r;return!(this.params===void 0||!("children"in this.params)||((r=this.params.children)==null?void 0:r.isFlippable)===!1)}get isChildrenSearchable(){var r;return this.params!==void 0&&"children"in this.params&&((r=this.params.children)==null?void 0:r.searchable)===!0}get closeOnActivate(){return this.params!==void 0&&"closeOnActivate"in this.params&&this.params.closeOnActivate}get isActive(){return this.params===void 0||!("isActive"in this.params)?!1:typeof this.params.isActive=="function"?this.params.isActive():this.params.isActive===!0}}var sr=Cr("ce-popover-item"),w={container:sr(),active:sr(null,"active"),disabled:sr(null,"disabled"),focused:sr(null,"focused"),hidden:sr(null,"hidden"),confirmationState:sr(null,"confirmation"),noHover:sr(null,"no-hover"),noFocus:sr(null,"no-focus"),title:sr("title"),secondaryTitle:sr("secondary-title"),icon:sr("icon"),iconTool:sr("icon","tool"),iconChevronRight:sr("icon","chevron-right"),wobbleAnimation:Cr("wobble")()};class Wr extends Mc{constructor(r,c){super(r),this.params=r,this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{var a;(a=this.nodes.root)==null||a.classList.remove(w.noFocus)},this.removeSpecialHoverBehavior=()=>{var a;(a=this.nodes.root)==null||a.classList.remove(w.noHover)},this.onErrorAnimationEnd=()=>{var a,n;(a=this.nodes.icon)==null||a.classList.remove(w.wobbleAnimation),(n=this.nodes.icon)==null||n.removeEventListener("animationend",this.onErrorAnimationEnd)},this.nodes.root=this.make(r,c)}get isDisabled(){return this.params.isDisabled===!0}get toggle(){return this.params.toggle}get title(){return this.params.title}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root===null?!1:this.nodes.root.classList.contains(w.focused)}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled&&this.confirmationState!==null){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(r){var c;(c=this.nodes.root)==null||c.classList.toggle(w.active,r)}toggleHidden(r){var c;(c=this.nodes.root)==null||c.classList.toggle(w.hidden,r)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(r,c){var a,n;let u=(c==null?void 0:c.wrapperTag)||"div",f=D.make(u,w.container,{type:u==="button"?"button":void 0});return r.name&&(f.dataset.itemName=r.name),this.nodes.icon=D.make("div",[w.icon,w.iconTool],{innerHTML:r.icon||Kp}),f.appendChild(this.nodes.icon),r.title!==void 0&&f.appendChild(D.make("div",w.title,{innerHTML:r.title||""})),r.secondaryLabel&&f.appendChild(D.make("div",w.secondaryTitle,{textContent:r.secondaryLabel})),this.hasChildren&&f.appendChild(D.make("div",[w.icon,w.iconChevronRight],{innerHTML:Jp})),this.isActive&&f.classList.add(w.active),r.isDisabled&&f.classList.add(w.disabled),r.hint!==void 0&&((a=c==null?void 0:c.hint)==null?void 0:a.enabled)!==!1&&this.addHint(f,{...r.hint,position:((n=c==null?void 0:c.hint)==null?void 0:n.position)||"right"}),f}enableConfirmationMode(r){if(this.nodes.root===null)return;let c={...this.params,...r,confirmation:"confirmation"in r?r.confirmation:void 0},a=this.make(c);this.nodes.root.innerHTML=a.innerHTML,this.nodes.root.classList.add(w.confirmationState),this.confirmationState=r,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){if(this.nodes.root===null)return;let r=this.make(this.params);this.nodes.root.innerHTML=r.innerHTML,this.nodes.root.classList.remove(w.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){var r,c,a;(r=this.nodes.root)==null||r.classList.add(w.noHover),(c=this.nodes.root)==null||c.classList.add(w.noFocus),(a=this.nodes.root)==null||a.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){var r;this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),(r=this.nodes.root)==null||r.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(r){var c;if(!("confirmation"in r)||r.confirmation===void 0)try{(c=r.onActivate)==null||c.call(r,r),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(r.confirmation)}animateError(){var r,c,a;(r=this.nodes.icon)!=null&&r.classList.contains(w.wobbleAnimation)||((c=this.nodes.icon)==null||c.classList.add(w.wobbleAnimation),(a=this.nodes.icon)==null||a.addEventListener("animationend",this.onErrorAnimationEnd))}}var Sa=Cr("ce-popover-item-separator"),da={container:Sa(),line:Sa("line"),hidden:Sa(null,"hidden")};class Qa extends Mc{constructor(){super(),this.nodes={root:D.make("div",da.container),line:D.make("div",da.line)},this.nodes.root.appendChild(this.nodes.line)}getElement(){return this.nodes.root}toggleHidden(r){var c;(c=this.nodes.root)==null||c.classList.toggle(da.hidden,r)}}var jr=((r)=>(r.Closed="closed",r.ClosedOnActivate="closed-on-activate",r))(jr||{}),vr=Cr("ce-popover"),E={popover:vr(),popoverContainer:vr("container"),popoverOpenTop:vr(null,"open-top"),popoverOpenLeft:vr(null,"open-left"),popoverOpened:vr(null,"opened"),search:vr("search"),nothingFoundMessage:vr("nothing-found-message"),nothingFoundMessageDisplayed:vr("nothing-found-message","displayed"),items:vr("items"),overlay:vr("overlay"),overlayHidden:vr("overlay","hidden"),popoverNested:vr(null,"nested"),getPopoverNestedClass:(r)=>vr(null,`nested-level-${r.toString()}`),popoverInline:vr(null,"inline"),popoverHeader:vr("header")},er=((r)=>(r.NestingLevel="--nesting-level",r.PopoverHeight="--popover-height",r.InlinePopoverWidth="--inline-popover-width",r.TriggerItemLeft="--trigger-item-left",r.TriggerItemTop="--trigger-item-top",r))(er||{}),Vu=Cr("ce-popover-item-html"),zu={root:Vu(),hidden:Vu(null,"hidden")};class rc extends Mc{constructor(r,c){var a,n;super(r),this.nodes={root:D.make("div",zu.root)},this.nodes.root.appendChild(r.element),r.name&&(this.nodes.root.dataset.itemName=r.name),r.hint!==void 0&&((a=c==null?void 0:c.hint)==null?void 0:a.enabled)!==!1&&this.addHint(this.nodes.root,{...r.hint,position:((n=c==null?void 0:c.hint)==null?void 0:n.position)||"right"})}getElement(){return this.nodes.root}toggleHidden(r){var c;(c=this.nodes.root)==null||c.classList.toggle(zu.hidden,r)}getControls(){let r=this.nodes.root.querySelectorAll(`button, ${D.allInputsSelector}`);return Array.from(r)}}class $a extends uc{constructor(r,c={}){super(),this.params=r,this.itemsRenderParams=c,this.listeners=new fc,this.messages={nothingFound:"Nothing found",search:"Search"},this.items=this.buildItems(r.items),r.messages&&(this.messages={...this.messages,...r.messages}),this.nodes={},this.nodes.popoverContainer=D.make("div",[E.popoverContainer]),this.nodes.nothingFoundMessage=D.make("div",[E.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popoverContainer.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=D.make("div",[E.items]),this.items.forEach((a)=>{let n=a.getElement();n!==null&&this.nodes.items.appendChild(n)}),this.nodes.popoverContainer.appendChild(this.nodes.items),this.listeners.on(this.nodes.popoverContainer,"click",(a)=>this.handleClick(a)),this.nodes.popover=D.make("div",[E.popover,this.params.class]),this.nodes.popover.appendChild(this.nodes.popoverContainer)}get itemsDefault(){return this.items.filter((r)=>r instanceof Wr)}getElement(){return this.nodes.popover}show(){this.nodes.popover.classList.add(E.popoverOpened),this.search!==void 0&&this.search.focus()}hide(){this.nodes.popover.classList.remove(E.popoverOpened),this.nodes.popover.classList.remove(E.popoverOpenTop),this.itemsDefault.forEach((r)=>r.reset()),this.search!==void 0&&this.search.clear(),this.emit(jr.Closed)}destroy(){var r;this.items.forEach((c)=>c.destroy()),this.nodes.popover.remove(),this.listeners.removeAll(),(r=this.search)==null||r.destroy()}activateItemByName(r){let c=this.items.find((a)=>a.name===r);this.handleItemClick(c)}buildItems(r){return r.map((c)=>{switch(c.type){case z.Separator:return new Qa;case z.Html:return new rc(c,this.itemsRenderParams[z.Html]);default:return new Wr(c,this.itemsRenderParams[z.Default])}})}getTargetItem(r){return this.items.filter((c)=>c instanceof Wr||c instanceof rc).find((c)=>{let a=c.getElement();return a===null?!1:r.composedPath().includes(a)})}handleItemClick(r){if(!(("isDisabled"in r)&&r.isDisabled)){if(r.hasChildren){this.showNestedItems(r),"handleClick"in r&&typeof r.handleClick=="function"&&r.handleClick();return}this.itemsDefault.filter((c)=>c!==r).forEach((c)=>c.reset()),"handleClick"in r&&typeof r.handleClick=="function"&&r.handleClick(),this.toggleItemActivenessIfNeeded(r),r.closeOnActivate&&(this.hide(),this.emit(jr.ClosedOnActivate))}}handleClick(r){let c=this.getTargetItem(r);c!==void 0&&this.handleItemClick(c)}toggleItemActivenessIfNeeded(r){if(r instanceof Wr&&(r.toggle===!0&&r.toggleActive(),typeof r.toggle=="string")){let c=this.itemsDefault.filter((a)=>a.toggle===r.toggle);if(c.length===1){r.toggleActive();return}c.forEach((a)=>{a.toggleActive(a===r)})}}}var Cc=((r)=>(r.Search="search",r))(Cc||{}),ja=Cr("cdx-search-field"),Ua={wrapper:ja(),icon:ja("icon"),input:ja("input")};class Kf extends uc{constructor({items:r,placeholder:c}){super(),this.listeners=new fc,this.items=r,this.wrapper=D.make("div",Ua.wrapper);let a=D.make("div",Ua.icon,{innerHTML:Ip});this.input=D.make("input",Ua.input,{placeholder:c,tabIndex:-1}),this.wrapper.appendChild(a),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.emit(Cc.Search,{query:this.searchQuery,items:this.foundItems})})}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.emit(Cc.Search,{query:"",items:this.foundItems})}destroy(){this.listeners.removeAll()}get foundItems(){return this.items.filter((r)=>this.checkItem(r))}checkItem(r){var c,a;let n=((c=r.title)==null?void 0:c.toLowerCase())||"",u=(a=this.searchQuery)==null?void 0:a.toLowerCase();return u!==void 0?n.includes(u):!1}}var{defineProperty:Fp,getOwnPropertyDescriptor:Xp}=Object,Tp=(r,c,a,n)=>{for(var u=n>1?void 0:n?Xp(c,a):c,f=r.length-1,o;f>=0;f--)(o=r[f])&&(u=(n?o(c,a,u):o(u))||u);return n&&u&&Fp(c,a,u),u},Wf=class r extends $a{constructor(c,a){super(c,a),this.nestingLevel=0,this.nestedPopoverTriggerItem=null,this.previouslyHoveredItem=null,this.scopeElement=document.body,this.hide=()=>{var n;super.hide(),this.destroyNestedPopoverIfExists(),(n=this.flipper)==null||n.deactivate(),this.previouslyHoveredItem=null},this.onFlip=()=>{let n=this.itemsDefault.find((u)=>u.isFocused);n==null||n.onFocus()},this.onSearch=(n)=>{var u;let f=n.query==="",o=n.items.length===0;this.items.forEach((l)=>{let p=!1;l instanceof Wr?p=!n.items.includes(l):(l instanceof Qa||l instanceof rc)&&(p=o||!f),l.toggleHidden(p)}),this.toggleNothingFoundMessage(o);let h=n.query===""?this.flippableElements:n.items.map((l)=>l.getElement());(u=this.flipper)!=null&&u.isActivated&&(this.flipper.deactivate(),this.flipper.activate(h))},c.nestingLevel!==void 0&&(this.nestingLevel=c.nestingLevel),this.nestingLevel>0&&this.nodes.popover.classList.add(E.popoverNested),c.scopeElement!==void 0&&(this.scopeElement=c.scopeElement),this.nodes.popoverContainer!==null&&this.listeners.on(this.nodes.popoverContainer,"mouseover",(n)=>this.handleHover(n)),c.searchable&&this.addSearch(),c.flippable!==!1&&(this.flipper=new Xr({items:this.flippableElements,focusedItemClass:w.focused,allowedKeys:[M.TAB,M.UP,M.DOWN,M.ENTER]}),this.flipper.onFlip(this.onFlip))}hasFocus(){return this.flipper===void 0?!1:this.flipper.hasFocus()}get scrollTop(){return this.nodes.items===null?0:this.nodes.items.scrollTop}get offsetTop(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetTop}show(){var c;this.nodes.popover.style.setProperty(er.PopoverHeight,this.size.height+"px"),this.shouldOpenBottom||this.nodes.popover.classList.add(E.popoverOpenTop),this.shouldOpenRight||this.nodes.popover.classList.add(E.popoverOpenLeft),super.show(),(c=this.flipper)==null||c.activate(this.flippableElements)}destroy(){this.hide(),super.destroy()}showNestedItems(c){this.nestedPopover!==null&&this.nestedPopover!==void 0||(this.nestedPopoverTriggerItem=c,this.showNestedPopoverForItem(c))}handleHover(c){let a=this.getTargetItem(c);a!==void 0&&this.previouslyHoveredItem!==a&&(this.destroyNestedPopoverIfExists(),this.previouslyHoveredItem=a,a.hasChildren&&this.showNestedPopoverForItem(a))}setTriggerItemPosition(c,a){let n=a.getElement(),u=(n?n.offsetTop:0)-this.scrollTop,f=this.offsetTop+u;c.style.setProperty(er.TriggerItemTop,f+"px")}destroyNestedPopoverIfExists(){var c,a;this.nestedPopover===void 0||this.nestedPopover===null||(this.nestedPopover.off(jr.ClosedOnActivate,this.hide),this.nestedPopover.hide(),this.nestedPopover.destroy(),this.nestedPopover.getElement().remove(),this.nestedPopover=null,(c=this.flipper)==null||c.activate(this.flippableElements),(a=this.nestedPopoverTriggerItem)==null||a.onChildrenClose())}showNestedPopoverForItem(c){var a;this.nestedPopover=new r({searchable:c.isChildrenSearchable,items:c.children,nestingLevel:this.nestingLevel+1,flippable:c.isChildrenFlippable,messages:this.messages}),c.onChildrenOpen(),this.nestedPopover.on(jr.ClosedOnActivate,this.hide);let n=this.nestedPopover.getElement();return this.nodes.popover.appendChild(n),this.setTriggerItemPosition(n,c),n.style.setProperty(er.NestingLevel,this.nestedPopover.nestingLevel.toString()),this.nestedPopover.show(),(a=this.flipper)==null||a.deactivate(),this.nestedPopover}get shouldOpenBottom(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;let c=this.nodes.popoverContainer.getBoundingClientRect(),a=this.scopeElement.getBoundingClientRect(),n=this.size.height,u=c.top+n,f=c.top-n,o=Math.min(window.innerHeight,a.bottom);return f<a.top||u<=o}get shouldOpenRight(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;let c=this.nodes.popover.getBoundingClientRect(),a=this.scopeElement.getBoundingClientRect(),n=this.size.width,u=c.right+n,f=c.left-n,o=Math.min(window.innerWidth,a.right);return f<a.left||u<=o}get size(){var c;let a={height:0,width:0};if(this.nodes.popover===null)return a;let n=this.nodes.popover.cloneNode(!0);n.style.visibility="hidden",n.style.position="absolute",n.style.top="-1000px",n.classList.add(E.popoverOpened),(c=n.querySelector("."+E.popoverNested))==null||c.remove(),document.body.appendChild(n);let u=n.querySelector("."+E.popoverContainer);return a.height=u.offsetHeight,a.width=u.offsetWidth,n.remove(),a}get flippableElements(){return this.items.map((c)=>{if(c instanceof Wr)return c.getElement();if(c instanceof rc)return c.getControls()}).flat().filter((c)=>c!=null)}addSearch(){this.search=new Kf({items:this.itemsDefault,placeholder:this.messages.search}),this.search.on(Cc.Search,this.onSearch);let c=this.search.getElement();c.classList.add(E.search),this.nodes.popoverContainer.insertBefore(c,this.nodes.popoverContainer.firstChild)}toggleNothingFoundMessage(c){this.nodes.nothingFoundMessage.classList.toggle(E.nothingFoundMessageDisplayed,c)}};Tp([ac],Wf.prototype,"size",1);var ma=Wf;class Cf extends ma{constructor(r){let c=!nc();super({...r,class:E.popoverInline},{[z.Default]:{wrapperTag:"button",hint:{position:"top",alignment:"center",enabled:c}},[z.Html]:{hint:{position:"top",alignment:"center",enabled:c}}}),this.items.forEach((a)=>{!(a instanceof Wr)&&!(a instanceof rc)||a.hasChildren&&a.isChildrenOpen&&this.showNestedItems(a)})}get offsetLeft(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetLeft}show(){this.nestingLevel===0&&this.nodes.popover.style.setProperty(er.InlinePopoverWidth,this.size.width+"px"),super.show()}handleHover(){}setTriggerItemPosition(r,c){let a=c.getElement(),n=a?a.offsetLeft:0,u=this.offsetLeft+n;r.style.setProperty(er.TriggerItemLeft,u+"px")}showNestedItems(r){if(this.nestedPopoverTriggerItem===r){this.destroyNestedPopoverIfExists(),this.nestedPopoverTriggerItem=null;return}super.showNestedItems(r)}showNestedPopoverForItem(r){let c=super.showNestedPopoverForItem(r);return c.getElement().classList.add(E.getPopoverNestedClass(c.nestingLevel)),c}handleItemClick(r){var c;r!==this.nestedPopoverTriggerItem&&((c=this.nestedPopoverTriggerItem)==null||c.handleClick(),super.destroyNestedPopoverIfExists()),super.handleItemClick(r)}}var _f=class r{constructor(){this.scrollPosition=null}lock(){Za?this.lockHard():document.body.classList.add(r.CSS.scrollLocked)}unlock(){Za?this.unlockHard():document.body.classList.remove(r.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(r.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(r.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};_f.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};var Vp=_f,Na=Cr("ce-popover-header"),Da={root:Na(),text:Na("text"),backButton:Na("back-button")};class If{constructor({text:r,onBackButtonClick:c}){this.listeners=new fc,this.text=r,this.onBackButtonClick=c,this.nodes={root:D.make("div",[Da.root]),backButton:D.make("button",[Da.backButton]),text:D.make("div",[Da.text])},this.nodes.backButton.innerHTML=Zp,this.nodes.root.appendChild(this.nodes.backButton),this.listeners.on(this.nodes.backButton,"click",this.onBackButtonClick),this.nodes.text.innerText=this.text,this.nodes.root.appendChild(this.nodes.text)}getElement(){return this.nodes.root}destroy(){this.nodes.root.remove(),this.listeners.destroy()}}class Mf{constructor(){this.history=[]}push(r){this.history.push(r)}pop(){return this.history.pop()}get currentTitle(){return this.history.length===0?"":this.history[this.history.length-1].title}get currentItems(){return this.history.length===0?[]:this.history[this.history.length-1].items}reset(){for(;this.history.length>1;)this.pop()}}class Fa extends $a{constructor(r){super(r,{[z.Default]:{hint:{enabled:!1}},[z.Html]:{hint:{enabled:!1}}}),this.scrollLocker=new Vp,this.history=new Mf,this.isHidden=!0,this.nodes.overlay=D.make("div",[E.overlay,E.overlayHidden]),this.nodes.popover.insertBefore(this.nodes.overlay,this.nodes.popover.firstChild),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.history.push({items:r.items})}show(){this.nodes.overlay.classList.remove(E.overlayHidden),super.show(),this.scrollLocker.lock(),this.isHidden=!1}hide(){this.isHidden||(super.hide(),this.nodes.overlay.classList.add(E.overlayHidden),this.scrollLocker.unlock(),this.history.reset(),this.isHidden=!0)}destroy(){super.destroy(),this.scrollLocker.unlock()}showNestedItems(r){this.updateItemsAndHeader(r.children,r.title),this.history.push({title:r.title,items:r.children})}updateItemsAndHeader(r,c){if(this.header!==null&&this.header!==void 0&&(this.header.destroy(),this.header=null),c!==void 0){this.header=new If({text:c,onBackButtonClick:()=>{this.history.pop(),this.updateItemsAndHeader(this.history.currentItems,this.history.currentTitle)}});let a=this.header.getElement();a!==null&&this.nodes.popoverContainer.insertBefore(a,this.nodes.popoverContainer.firstChild)}this.items.forEach((a)=>{var n;return(n=a.getElement())==null?void 0:n.remove()}),this.items=this.buildItems(r),this.items.forEach((a)=>{var n;let u=a.getElement();u!==null&&((n=this.nodes.items)==null||n.appendChild(u))})}}class Qf extends ${constructor(){super(...arguments),this.opened=!1,this.selection=new C,this.popover=null,this.close=()=>{this.opened&&(this.opened=!1,C.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&this.Editor.BlockSelection.unselectBlock(this.Editor.BlockManager.currentBlock),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(jr.Closed,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null))},this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var r;if(this.popover!==null)return"flipper"in this.popover?(r=this.popover)==null?void 0:r.flipper:void 0}make(){this.nodes.wrapper=D.make("div",[this.CSS.settings]),this.eventsDispatcher.on(Lc,this.close)}destroy(){this.removeAllNodes(),this.listeners.destroy(),this.eventsDispatcher.off(Lc,this.close)}async open(r=this.Editor.BlockManager.currentBlock){var c;this.opened=!0,this.selection.save(),this.Editor.BlockSelection.selectBlock(r),this.Editor.BlockSelection.clearCache();let{toolTunes:a,commonTunes:n}=r.getTunes();this.eventsDispatcher.emit(this.events.opened);let u=nc()?Fa:ma;this.popover=new u({searchable:!0,items:await this.getTunesItems(r,n,a),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:yr.ui(Or.ui.popover,"Nothing found"),search:yr.ui(Or.ui.popover,"Filter")}}),this.popover.on(jr.Closed,this.onPopoverClose),(c=this.nodes.wrapper)==null||c.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}async getTunesItems(r,c,a){let n=[];a!==void 0&&a.length>0&&(n.push(...a),n.push({type:z.Separator}));let u=Array.from(this.Editor.Tools.blockTools.values()),f=(await vf(r,u)).reduce((o,h)=>(h.toolbox.forEach((l)=>{o.push({icon:l.icon,title:yr.t(Or.toolNames,l.title),name:h.name,closeOnActivate:!0,onActivate:async()=>{let{BlockManager:p,Caret:y,Toolbar:v}=this.Editor,x=await p.convert(r,h.name,l.data);v.close(),y.setToBlock(x,y.positions.END)}})}),o),[]);return f.length>0&&(n.push({icon:Yf,name:"convert-to",title:yr.ui(Or.ui.popover,"Convert to"),children:{searchable:!0,items:f}}),n.push({type:z.Separator})),n.push(...c),n.map((o)=>this.resolveTuneAliases(o))}resolveTuneAliases(r){if(r.type===z.Separator||r.type===z.Html)return r;let c=Bp(r,{label:"title"});return r.confirmation&&(c.confirmation=this.resolveTuneAliases(r.confirmation)),c}}var $f={exports:{}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(r,c){(function(a,n){r.exports=n()})(window,function(){return function(a){var n={};function u(f){if(n[f])return n[f].exports;var o=n[f]={i:f,l:!1,exports:{}};return a[f].call(o.exports,o,o.exports,u),o.l=!0,o.exports}return u.m=a,u.c=n,u.d=function(f,o,h){u.o(f,o)||Object.defineProperty(f,o,{enumerable:!0,get:h})},u.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},u.t=function(f,o){if(1&o&&(f=u(f)),8&o||4&o&&typeof f=="object"&&f&&f.__esModule)return f;var h=Object.create(null);if(u.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:f}),2&o&&typeof f!="string")for(var l in f)u.d(h,l,function(p){return f[p]}.bind(null,l));return h},u.n=function(f){var o=f&&f.__esModule?function(){return f.default}:function(){return f};return u.d(o,"a",o),o},u.o=function(f,o){return Object.prototype.hasOwnProperty.call(f,o)},u.p="",u(u.s=0)}([function(a,n,u){function f(l,p){for(var y=0;y<p.length;y++){var v=p[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(l,v.key,v)}}function o(l,p,y){return p&&f(l.prototype,p),y&&f(l,y),l}u.r(n);var h=function(){function l(p){var y=this;(function(v,x){if(!(v instanceof x))throw TypeError("Cannot call a class as a function")})(this,l),this.commands={},this.keys={},this.name=p.name,this.parseShortcutName(p.name),this.element=p.on,this.callback=p.callback,this.executeShortcut=function(v){y.execute(v)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return o(l,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),o(l,[{key:"parseShortcutName",value:function(p){p=p.split("+");for(var y=0;y<p.length;y++){p[y]=p[y].toUpperCase();var v=!1;for(var x in l.supportedCommands)if(l.supportedCommands[x].includes(p[y])){v=this.commands[x]=!0;break}v||(this.keys[p[y]]=!0)}for(var O in l.supportedCommands)this.commands[O]||(this.commands[O]=!1)}},{key:"execute",value:function(p){var y,v={CMD:p.ctrlKey||p.metaKey,SHIFT:p.shiftKey,ALT:p.altKey},x=!0;for(y in this.commands)this.commands[y]!==v[y]&&(x=!1);var O,k=!0;for(O in this.keys)k=k&&p.keyCode===l.keyCodes[O];x&&k&&this.callback(p)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),l}();n.default=h}]).default})})($f);var zp=$f.exports,qp=Ic(zp);class mf{constructor(){this.registeredShortcuts=new Map}add(r){if(this.findShortcut(r.on,r.name))throw Error(`Shortcut ${r.name} is already registered for ${r.on}. Please remove it before add a new handler.`);let c=new qp({name:r.name,on:r.on,callback:r.handler}),a=this.registeredShortcuts.get(r.on)||[];this.registeredShortcuts.set(r.on,[...a,c])}remove(r,c){let a=this.findShortcut(r,c);if(!a)return;a.remove();let n=this.registeredShortcuts.get(r);this.registeredShortcuts.set(r,n.filter((u)=>u!==a))}findShortcut(r,c){return(this.registeredShortcuts.get(r)||[]).find(({name:a})=>a===c)}}var cc=new mf,wp=Object.defineProperty,Ep=Object.getOwnPropertyDescriptor,Ff=(r,c,a,n)=>{for(var u=n>1?void 0:n?Ep(c,a):c,f=r.length-1,o;f>=0;f--)(o=r[f])&&(u=(n?o(c,a,u):o(u))||u);return n&&u&&wp(c,a,u),u},Dc=((r)=>(r.Opened="toolbox-opened",r.Closed="toolbox-closed",r.BlockAdded="toolbox-block-added",r))(Dc||{}),Xa=class r extends uc{constructor({api:c,tools:a,i18nLabels:n}){super(),this.opened=!1,this.listeners=new fc,this.popover=null,this.handleMobileLayoutToggle=()=>{this.destroyPopover(),this.initPopover()},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=c,this.tools=a,this.i18nLabels=n,this.enableShortcuts(),this.nodes={toolbox:D.make("div",r.CSS.toolbox)},this.initPopover(),this.api.events.on(Lc,this.handleMobileLayoutToggle)}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}getElement(){return this.nodes.toolbox}hasFocus(){if(this.popover!==null)return"hasFocus"in this.popover?this.popover.hasFocus():void 0}destroy(){var c;super.destroy(),this.nodes&&this.nodes.toolbox&&this.nodes.toolbox.remove(),this.removeAllShortcuts(),(c=this.popover)==null||c.off(jr.Closed,this.onPopoverClose),this.listeners.destroy(),this.api.events.off(Lc,this.handleMobileLayoutToggle)}toolButtonActivated(c,a){this.insertNewBlock(c,a)}open(){var c;this.isEmpty||((c=this.popover)==null||c.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var c;(c=this.popover)==null||c.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}initPopover(){var c;let a=nc()?Fa:ma;this.popover=new a({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(jr.Closed,this.onPopoverClose),(c=this.nodes.toolbox)==null||c.append(this.popover.getElement())}destroyPopover(){this.popover!==null&&(this.popover.hide(),this.popover.off(jr.Closed,this.onPopoverClose),this.popover.destroy(),this.popover=null),this.nodes.toolbox!==null&&(this.nodes.toolbox.innerHTML="")}get toolsToBeDisplayed(){let c=[];return this.tools.forEach((a)=>{a.toolbox&&c.push(a)}),c}get toolboxItemsToBeDisplayed(){let c=(a,n)=>({icon:a.icon,title:yr.t(Or.toolNames,a.title||Yc(n.name)),name:n.name,onActivate:()=>{this.toolButtonActivated(n.name,a.data)},secondaryLabel:n.shortcut?Ka(n.shortcut):""});return this.toolsToBeDisplayed.reduce((a,n)=>(Array.isArray(n.toolbox)?n.toolbox.forEach((u)=>{a.push(c(u,n))}):n.toolbox!==void 0&&a.push(c(n.toolbox,n)),a),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach((c)=>{let a=c.shortcut;a&&this.enableShortcutForTool(c.name,a)})}enableShortcutForTool(c,a){cc.add({name:a,on:this.api.ui.nodes.redactor,handler:async(n)=>{n.preventDefault();let u=this.api.blocks.getCurrentBlockIndex(),f=this.api.blocks.getBlockByIndex(u);if(f)try{let o=await this.api.blocks.convert(f.id,c);this.api.caret.setToBlock(o,"end");return}catch{}this.insertNewBlock(c)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach((c)=>{let a=c.shortcut;a&&cc.remove(this.api.ui.nodes.redactor,a)})}async insertNewBlock(c,a){let n=this.api.blocks.getCurrentBlockIndex(),u=this.api.blocks.getBlockByIndex(n);if(!u)return;let f=u.isEmpty?n:n+1,o;if(a){let l=await this.api.blocks.composeBlockData(c);o=Object.assign(l,a)}let h=this.api.blocks.insert(c,o,void 0,f,void 0,u.isEmpty);h.call(Zr.APPEND_CALLBACK),this.api.caret.setToBlock(f),this.emit("toolbox-block-added",{block:h}),this.api.toolbar.close()}};Ff([ac],Xa.prototype,"toolsToBeDisplayed",1);Ff([ac],Xa.prototype,"toolboxItemsToBeDisplayed",1);var tp=Xa,Xf="block hovered";async function ep(r,c){let a=navigator.keyboard;if(!a)return c;try{return(await a.getLayoutMap()).get(r)||c}catch(n){return console.error(n),c}}class Tf extends ${constructor({config:r,eventsDispatcher:c}){super({config:r,eventsDispatcher:c}),this.toolboxInstance=null}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){var r;return{opened:(r=this.toolboxInstance)==null?void 0:r.opened,close:()=>{var c;(c=this.toolboxInstance)==null||c.close()},open:()=>{if(this.toolboxInstance===null){F("toolbox.open() called before initialization is finished","warn");return}this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>{if(this.toolboxInstance===null){F("toolbox.toggle() called before initialization is finished","warn");return}this.toolboxInstance.toggle()},hasFocus:()=>{var c;return(c=this.toolboxInstance)==null?void 0:c.hasFocus()}}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(r){r?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):window.requestIdleCallback(()=>{this.drawUI(),this.enableModuleBindings()},{timeout:2000})}moveAndOpen(r=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance===null){F("Can't open Toolbar since Editor initialization is not finished yet","warn");return}if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!r)return;this.hoveredBlock=r;let c=r.holder,{isMobile:a}=this.Editor.UI,n,u=20,f=r.firstInput,o=c.getBoundingClientRect(),h=f!==void 0?f.getBoundingClientRect():null,l=h!==null?h.top-o.top:null,p=l!==null?l>u:void 0;if(a)n=c.offsetTop+c.offsetHeight;else if(f===void 0||p){let y=parseInt(window.getComputedStyle(r.pluginsContent).paddingTop);n=c.offsetTop+y}else{let y=pp(f),v=parseInt(window.getComputedStyle(this.nodes.plusButton).height,10);n=c.offsetTop+y-v+8+l}this.nodes.wrapper.style.top=`${Math.floor(n)}px`,this.Editor.BlockManager.blocks.length===1&&r.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){var r,c;this.Editor.ReadOnly.isEnabled||((r=this.nodes.wrapper)==null||r.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),(c=this.toolboxInstance)==null||c.close(),this.Editor.BlockSettings.close(),this.reset())}reset(){this.nodes.wrapper.style.top="unset"}open(r=!0){this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),r?this.blockActions.show():this.blockActions.hide()}async make(){this.nodes.wrapper=D.make("div",this.CSS.toolbar),["content","actions"].forEach((u)=>{this.nodes[u]=D.make("div",this.CSS[u])}),D.append(this.nodes.wrapper,this.nodes.content),D.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=D.make("div",this.CSS.plusButton,{innerHTML:_p}),D.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{Kc(!0),this.plusButtonClicked()},!1);let r=D.make("div");r.appendChild(document.createTextNode(yr.ui(Or.ui.toolbar.toolbox,"Add"))),r.appendChild(D.make("div",this.CSS.plusButtonShortcut,{textContent:"/"})),Wc(this.nodes.plusButton,r,{hidingDelay:400}),this.nodes.settingsToggler=D.make("span",this.CSS.settingsToggler,{innerHTML:Cp}),D.append(this.nodes.actions,this.nodes.settingsToggler);let c=D.make("div"),a=D.text(yr.ui(Or.ui.blockTunes.toggler,"Click to tune")),n=await ep("Slash","/");c.appendChild(a),c.appendChild(D.make("div",this.CSS.plusButtonShortcut,{textContent:Ka(`CMD + ${n}`)})),Wc(this.nodes.settingsToggler,c,{hidingDelay:400}),D.append(this.nodes.actions,this.makeToolbox()),D.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),D.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new tp({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:yr.ui(Or.ui.popover,"Filter"),nothingFound:yr.ui(Or.ui.popover,"Nothing found")}}),this.toolboxInstance.on(Dc.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Dc.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Dc.BlockAdded,({block:r})=>{let{BlockManager:c,Caret:a}=this.Editor,n=c.getBlockById(r.id);n.inputs.length===0&&(n===c.lastBlock?(c.insertAtEnd(),a.setToBlock(c.lastBlock)):a.setToBlock(c.nextBlock))}),this.toolboxInstance.getElement()}plusButtonClicked(){var r;this.Editor.BlockManager.currentBlock=this.hoveredBlock,(r=this.toolboxInstance)==null||r.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",(r)=>{var c;r.stopPropagation(),this.settingsTogglerClicked(),(c=this.toolboxInstance)!=null&&c.opened&&this.toolboxInstance.close(),Kc(!0)},!0),nc()||this.eventsDispatcher.on(Xf,(r)=>{var c;this.Editor.BlockSettings.opened||(c=this.toolboxInstance)!=null&&c.opened||this.moveAndOpen(r.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy()}}var mr=((r)=>(r[r.Block=0]="Block",r[r.Inline=1]="Inline",r[r.Tune=2]="Tune",r))(mr||{}),Bc=((r)=>(r.Shortcut="shortcut",r.Toolbox="toolbox",r.EnabledInlineTools="inlineToolbar",r.EnabledBlockTunes="tunes",r.Config="config",r))(Bc||{}),Vf=((r)=>(r.Shortcut="shortcut",r.SanitizeConfig="sanitize",r))(Vf||{}),tr=((r)=>(r.IsEnabledLineBreaks="enableLineBreaks",r.Toolbox="toolbox",r.ConversionConfig="conversionConfig",r.IsReadOnlySupported="isReadOnlySupported",r.PasteConfig="pasteConfig",r))(tr||{}),Ta=((r)=>(r.IsInline="isInline",r.Title="title",r))(Ta||{}),Ha=((r)=>(r.IsTune="isTune",r))(Ha||{});class Qc{constructor({name:r,constructable:c,config:a,api:n,isDefault:u,isInternal:f=!1,defaultPlaceholder:o}){this.api=n,this.name=r,this.constructable=c,this.config=a,this.isDefault=u,this.isInternal=f,this.defaultPlaceholder=o}get settings(){let r=this.config.config||{};return this.isDefault&&!("placeholder"in r)&&this.defaultPlaceholder&&(r.placeholder=this.defaultPlaceholder),r}reset(){if(q(this.constructable.reset))return this.constructable.reset()}prepare(){if(q(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){let r=this.constructable.shortcut;return this.config.shortcut||r}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===mr.Inline}isBlock(){return this.type===mr.Block}isTune(){return this.type===mr.Tune}}class zf extends ${constructor({config:r,eventsDispatcher:c}){super({config:r,eventsDispatcher:c}),this.CSS={inlineToolbar:"ce-inline-toolbar"},this.opened=!1,this.popover=null,this.toolbarVerticalMargin=nc()?20:6,this.toolsInstances=new Map}toggleReadOnly(r){r?this.destroy():window.requestIdleCallback(()=>{this.make()},{timeout:2000})}async tryToShow(r=!1){r&&this.close(),this.allowedToShow()&&(await this.open(),this.Editor.Toolbar.close())}close(){var r,c;this.opened&&(this.Editor.ReadOnly.isEnabled||(Array.from(this.toolsInstances.entries()).forEach(([a,n])=>{let u=this.getToolShortcut(a);u&&cc.remove(this.Editor.UI.nodes.redactor,u),q(n.clear)&&n.clear()}),this.toolsInstances=null,this.reset(),this.opened=!1,(r=this.popover)==null||r.hide(),(c=this.popover)==null||c.destroy(),this.popover=null))}containsNode(r){return this.nodes.wrapper===void 0?!1:this.nodes.wrapper.contains(r)}destroy(){var r;this.removeAllNodes(),(r=this.popover)==null||r.destroy(),this.popover=null}make(){this.nodes.wrapper=D.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),D.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}async open(){var r;if(this.opened)return;this.opened=!0,this.popover!==null&&this.popover.destroy();let c=await this.getInlineTools();this.popover=new Cf({items:c,scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:yr.ui(Or.ui.popover,"Nothing found"),search:yr.ui(Or.ui.popover,"Filter")}}),this.move(this.popover.size.width),(r=this.nodes.wrapper)==null||r.append(this.popover.getElement()),this.popover.show()}move(r){let c=C.rect,a=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),n={x:c.x-a.x,y:c.y+c.height-a.top+this.toolbarVerticalMargin};n.x+r+a.x>this.Editor.UI.contentRect.right&&(n.x=this.Editor.UI.contentRect.right-r-a.x),this.nodes.wrapper.style.left=Math.floor(n.x)+"px",this.nodes.wrapper.style.top=Math.floor(n.y)+"px"}reset(){this.nodes.wrapper.style.left="0",this.nodes.wrapper.style.top="0"}allowedToShow(){let r=["IMG","INPUT"],c=C.get(),a=C.text;if(!c||!c.anchorNode||c.isCollapsed||a.length<1)return!1;let n=D.isElement(c.anchorNode)?c.anchorNode:c.anchorNode.parentElement;if(n===null||c&&r.includes(n.tagName)||n.closest('[contenteditable="true"]')===null)return!1;let u=this.Editor.BlockManager.getBlock(c.anchorNode);return u?u.tool.inlineTools.size!==0:!1}async getInlineTools(){let r=C.get(),c=this.Editor.BlockManager.getBlock(r.anchorNode),a=Array.from(c.tool.inlineTools.values()),n=[];this.toolsInstances===null&&(this.toolsInstances=new Map);for(let u=0;u<a.length;u++){let f=a[u],o=f.create(),h=await o.render();this.toolsInstances.set(f.name,o);let l=this.getToolShortcut(f.name);if(l)try{this.enableShortcuts(f.name,l)}catch{}let p=l!==void 0?Ka(l):void 0,y=yr.t(Or.toolNames,f.title||Yc(f.name));[h].flat().forEach((v)=>{var x,O;let k={name:f.name,onActivate:()=>{this.toolClicked(o)},hint:{title:y,description:p}};if(D.isElement(v)){let i={...k,element:v,type:z.Html};if(q(o.renderActions)){let g=o.renderActions();i.children={isOpen:(x=o.checkState)==null?void 0:x.call(o,C.get()),isFlippable:!1,items:[{type:z.Html,element:g}]}}else(O=o.checkState)==null||O.call(o,C.get());n.push(i)}else if(v.type===z.Html)n.push({...k,...v,type:z.Html});else if(v.type===z.Separator)n.push({type:z.Separator});else{let i={...k,...v,type:z.Default};"children"in i&&u!==0&&n.push({type:z.Separator}),n.push(i),"children"in i&&u<a.length-1&&n.push({type:z.Separator})}})}return n}getToolShortcut(r){let{Tools:c}=this.Editor,a=c.inlineTools.get(r),n=c.internal.inlineTools;return Array.from(n.keys()).includes(r)?this.inlineTools[r][Vf.Shortcut]:a==null?void 0:a.shortcut}enableShortcuts(r,c){cc.add({name:c,handler:(a)=>{var n;let{currentBlock:u}=this.Editor.BlockManager;u&&u.tool.enabledInlineTools&&(a.preventDefault(),(n=this.popover)==null||n.activateItemByName(r))},on:this.Editor.UI.nodes.redactor})}toolClicked(r){var c;let a=C.range;(c=r.surround)==null||c.call(r,a),this.checkToolsState()}checkToolsState(){var r;(r=this.toolsInstances)==null||r.forEach((c)=>{var a;(a=c.checkState)==null||a.call(c,C.get())})}get inlineTools(){let r={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([c,a])=>{r[c]=a.create()}),r}}function qf(){let r=window.getSelection();if(r===null)return[null,0];let{focusNode:c,focusOffset:a}=r;return c===null?[null,0]:(c.nodeType!==Node.TEXT_NODE&&c.childNodes.length>0&&(c.childNodes[a]?(c=c.childNodes[a],a=0):(c=c.childNodes[a-1],a=c.textContent.length)),[c,a])}function wf(r,c,a,n){let u=document.createRange();n==="left"?(u.setStart(r,0),u.setEnd(c,a)):(u.setStart(c,a),u.setEnd(r,r.childNodes.length));let f=u.cloneContents(),o=document.createElement("div");o.appendChild(f);let h=o.textContent||"";return hp(h)}function Gc(r){let c=D.getDeepestNode(r);if(c===null||D.isEmpty(r))return!0;if(D.isNativeInput(c))return c.selectionEnd===0;if(D.isEmpty(r))return!0;let[a,n]=qf();return a===null?!1:wf(r,a,n,"left")}function Rc(r){let c=D.getDeepestNode(r,!0);if(c===null)return!0;if(D.isNativeInput(c))return c.selectionEnd===c.value.length;let[a,n]=qf();return a===null?!1:wf(r,a,n,"right")}class Ef extends ${keydown(r){switch(this.beforeKeydownProcessing(r),r.keyCode){case M.BACKSPACE:this.backspace(r);break;case M.DELETE:this.delete(r);break;case M.ENTER:this.enter(r);break;case M.DOWN:case M.RIGHT:this.arrowRightAndDown(r);break;case M.UP:case M.LEFT:this.arrowLeftAndUp(r);break;case M.TAB:this.tabPressed(r);break}r.key==="/"&&!r.ctrlKey&&!r.metaKey&&this.slashPressed(r),r.code==="Slash"&&(r.ctrlKey||r.metaKey)&&(r.preventDefault(),this.commandSlashPressed())}beforeKeydownProcessing(r){this.needToolbarClosing(r)&&eu(r.keyCode)&&(this.Editor.Toolbar.close(),r.ctrlKey||r.metaKey||r.altKey||r.shiftKey||this.Editor.BlockSelection.clearSelection(r))}keyup(r){r.shiftKey||this.Editor.UI.checkEmptiness()}dragOver(r){let c=this.Editor.BlockManager.getBlockByChildNode(r.target);c.dropTarget=!0}dragLeave(r){let c=this.Editor.BlockManager.getBlockByChildNode(r.target);c.dropTarget=!1}handleCommandC(r){let{BlockSelection:c}=this.Editor;c.anyBlockSelected&&c.copySelectedBlocks(r)}handleCommandX(r){let{BlockSelection:c,BlockManager:a,Caret:n}=this.Editor;c.anyBlockSelected&&c.copySelectedBlocks(r).then(()=>{let u=a.removeSelectedBlocks(),f=a.insertDefaultBlockAtIndex(u,!0);n.setToBlock(f,n.positions.START),c.clearSelection(r)})}tabPressed(r){let{InlineToolbar:c,Caret:a}=this.Editor;if(c.opened)return;(r.shiftKey?a.navigatePrevious(!0):a.navigateNext(!0))&&r.preventDefault()}commandSlashPressed(){this.Editor.BlockSelection.selectedBlocks.length>1||this.activateBlockSettings()}slashPressed(r){this.Editor.BlockManager.currentBlock.isEmpty&&(r.preventDefault(),this.Editor.Caret.insertContentAtCaretPosition("/"),this.activateToolbox())}enter(r){let{BlockManager:c,UI:a}=this.Editor,n=c.currentBlock;if(n===void 0||n.tool.isLineBreaksEnabled||a.someToolbarOpened&&a.someFlipperButtonFocused||r.shiftKey&&!Za)return;let u=n;n.currentInput!==void 0&&Gc(n.currentInput)&&!n.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):n.currentInput&&Rc(n.currentInput)?u=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):u=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(u),this.Editor.Toolbar.moveAndOpen(u),r.preventDefault()}backspace(r){let{BlockManager:c,Caret:a}=this.Editor,{currentBlock:n,previousBlock:u}=c;if(n===void 0||!C.isCollapsed||!n.currentInput||!Gc(n.currentInput))return;if(r.preventDefault(),this.Editor.Toolbar.close(),n.currentInput!==n.firstInput){a.navigatePrevious();return}if(u===null)return;if(u.isEmpty){c.removeBlock(u);return}if(n.isEmpty){c.removeBlock(n);let f=c.currentBlock;a.setToBlock(f,a.positions.END);return}Fu(u,n)?this.mergeBlocks(u,n):a.setToBlock(u,a.positions.END)}delete(r){let{BlockManager:c,Caret:a}=this.Editor,{currentBlock:n,nextBlock:u}=c;if(!C.isCollapsed||!Rc(n.currentInput))return;if(r.preventDefault(),this.Editor.Toolbar.close(),n.currentInput!==n.lastInput){a.navigateNext();return}if(u===null)return;if(u.isEmpty){c.removeBlock(u);return}if(n.isEmpty){c.removeBlock(n),a.setToBlock(u,a.positions.START);return}Fu(n,u)?this.mergeBlocks(n,u):a.setToBlock(u,a.positions.START)}mergeBlocks(r,c){let{BlockManager:a,Caret:n,Toolbar:u}=this.Editor;n.createShadow(r.lastInput),a.mergeBlocks(r,c).then(()=>{n.restoreCaret(r.pluginsContent),u.close()})}arrowRightAndDown(r){let c=Xr.usedKeys.includes(r.keyCode)&&(!r.shiftKey||r.keyCode===M.TAB);if(this.Editor.UI.someToolbarOpened&&c)return;this.Editor.Toolbar.close();let{currentBlock:a}=this.Editor.BlockManager,n=((a==null?void 0:a.currentInput)!==void 0?Rc(a.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(r.shiftKey&&r.keyCode===M.DOWN&&n){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}if(r.keyCode===M.DOWN||r.keyCode===M.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious()){r.preventDefault();return}Jc(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(r)}arrowLeftAndUp(r){if(this.Editor.UI.someToolbarOpened){if(Xr.usedKeys.includes(r.keyCode)&&(!r.shiftKey||r.keyCode===M.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.Toolbar.close();let{currentBlock:c}=this.Editor.BlockManager,a=((c==null?void 0:c.currentInput)!==void 0?Gc(c.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(r.shiftKey&&r.keyCode===M.UP&&a){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}if(r.keyCode===M.UP||r.keyCode===M.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext()){r.preventDefault();return}Jc(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(r)}needToolbarClosing(r){let c=r.keyCode===M.ENTER&&this.Editor.Toolbar.toolbox.opened,a=r.keyCode===M.ENTER&&this.Editor.BlockSettings.opened,n=r.keyCode===M.ENTER&&this.Editor.InlineToolbar.opened,u=r.keyCode===M.TAB;return!(r.shiftKey||u||c||a||n)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}class Zc{constructor(r){this.blocks=[],this.workingArea=r}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return rf(this.workingArea.children)}static set(r,c,a){return isNaN(Number(c))?(Reflect.set(r,c,a),!0):(r.insert(+c,a),!0)}static get(r,c){return isNaN(Number(c))?Reflect.get(r,c):r.get(+c)}push(r){this.blocks.push(r),this.insertToDOM(r)}swap(r,c){let a=this.blocks[c];D.swap(this.blocks[r].holder,a.holder),this.blocks[c]=this.blocks[r],this.blocks[r]=a}move(r,c){let a=this.blocks.splice(c,1)[0],n=r-1,u=Math.max(0,n),f=this.blocks[u];r>0?this.insertToDOM(a,"afterend",f):this.insertToDOM(a,"beforebegin",f),this.blocks.splice(r,0,a);let o=this.composeBlockEvent("move",{fromIndex:c,toIndex:r});a.call(Zr.MOVED,o)}insert(r,c,a=!1){if(!this.length){this.push(c);return}r>this.length&&(r=this.length),a&&(this.blocks[r].holder.remove(),this.blocks[r].call(Zr.REMOVED));let n=a?1:0;if(this.blocks.splice(r,n,c),r>0){let u=this.blocks[r-1];this.insertToDOM(c,"afterend",u)}else{let u=this.blocks[r+1];u?this.insertToDOM(c,"beforebegin",u):this.insertToDOM(c)}}replace(r,c){if(this.blocks[r]===void 0)throw Error("Incorrect index");this.blocks[r].holder.replaceWith(c.holder),this.blocks[r]=c}insertMany(r,c){let a=new DocumentFragment;for(let n of r)a.appendChild(n.holder);if(this.length>0){if(c>0){let n=Math.min(c-1,this.length-1);this.blocks[n].holder.after(a)}else c===0&&this.workingArea.prepend(a);this.blocks.splice(c,0,...r)}else this.blocks.push(...r),this.workingArea.appendChild(a);r.forEach((n)=>n.call(Zr.RENDERED))}remove(r){isNaN(r)&&(r=this.length-1),this.blocks[r].holder.remove(),this.blocks[r].call(Zr.REMOVED),this.blocks.splice(r,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach((r)=>r.call(Zr.REMOVED)),this.blocks.length=0}insertAfter(r,c){let a=this.blocks.indexOf(r);this.insert(a+1,c)}get(r){return this.blocks[r]}indexOf(r){return this.blocks.indexOf(r)}insertToDOM(r,c,a){c?a.holder.insertAdjacentElement(c,r.holder):this.workingArea.appendChild(r.holder),r.call(Zr.RENDERED)}composeBlockEvent(r,c){return new CustomEvent(r,{detail:c})}}var qu="block-removed",wu="block-added",r0="block-moved",Eu="block-changed";class tf{constructor(){this.completed=Promise.resolve()}add(r){return new Promise((c,a)=>{this.completed=this.completed.then(r).then(c).catch(a)})}}class ef extends ${constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(r){this._currentBlockIndex=r}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(r){this.currentBlockIndex=this.getBlockIndex(r)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find((r)=>!!r.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find((r)=>!!r.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every((r)=>r.isEmpty)}prepare(){let r=new Zc(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(r,{set:Zc.set,get:Zc.get}),this.listeners.on(document,"copy",(c)=>this.Editor.BlockEvents.handleCommandC(c))}toggleReadOnly(r){r?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:r,data:c={},id:a=void 0,tunes:n={}}){let u=this.Editor.ReadOnly.isEnabled,f=this.Editor.Tools.blockTools.get(r),o=new ur({id:a,data:c,tool:f,api:this.Editor.API,readOnly:u,tunesData:n},this.eventsDispatcher);return u||window.requestIdleCallback(()=>{this.bindBlockEvents(o)},{timeout:2000}),o}insert({id:r=void 0,tool:c=this.config.defaultBlock,data:a={},index:n,needToFocus:u=!0,replace:f=!1,tunes:o={}}={}){let h=n;h===void 0&&(h=this.currentBlockIndex+(f?0:1));let l=this.composeBlock({id:r,tool:c,data:a,tunes:o});return f&&this.blockDidMutated(qu,this.getBlockByIndex(h),{index:h}),this._blocks.insert(h,l,f),this.blockDidMutated(wu,l,{index:h}),u?this.currentBlockIndex=h:h<=this.currentBlockIndex&&this.currentBlockIndex++,l}insertMany(r,c=0){this._blocks.insertMany(r,c)}async update(r,c,a){if(!c&&!a)return r;let n=await r.data,u=this.composeBlock({id:r.id,tool:r.name,data:Object.assign({},n,c??{}),tunes:a??r.tunes}),f=this.getBlockIndex(r);return this._blocks.replace(f,u),this.blockDidMutated(Eu,u,{index:f}),u}replace(r,c,a){let n=this.getBlockIndex(r);return this.insert({tool:c,data:a,index:n,replace:!0})}paste(r,c,a=!1){let n=this.insert({tool:r,replace:a});try{window.requestIdleCallback(()=>{n.call(Zr.ON_PASTE,c)})}catch(u){F(`${r}: onPaste callback call is failed`,"error",u)}return n}insertDefaultBlockAtIndex(r,c=!1){let a=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[r]=a,this.blockDidMutated(wu,a,{index:r}),c?this.currentBlockIndex=r:r<=this.currentBlockIndex&&this.currentBlockIndex++,a}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(r,c){let a;if(r.name===c.name&&r.mergeable){let n=await c.data;if(Pr(n)){console.error("Could not merge Block. Failed to extract original Block data.");return}let[u]=_a([n],r.tool.sanitizeConfig);a=u}else if(r.mergeable&&Hc(c,"export")&&Hc(r,"import")){let n=await c.exportDataAsString(),u=dr(n,r.tool.sanitizeConfig);a=Xu(u,r.tool.conversionConfig)}a!==void 0&&(await r.mergeWith(a),this.removeBlock(c),this.currentBlockIndex=this._blocks.indexOf(r))}removeBlock(r,c=!0){return new Promise((a)=>{let n=this._blocks.indexOf(r);if(!this.validateIndex(n))throw Error("Can't find a Block to remove");r.destroy(),this._blocks.remove(n),this.blockDidMutated(qu,r,{index:n}),this.currentBlockIndex>=n&&this.currentBlockIndex--,this.blocks.length?n===0&&(this.currentBlockIndex=0):(this.unsetCurrentBlock(),c&&this.insert()),a()})}removeSelectedBlocks(){let r;for(let c=this.blocks.length-1;c>=0;c--)this.blocks[c].selected&&(this.removeBlock(this.blocks[c]),r=c);return r}removeAllBlocks(){for(let r=this.blocks.length-1;r>=0;r--)this._blocks.remove(r);this.unsetCurrentBlock(),this.insert(),this.currentBlock.firstInput.focus()}split(){let r=this.Editor.Caret.extractFragmentFromCaretPosition(),c=D.make("div");c.appendChild(r);let a={text:D.isEmpty(c)?"":c.innerHTML};return this.insert({data:a})}getBlockByIndex(r){return r===-1&&(r=this._blocks.length-1),this._blocks[r]}getBlockIndex(r){return this._blocks.indexOf(r)}getBlockById(r){return this._blocks.array.find((c)=>c.id===r)}getBlock(r){D.isElement(r)||(r=r.parentNode);let c=this._blocks.nodes,a=r.closest(`.${ur.CSS.wrapper}`),n=c.indexOf(a);if(n>=0)return this._blocks[n]}setCurrentBlockByChildNode(r){D.isElement(r)||(r=r.parentNode);let c=r.closest(`.${ur.CSS.wrapper}`);if(!c)return;let a=c.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(a!=null&&a.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(c),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(r){if(!r||!(r instanceof Node))return;D.isElement(r)||(r=r.parentNode);let c=r.closest(`.${ur.CSS.wrapper}`);return this.blocks.find((a)=>a.holder===c)}swap(r,c){this._blocks.swap(r,c),this.currentBlockIndex=c}move(r,c=this.currentBlockIndex){if(isNaN(r)||isNaN(c)){F("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(r)||!this.validateIndex(c)){F("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(r,c),this.currentBlockIndex=r,this.blockDidMutated(r0,this.currentBlock,{fromIndex:c,toIndex:r})}async convert(r,c,a){if(!await r.save())throw Error("Could not convert Block. Failed to extract original Block data.");let n=this.Editor.Tools.blockTools.get(c);if(!n)throw Error(`Could not convert Block. Tool «${c}» not found.`);let u=await r.exportDataAsString(),f=dr(u,n.sanitizeConfig),o=Xu(f,n.conversionConfig);return a&&(o=Object.assign(o,a)),this.replace(r,n.name,o)}unsetCurrentBlock(){this.currentBlockIndex=-1}async clear(r=!1){let c=new tf;this.blocks.forEach((a)=>{c.add(async()=>{await this.removeBlock(a,!1)})}),await c.completed,this.unsetCurrentBlock(),r&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map((r)=>r.destroy()))}bindBlockEvents(r){let{BlockEvents:c}=this.Editor;this.readOnlyMutableListeners.on(r.holder,"keydown",(a)=>{c.keydown(a)}),this.readOnlyMutableListeners.on(r.holder,"keyup",(a)=>{c.keyup(a)}),this.readOnlyMutableListeners.on(r.holder,"dragover",(a)=>{c.dragOver(a)}),this.readOnlyMutableListeners.on(r.holder,"dragleave",(a)=>{c.dragLeave(a)}),r.on("didMutated",(a)=>this.blockDidMutated(Eu,a,{index:this.getBlockIndex(a)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",(r)=>this.Editor.BlockEvents.handleCommandX(r)),this.blocks.forEach((r)=>{this.bindBlockEvents(r)})}validateIndex(r){return!(r<0||r>=this._blocks.length)}blockDidMutated(r,c,a){let n=new CustomEvent(r,{detail:{target:new Rr(c),...a}});return this.eventsDispatcher.emit(ff,{event:n}),c}}class ro extends ${constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){let{BlockManager:r}=this.Editor;return r.blocks.every((c)=>c.selected===!0)}set allBlocksSelected(r){let{BlockManager:c}=this.Editor;c.blocks.forEach((a)=>{a.selected=r}),this.clearCache()}get anyBlockSelected(){let{BlockManager:r}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=r.blocks.some((c)=>c.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter((r)=>r.selected)}prepare(){this.selection=new C,cc.add({name:"CMD+A",handler:(r)=>{let{BlockManager:c,ReadOnly:a}=this.Editor;if(a.isEnabled){r.preventDefault(),this.selectAllBlocks();return}c.currentBlock&&this.handleCommandA(r)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){C.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(r){let{BlockManager:c}=this.Editor,a;isNaN(r)?a=c.currentBlock:a=c.getBlockByIndex(r),a.selected=!1,this.clearCache()}clearSelection(r,c=!1){let{BlockManager:a,Caret:n,RectangleSelection:u}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;let f=r&&r instanceof KeyboardEvent,o=f&&eu(r.keyCode);if(this.anyBlockSelected&&f&&o&&!C.isSelectionExists){let h=a.removeSelectedBlocks();a.insertDefaultBlockAtIndex(h,!0),n.setToBlock(a.currentBlock),Jc(()=>{let l=r.key;n.insertContentAtCaretPosition(l.length>1?"":l)},20)()}if(this.Editor.CrossBlockSelection.clear(r),!this.anyBlockSelected||u.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}c&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(r){r.preventDefault();let c=D.make("div");this.selectedBlocks.forEach((u)=>{let f=dr(u.holder.innerHTML,this.sanitizerConfig),o=D.make("p");o.innerHTML=f,c.appendChild(o)});let a=Array.from(c.childNodes).map((u)=>u.textContent).join(`

`),n=c.innerHTML;return r.clipboardData.setData("text/plain",a),r.clipboardData.setData("text/html",n),Promise.all(this.selectedBlocks.map((u)=>u.save())).then((u)=>{try{r.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(u))}catch{}})}selectBlockByIndex(r){let{BlockManager:c}=this.Editor,a=c.getBlockByIndex(r);a!==void 0&&this.selectBlock(a)}selectBlock(r){this.selection.save(),C.get().removeAllRanges(),r.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}unselectBlock(r){r.selected=!1,this.clearCache()}clearCache(){this.anyBlockSelectedCache=null}destroy(){cc.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(r){if(this.Editor.RectangleSelection.clearSelection(),D.isNativeInput(r.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}let c=this.Editor.BlockManager.getBlock(r.target),a=c.inputs;if(a.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(a.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(r.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1):this.readyToBlockSelection&&(r.preventDefault(),this.selectBlock(c),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),C.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}class _c extends ${get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}setToBlock(r,c=this.positions.DEFAULT,a=0){var n;let{BlockManager:u,BlockSelection:f}=this.Editor;if(f.clearSelection(),!r.focusable){(n=window.getSelection())==null||n.removeAllRanges(),f.selectBlock(r),u.currentBlock=r;return}let o;switch(c){case this.positions.START:o=r.firstInput;break;case this.positions.END:o=r.lastInput;break;default:o=r.currentInput}if(!o)return;let h=D.getDeepestNode(o,c===this.positions.END),l=D.getContentLength(h);switch(!0){case c===this.positions.START:a=0;break;case c===this.positions.END:case a>l:a=l;break}this.set(h,a),u.setCurrentBlockByChildNode(r.holder),u.currentBlock.currentInput=o}setToInput(r,c=this.positions.DEFAULT,a=0){let{currentBlock:n}=this.Editor.BlockManager,u=D.getDeepestNode(r);switch(c){case this.positions.START:this.set(u,0);break;case this.positions.END:this.set(u,D.getContentLength(u));break;default:a&&this.set(u,a)}n.currentInput=r}set(r,c=0){let{top:a,bottom:n}=C.setCursor(r,c),{innerHeight:u}=window;a<0?window.scrollBy(0,a-30):n>u&&window.scrollBy(0,n-u+30)}setToTheLastBlock(){let r=this.Editor.BlockManager.lastBlock;if(r)if(r.tool.isDefault&&r.isEmpty)this.setToBlock(r);else{let c=this.Editor.BlockManager.insertAtEnd();this.setToBlock(c)}}extractFragmentFromCaretPosition(){let r=C.get();if(r.rangeCount){let c=r.getRangeAt(0),a=this.Editor.BlockManager.currentBlock.currentInput;if(c.deleteContents(),a)if(D.isNativeInput(a)){let n=a,u=document.createDocumentFragment(),f=n.value.substring(0,n.selectionStart),o=n.value.substring(n.selectionStart);return u.textContent=o,n.value=f,u}else{let n=c.cloneRange();return n.selectNodeContents(a),n.setStart(c.endContainer,c.endOffset),n.extractContents()}}}navigateNext(r=!1){let{BlockManager:c}=this.Editor,{currentBlock:a,nextBlock:n}=c;if(a===void 0)return!1;let{nextInput:u,currentInput:f}=a,o=f!==void 0?Rc(f):void 0,h=n,l=r||o||!a.focusable;if(u&&l)return this.setToInput(u,this.positions.START),!0;if(h===null){if(a.tool.isDefault||!l)return!1;h=c.insertAtEnd()}return l?(this.setToBlock(h,this.positions.START),!0):!1}navigatePrevious(r=!1){let{currentBlock:c,previousBlock:a}=this.Editor.BlockManager;if(!c)return!1;let{previousInput:n,currentInput:u}=c,f=u!==void 0?Gc(u):void 0,o=r||f||!c.focusable;return n&&o?(this.setToInput(n,this.positions.END),!0):a!==null&&o?(this.setToBlock(a,this.positions.END),!0):!1}createShadow(r){let c=document.createElement("span");c.classList.add(_c.CSS.shadowCaret),r.insertAdjacentElement("beforeend",c)}restoreCaret(r){let c=r.querySelector(`.${_c.CSS.shadowCaret}`);if(!c)return;new C().expandToTag(c);let a=document.createRange();a.selectNode(c),a.extractContents()}insertContentAtCaretPosition(r){let c=document.createDocumentFragment(),a=document.createElement("div"),n=C.get(),u=C.range;a.innerHTML=r,Array.from(a.childNodes).forEach((l)=>c.appendChild(l)),c.childNodes.length===0&&c.appendChild(new Text);let f=c.lastChild;u.deleteContents(),u.insertNode(c);let o=document.createRange(),h=f.nodeType===Node.TEXT_NODE?f:f.firstChild;h!==null&&h.textContent!==null&&o.setStart(h,h.textContent.length),n.removeAllRanges(),n.addRange(o)}}class co extends ${constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=(r)=>{let{BlockManager:c,BlockSelection:a}=this.Editor;if(r.relatedTarget===null&&r.target===null)return;let n=c.getBlockByChildNode(r.relatedTarget)||this.lastSelectedBlock,u=c.getBlockByChildNode(r.target);if(!(!n||!u)&&u!==n){if(n===this.firstSelectedBlock){C.get().removeAllRanges(),n.selected=!0,u.selected=!0,a.clearCache();return}if(u===this.firstSelectedBlock){n.selected=!1,u.selected=!1,a.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(n,u),this.lastSelectedBlock=u}}}async prepare(){this.listeners.on(document,"mousedown",(r)=>{this.enableCrossBlockSelection(r)})}watchSelection(r){if(r.button!==qh.LEFT)return;let{BlockManager:c}=this.Editor;this.firstSelectedBlock=c.getBlock(r.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock&&this.firstSelectedBlock!==this.lastSelectedBlock}toggleBlockSelectedState(r=!0){let{BlockManager:c,BlockSelection:a}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=c.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,a.clearCache(),C.get().removeAllRanges());let n=c.blocks.indexOf(this.lastSelectedBlock)+(r?1:-1),u=c.blocks[n];u&&(this.lastSelectedBlock.selected!==u.selected?(u.selected=!0,a.clearCache()):(this.lastSelectedBlock.selected=!1,a.clearCache()),this.lastSelectedBlock=u,this.Editor.InlineToolbar.close(),u.holder.scrollIntoView({block:"nearest"}))}clear(r){let{BlockManager:c,BlockSelection:a,Caret:n}=this.Editor,u=c.blocks.indexOf(this.firstSelectedBlock),f=c.blocks.indexOf(this.lastSelectedBlock);if(a.anyBlockSelected&&u>-1&&f>-1&&r&&r instanceof KeyboardEvent)switch(r.keyCode){case M.DOWN:case M.RIGHT:n.setToBlock(c.blocks[Math.max(u,f)],n.positions.END);break;case M.UP:case M.LEFT:n.setToBlock(c.blocks[Math.min(u,f)],n.positions.START);break;default:n.setToBlock(c.blocks[Math.max(u,f)],n.positions.END)}this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(r){let{UI:c}=this.Editor;C.isCollapsed||this.Editor.BlockSelection.clearSelection(r),c.nodes.redactor.contains(r.target)?this.watchSelection(r):this.Editor.BlockSelection.clearSelection(r)}toggleBlocksSelectedState(r,c){let{BlockManager:a,BlockSelection:n}=this.Editor,u=a.blocks.indexOf(r),f=a.blocks.indexOf(c),o=r.selected!==c.selected;for(let h=Math.min(u,f);h<=Math.max(u,f);h++){let l=a.blocks[h];l!==this.firstSelectedBlock&&l!==(o?r:c)&&(a.blocks[h].selected=!a.blocks[h].selected,n.clearCache())}}}class ao extends ${constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(r){r?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){let{UI:r}=this.Editor;this.readOnlyMutableListeners.on(r.nodes.holder,"drop",async(c)=>{await this.processDrop(c)},!0),this.readOnlyMutableListeners.on(r.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(r.nodes.holder,"dragover",(c)=>{this.processDragOver(c)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(r){let{BlockManager:c,Paste:a,Caret:n}=this.Editor;r.preventDefault(),c.blocks.forEach((f)=>{f.dropTarget=!1}),C.isAtEditor&&!C.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;let u=c.setCurrentBlockByChildNode(r.target);if(u)this.Editor.Caret.setToBlock(u,n.positions.END);else{let f=c.setCurrentBlockByChildNode(c.lastBlock.holder);this.Editor.Caret.setToBlock(f,n.positions.END)}await a.processDataTransfer(r.dataTransfer,!0)}processDragStart(){C.isAtEditor&&!C.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(r){r.preventDefault()}}var c0=180,a0=400;class no extends ${constructor({config:r,eventsDispatcher:c}){super({config:r,eventsDispatcher:c}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=a0,this.mutationObserver=new MutationObserver((a)=>{this.redactorChanged(a)}),this.eventsDispatcher.on(ff,(a)=>{this.particularBlockChanged(a.event)}),this.eventsDispatcher.on(of,()=>{this.disable()}),this.eventsDispatcher.on(hf,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(r){this.disabled||!q(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${r.detail.target.id}:event:${r.type}`,r),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let c;this.batchingOnChangeQueue.size===1?c=this.batchingOnChangeQueue.values().next().value:c=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,c),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(r){this.eventsDispatcher.emit(Ja,{mutations:r})}}var uo=class r extends ${constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=(c)=>{try{let a=c.create({},{},!1);if(c.pasteConfig===!1){this.exceptionList.push(c.name);return}if(!q(a.onPaste))return;this.getTagsConfig(c),this.getFilesConfig(c),this.getPatternsConfig(c)}catch(a){F(`Paste handling for «${c.name}» Tool hasn't been set up because of the error`,"warn",a)}},this.handlePasteEvent=async(c)=>{let{BlockManager:a,Toolbar:n}=this.Editor,u=a.setCurrentBlockByChildNode(c.target);!u||this.isNativeBehaviour(c.target)&&!c.clipboardData.types.includes("Files")||u&&this.exceptionList.includes(u.name)||(c.preventDefault(),this.processDataTransfer(c.clipboardData),n.close())}}async prepare(){this.processTools()}toggleReadOnly(c){c?this.unsetCallback():this.setCallback()}async processDataTransfer(c,a=!1){let{Tools:n}=this.Editor,u=c.types;if((u.includes?u.includes("Files"):u.contains("Files"))&&!Pr(this.toolsFiles)){await this.processFiles(c.files);return}let f=c.getData(this.MIME_TYPE),o=c.getData("text/plain"),h=c.getData("text/html");if(f)try{this.insertEditorJSData(JSON.parse(f));return}catch{}a&&o.trim()&&h.trim()&&(h="<p>"+(h.trim()?h:o)+"</p>");let l=Object.keys(this.toolsTags).reduce((v,x)=>(v[x.toLowerCase()]=this.toolsTags[x].sanitizationConfig??{},v),{}),p=Object.assign({},l,n.getAllInlineToolsSanitizeConfig(),{br:{}}),y=dr(h,p);!y.trim()||y.trim()===o||!D.isHTMLString(y)?await this.processText(o):await this.processText(y,!0)}async processText(c,a=!1){let{Caret:n,BlockManager:u}=this.Editor,f=a?this.processHTML(c):this.processPlain(c);if(!f.length)return;if(f.length===1){f[0].isBlock?this.processSingleBlock(f.pop()):this.processInlinePaste(f.pop());return}let o=u.currentBlock&&u.currentBlock.tool.isDefault&&u.currentBlock.isEmpty;f.map(async(h,l)=>this.insertBlock(h,l===0&&o)),u.currentBlock&&n.setToBlock(u.currentBlock,n.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){let c=this.Editor.Tools.blockTools;Array.from(c.values()).forEach(this.processTool)}collectTagNames(c){return Jr(c)?[c]:fr(c)?Object.keys(c):[]}getTagsConfig(c){if(c.pasteConfig===!1)return;let a=c.pasteConfig.tags||[],n=[];a.forEach((u)=>{let f=this.collectTagNames(u);n.push(...f),f.forEach((o)=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,o)){F(`Paste handler for «${c.name}» Tool on «${o}» tag is skipped because it is already used by «${this.toolsTags[o].tool.name}» Tool.`,"warn");return}let h=fr(u)?u[o]:null;this.toolsTags[o.toUpperCase()]={tool:c,sanitizationConfig:h}})}),this.tagsByTool[c.name]=n.map((u)=>u.toUpperCase())}getFilesConfig(c){if(c.pasteConfig===!1)return;let{files:a={}}=c.pasteConfig,{extensions:n,mimeTypes:u}=a;!n&&!u||(n&&!Array.isArray(n)&&(F(`«extensions» property of the onDrop config for «${c.name}» Tool should be an array`),n=[]),u&&!Array.isArray(u)&&(F(`«mimeTypes» property of the onDrop config for «${c.name}» Tool should be an array`),u=[]),u&&(u=u.filter((f)=>rp(f)?!0:(F(`MIME type value «${f}» for the «${c.name}» Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[c.name]={extensions:n||[],mimeTypes:u||[]})}getPatternsConfig(c){c.pasteConfig===!1||!c.pasteConfig.patterns||Pr(c.pasteConfig.patterns)||Object.entries(c.pasteConfig.patterns).forEach(([a,n])=>{n instanceof RegExp||F(`Pattern ${n} for «${c.name}» Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:a,pattern:n,tool:c})})}isNativeBehaviour(c){return D.isNativeInput(c)}async processFiles(c){let{BlockManager:a}=this.Editor,n;n=await Promise.all(Array.from(c).map((f)=>this.processFile(f))),n=n.filter((f)=>!!f);let u=a.currentBlock.tool.isDefault&&a.currentBlock.isEmpty;n.forEach((f,o)=>{a.paste(f.type,f.event,o===0&&u)})}async processFile(c){let a=eh(c),n=Object.entries(this.toolsFiles).find(([f,{mimeTypes:o,extensions:h}])=>{let[l,p]=c.type.split("/"),y=h.find((x)=>x.toLowerCase()===a.toLowerCase()),v=o.find((x)=>{let[O,k]=x.split("/");return O===l&&(k===p||k==="*")});return!!y||!!v});if(!n)return;let[u]=n;return{event:this.composePasteEvent("file",{file:c}),type:u}}processHTML(c){let{Tools:a}=this.Editor,n=D.make("DIV");return n.innerHTML=c,this.getNodes(n).map((u)=>{let f,o=a.defaultTool,h=!1;switch(u.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:f=D.make("div"),f.appendChild(u);break;case Node.ELEMENT_NODE:f=u,h=!0,this.toolsTags[f.tagName]&&(o=this.toolsTags[f.tagName].tool);break}let{tags:l}=o.pasteConfig||{tags:[]},p=l.reduce((x,O)=>(this.collectTagNames(O).forEach((k)=>{let i=fr(O)?O[k]:null;x[k.toLowerCase()]=i||{}}),x),{}),y=Object.assign({},p,o.baseSanitizeConfig);if(f.tagName.toLowerCase()==="table"){let x=dr(f.outerHTML,y);f=D.make("div",void 0,{innerHTML:x}).firstChild}else f.innerHTML=dr(f.innerHTML,y);let v=this.composePasteEvent("tag",{data:f});return{content:f,isBlock:h,tool:o.name,event:v}}).filter((u)=>{let f=D.isEmpty(u.content),o=D.isSingleTag(u.content);return!f||o})}processPlain(c){let{defaultBlock:a}=this.config;if(!c)return[];let n=a;return c.split(/\r?\n/).filter((u)=>u.trim()).map((u)=>{let f=D.make("div");f.textContent=u;let o=this.composePasteEvent("tag",{data:f});return{content:f,tool:n,isBlock:!1,event:o}})}async processSingleBlock(c){let{Caret:a,BlockManager:n}=this.Editor,{currentBlock:u}=n;if(!u||c.tool!==u.name||!D.containsOnlyInlineElements(c.content.innerHTML)){this.insertBlock(c,(u==null?void 0:u.tool.isDefault)&&u.isEmpty);return}a.insertContentAtCaretPosition(c.content.innerHTML)}async processInlinePaste(c){let{BlockManager:a,Caret:n}=this.Editor,{content:u}=c;if(a.currentBlock&&a.currentBlock.tool.isDefault&&u.textContent.length<r.PATTERN_PROCESSING_MAX_LENGTH){let f=await this.processPattern(u.textContent);if(f){let o=a.currentBlock&&a.currentBlock.tool.isDefault&&a.currentBlock.isEmpty,h=a.paste(f.tool,f.event,o);n.setToBlock(h,n.positions.END);return}}if(a.currentBlock&&a.currentBlock.currentInput){let f=a.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,dr(u.innerHTML,f))}else this.insertBlock(c)}async processPattern(c){let a=this.toolsPatterns.find((n)=>{let u=n.pattern.exec(c);return u?c===u.shift():!1});return a?{event:this.composePasteEvent("pattern",{key:a.key,data:c}),tool:a.tool.name}:void 0}insertBlock(c,a=!1){let{BlockManager:n,Caret:u}=this.Editor,{currentBlock:f}=n,o;if(a&&f&&f.isEmpty){o=n.paste(c.tool,c.event,!0),u.setToBlock(o,u.positions.END);return}o=n.paste(c.tool,c.event),u.setToBlock(o,u.positions.END)}insertEditorJSData(c){let{BlockManager:a,Caret:n,Tools:u}=this.Editor;_a(c,(f)=>u.blockTools.get(f).sanitizeConfig).forEach(({tool:f,data:o},h)=>{let l=!1;h===0&&(l=a.currentBlock&&a.currentBlock.tool.isDefault&&a.currentBlock.isEmpty);let p=a.insert({tool:f,data:o,replace:l});n.setToBlock(p,n.positions.END)})}processElementNode(c,a,n){let u=Object.keys(this.toolsTags),f=c,{tool:o}=this.toolsTags[f.tagName]||{},h=this.tagsByTool[o==null?void 0:o.name]||[],l=u.includes(f.tagName),p=D.blockElements.includes(f.tagName.toLowerCase()),y=Array.from(f.children).some(({tagName:x})=>u.includes(x)&&!h.includes(x)),v=Array.from(f.children).some(({tagName:x})=>D.blockElements.includes(x.toLowerCase()));if(!p&&!l&&!y)return n.appendChild(f),[...a,n];if(l&&!y||p&&!v&&!y)return[...a,n,f]}getNodes(c){let a=Array.from(c.childNodes),n,u=(f,o)=>{if(D.isEmpty(o)&&!D.isSingleTag(o))return f;let h=f[f.length-1],l=new DocumentFragment;switch(h&&D.isFragment(h)&&(l=f.pop()),o.nodeType){case Node.ELEMENT_NODE:if(n=this.processElementNode(o,f,l),n)return n;break;case Node.TEXT_NODE:return l.appendChild(o),[...f,l];default:return[...f,l]}return[...f,...Array.from(o.childNodes).reduce(u,[])]};return a.reduce(u,[])}composePasteEvent(c,a){return new CustomEvent(c,{detail:a})}};uo.PATTERN_PROCESSING_MAX_LENGTH=450;var n0=uo;class fo extends ${constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){let{Tools:r}=this.Editor,{blockTools:c}=r,a=[];Array.from(c.entries()).forEach(([n,u])=>{u.isReadOnlySupported||a.push(n)}),this.toolsDontSupportReadOnly=a,this.config.readOnly&&a.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly,!0)}async toggle(r=!this.readOnlyEnabled,c=!1){r&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();let a=this.readOnlyEnabled;this.readOnlyEnabled=r;for(let u in this.Editor)this.Editor[u].toggleReadOnly&&this.Editor[u].toggleReadOnly(r);if(a===r)return this.readOnlyEnabled;if(c)return this.readOnlyEnabled;this.Editor.ModificationsObserver.disable();let n=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(n.blocks),this.Editor.ModificationsObserver.enable(),this.readOnlyEnabled}throwCriticalError(){throw new Wa(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}class Oc extends ${constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(r,c){let a=document.elementFromPoint(r-window.pageXOffset,c-window.pageYOffset);a.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);let n=[`.${ur.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],u=a.closest("."+this.Editor.UI.CSS.editorWrapper),f=n.some((o)=>!!a.closest(o));!u||f||(this.mousedown=!0,this.startX=r,this.startY=c)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){let{container:r}=this.genHTML();this.listeners.on(r,"mousedown",(c)=>{this.processMouseDown(c)},!1),this.listeners.on(document.body,"mousemove",Ba((c)=>{this.processMouseMove(c)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",Ba((c)=>{this.processScroll(c)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(r){if(r.button!==this.MAIN_MOUSE_BUTTON)return;r.target.closest(D.allInputsSelector)!==null||this.startSelection(r.pageX,r.pageY)}processMouseMove(r){this.changingRectangle(r),this.scrollByZones(r.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(r){this.changingRectangle(r)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(r){if(this.inScrollZone=null,r<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-r<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){let{UI:r}=this.Editor,c=r.nodes.holder.querySelector("."+r.CSS.editorWrapper),a=D.make("div",Oc.CSS.overlay,{}),n=D.make("div",Oc.CSS.overlayContainer,{}),u=D.make("div",Oc.CSS.rect,{});return n.appendChild(u),a.appendChild(n),c.appendChild(a),this.overlayRectangle=u,{container:c,overlay:a}}scrollVertical(r){if(!(this.inScrollZone&&this.mousedown))return;let c=window.pageYOffset;window.scrollBy(0,r),this.mouseY+=window.pageYOffset-c,setTimeout(()=>{this.scrollVertical(r)},0)}changingRectangle(r){if(!this.mousedown)return;r.pageY!==void 0&&(this.mouseX=r.pageX,this.mouseY=r.pageY);let{rightPos:c,leftPos:a,index:n}=this.genInfoForMouseSelection(),u=this.startX>c&&this.mouseX>c,f=this.startX<a&&this.mouseX<a;this.rectCrossesBlocks=!(u||f),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),n!==void 0&&(this.trySelectNextBlock(n),this.inverseSelection(),C.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){let r=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!r)for(let c of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(c);if(!this.rectCrossesBlocks&&r)for(let c of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(c)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){let r=document.body.offsetWidth/2,c=this.mouseY-window.pageYOffset,a=document.elementFromPoint(r,c),n=this.Editor.BlockManager.getBlockByChildNode(a),u;n!==void 0&&(u=this.Editor.BlockManager.blocks.findIndex((p)=>p.holder===n.holder));let f=this.Editor.BlockManager.lastBlock.holder.querySelector("."+ur.CSS.content),o=Number.parseInt(window.getComputedStyle(f).width,10)/2,h=r-o,l=r+o;return{index:u,leftPos:h,rightPos:l}}addBlockInSelection(r){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(r),this.stackOfSelected.push(r)}trySelectNextBlock(r){let c=this.stackOfSelected[this.stackOfSelected.length-1]===r,a=this.stackOfSelected.length;if(c)return;let o=this.stackOfSelected[a-1]-this.stackOfSelected[a-2]>0,h=0;a>1&&(h=o?1:-1);let l=r>this.stackOfSelected[a-1]&&h===1,p=r<this.stackOfSelected[a-1]&&h===-1,y=!(l||p||h===0);if(!y&&(r>this.stackOfSelected[a-1]||this.stackOfSelected[a-1]===void 0)){let O=this.stackOfSelected[a-1]+1||r;for(O;O<=r;O++)this.addBlockInSelection(O);return}if(!y&&r<this.stackOfSelected[a-1]){for(let O=this.stackOfSelected[a-1]-1;O>=r;O--)this.addBlockInSelection(O);return}if(!y)return;let v=a-1,x;for(r>this.stackOfSelected[a-1]?x=()=>r>this.stackOfSelected[v]:x=()=>r<this.stackOfSelected[v];x();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[v]),this.stackOfSelected.pop(),v--}}class oo extends ${async render(r){return new Promise((c)=>{let{Tools:a,BlockManager:n}=this.Editor;if(r.length===0)n.insert();else{let u=r.map(({type:f,data:o,tunes:h,id:l})=>{a.available.has(f)===!1&&(Ar(`Tool «${f}» is not found. Check 'tools' property at the Editor.js config.`,"warn"),o=this.composeStubDataForTool(f,o,l),f=a.stubTool);let p;try{p=n.composeBlock({id:l,tool:f,data:o,tunes:h})}catch(y){F(`Block «${f}» skipped because of plugins error`,"error",{data:o,error:y}),o=this.composeStubDataForTool(f,o,l),f=a.stubTool,p=n.composeBlock({id:l,tool:f,data:o,tunes:h})}return p});n.insertMany(u)}window.requestIdleCallback(()=>{c()},{timeout:2000})})}composeStubDataForTool(r,c,a){let{Tools:n}=this.Editor,u=r;if(n.unavailable.has(r)){let f=n.unavailable.get(r).toolbox;f!==void 0&&f[0].title!==void 0&&(u=f[0].title)}return{savedData:{id:a,type:r,data:c},title:u}}}class ho extends ${async save(){let{BlockManager:r,Tools:c}=this.Editor,a=r.blocks,n=[];try{a.forEach((o)=>{n.push(this.getSavedData(o))});let u=await Promise.all(n),f=await _a(u,(o)=>c.blockTools.get(o).sanitizeConfig);return this.makeOutput(f)}catch(u){Ar("Saving failed due to the Error %o","error",u)}}async getSavedData(r){let c=await r.save(),a=c&&await r.validate(c.data);return{...c,isValid:a}}makeOutput(r){let c=[];return r.forEach(({id:a,tool:n,data:u,tunes:f,isValid:o})=>{if(!o){F(`Block «${n}» skipped because saved data is invalid`);return}if(n===this.Editor.Tools.stubTool){c.push(u);return}let h={id:a,type:n,data:u,...!Pr(f)&&{tunes:f}};c.push(h)}),{time:+new Date,blocks:c,version:"2.30.7"}}}(function(){try{if(typeof document<"u"){var r=document.createElement("style");r.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(r)}}catch(c){console.error("vite-plugin-css-injected-by-js",c)}})();var u0='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';function f0(r){let c=document.createElement("div");c.innerHTML=r.trim();let a=document.createDocumentFragment();return a.append(...Array.from(c.childNodes)),a}class Va{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:r,config:c,api:a,readOnly:n}){this.api=a,this.readOnly=n,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=c.placeholder?c.placeholder:Va.DEFAULT_PLACEHOLDER,this._data=r??{},this._element=null,this._preserveBlank=c.preserveBlank??!1}onKeyUp(r){if(r.code!=="Backspace"&&r.code!=="Delete"||!this._element)return;let{textContent:c}=this._element;c===""&&(this._element.innerHTML="")}drawView(){let r=document.createElement("DIV");return r.classList.add(this._CSS.wrapper,this._CSS.block),r.contentEditable="false",r.dataset.placeholderActive=this.api.i18n.t(this._placeholder),this._data.text&&(r.innerHTML=this._data.text),this.readOnly||(r.contentEditable="true",r.addEventListener("keyup",this.onKeyUp)),r}render(){return this._element=this.drawView(),this._element}merge(r){if(!this._element)return;this._data.text+=r.text;let c=f0(r.text);this._element.appendChild(c),this._element.normalize()}validate(r){return!(r.text.trim()===""&&!this._preserveBlank)}save(r){return{text:r.innerHTML}}onPaste(r){let c={text:r.detail.data.innerHTML};this._data=c,window.requestAnimationFrame(()=>{this._element&&(this._element.innerHTML=this._data.text||"")})}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:u0,title:"Text"}}}class $c{constructor(){this.commandName="bold"}static get sanitize(){return{b:{}}}render(){return{icon:Gp,name:"bold",onActivate:()=>{document.execCommand(this.commandName)},isActive:()=>document.queryCommandState(this.commandName)}}get shortcut(){return"CMD+B"}}$c.isInline=!0;$c.title="Bold";class mc{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=Wp,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){let r=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,r),r}get shortcut(){return"CMD+I"}}mc.isInline=!0;mc.title="Italic";class Fc{constructor({api:r}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=r.toolbar,this.inlineToolbar=r.inlineToolbar,this.notifier=r.notifier,this.i18n=r.i18n,this.selection=new C}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=Tu,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.enterKeyHint="done",this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",(r)=>{r.keyCode===this.ENTER_KEY&&this.enterPressed(r)}),this.nodes.input}surround(r){if(r){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());let c=this.selection.findParentTag("A");if(c){this.selection.expandToTag(c),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){let r=this.selection.findParentTag("A");if(r){this.nodes.button.innerHTML=Mp,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();let c=r.getAttribute("href");this.nodes.input.value=c!=="null"?c:"",this.selection.save()}else this.nodes.button.innerHTML=Tu,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!r}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(r=!1){this.nodes.input.classList.add(this.CSS.inputShowed),r&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(r=!0){if(this.selection.isFakeBackgroundEnabled){let c=new C;c.save(),this.selection.restore(),this.selection.removeFakeBackground(),c.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",r&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(r){let c=this.nodes.input.value||"";if(!c.trim()){this.selection.restore(),this.unlink(),r.preventDefault(),this.closeActions();return}if(!this.validateURL(c)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),F("Incorrect Link pasted","warn",c);return}c=this.prepareLink(c),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(c),r.preventDefault(),r.stopPropagation(),r.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(r){return!/\s/.test(r)}prepareLink(r){return r=r.trim(),r=this.addProtocol(r),r}addProtocol(r){if(/^(\w+):(\/\/)?/.test(r))return r;let c=/^\/[^/\s]/.test(r),a=r.substring(0,1)==="#",n=/^\/\/[^/\s]/.test(r);return!c&&!a&&!n&&(r="http://"+r),r}insertLink(r){let c=this.selection.findParentTag("A");c&&this.selection.expandToTag(c),document.execCommand(this.commandLink,!1,r)}unlink(){document.execCommand(this.commandUnlink)}}Fc.isInline=!0;Fc.title="Link";class za{constructor({api:r}){this.i18nAPI=r.i18n,this.blocksAPI=r.blocks,this.selectionAPI=r.selection,this.toolsAPI=r.tools,this.caretAPI=r.caret}async render(){let r=C.get(),c=this.blocksAPI.getBlockByElement(r.anchorNode);if(c===void 0)return[];let a=this.toolsAPI.getBlockTools(),n=await vf(c,a);if(n.length===0)return[];let u=n.reduce((l,p)=>{var y;return(y=p.toolbox)==null||y.forEach((v)=>{l.push({icon:v.icon,title:yr.t(Or.toolNames,v.title),name:p.name,closeOnActivate:!0,onActivate:async()=>{let x=await this.blocksAPI.convert(c.id,p.name,v.data);this.caretAPI.setToBlock(x,"end")}})}),l},[]),f=await c.getActiveToolboxEntry(),o=f!==void 0?f.icon:Yf,h=!nc();return{icon:o,name:"convert-to",hint:{title:this.i18nAPI.t("Convert to")},children:{searchable:h,items:u,onOpen:()=>{h&&(this.selectionAPI.setFakeBackground(),this.selectionAPI.save())},onClose:()=>{h&&(this.selectionAPI.restore(),this.selectionAPI.removeFakeBackground())}}}}}za.isInline=!0;class qa{constructor({data:r,api:c}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=c,this.title=r.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=r.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){let r=D.make("div",this.CSS.wrapper),c=Qp,a=D.make("div",this.CSS.info),n=D.make("div",this.CSS.title,{textContent:this.title}),u=D.make("div",this.CSS.subtitle,{textContent:this.subtitle});return r.innerHTML=c,a.appendChild(n),a.appendChild(u),r.appendChild(a),r}}qa.isReadOnlySupported=!0;class po extends Qc{constructor(){super(...arguments),this.type=mr.Inline}get title(){return this.constructable[Ta.Title]}create(){return new this.constructable({api:this.api,config:this.settings})}}class vo extends Qc{constructor(){super(...arguments),this.type=mr.Tune}create(r,c){return new this.constructable({api:this.api,config:this.settings,block:c,data:r})}}class or extends Map{get blockTools(){let r=Array.from(this.entries()).filter(([,c])=>c.isBlock());return new or(r)}get inlineTools(){let r=Array.from(this.entries()).filter(([,c])=>c.isInline());return new or(r)}get blockTunes(){let r=Array.from(this.entries()).filter(([,c])=>c.isTune());return new or(r)}get internalTools(){let r=Array.from(this.entries()).filter(([,c])=>c.isInternal);return new or(r)}get externalTools(){let r=Array.from(this.entries()).filter(([,c])=>!c.isInternal);return new or(r)}}var{defineProperty:o0,getOwnPropertyDescriptor:h0}=Object,yo=(r,c,a,n)=>{for(var u=n>1?void 0:n?h0(c,a):c,f=r.length-1,o;f>=0;f--)(o=r[f])&&(u=(n?o(c,a,u):o(u))||u);return n&&u&&o0(c,a,u),u};class Xc extends Qc{constructor(){super(...arguments),this.type=mr.Block,this.inlineTools=new or,this.tunes=new or}create(r,c,a){return new this.constructable({data:r,block:c,readOnly:a,api:this.api,config:this.settings})}get isReadOnlySupported(){return this.constructable[tr.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[tr.IsEnabledLineBreaks]}get toolbox(){let r=this.constructable[tr.Toolbox],c=this.config[Bc.Toolbox];if(!Pr(r)&&c!==!1)return c?Array.isArray(r)?Array.isArray(c)?c.map((a,n)=>{let u=r[n];return u?{...u,...a}:a}):[c]:Array.isArray(c)?c:[{...r,...c}]:Array.isArray(r)?r:[r]}get conversionConfig(){return this.constructable[tr.ConversionConfig]}get enabledInlineTools(){return this.config[Bc.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[Bc.EnabledBlockTunes]}get pasteConfig(){return this.constructable[tr.PasteConfig]??{}}get sanitizeConfig(){let r=super.sanitizeConfig,c=this.baseSanitizeConfig;if(Pr(r))return c;let a={};for(let n in r)if(Object.prototype.hasOwnProperty.call(r,n)){let u=r[n];fr(u)?a[n]=Object.assign({},c,u):a[n]=u}return a}get baseSanitizeConfig(){let r={};return Array.from(this.inlineTools.values()).forEach((c)=>Object.assign(r,c.sanitizeConfig)),Array.from(this.tunes.values()).forEach((c)=>Object.assign(r,c.sanitizeConfig)),r}}yo([ac],Xc.prototype,"sanitizeConfig",1);yo([ac],Xc.prototype,"baseSanitizeConfig",1);class lo{constructor(r,c,a){this.api=a,this.config=r,this.editorConfig=c}get(r){let{class:c,isInternal:a=!1,...n}=this.config[r],u=this.getConstructor(c),f=c[Ha.IsTune];return new u({name:r,constructable:c,config:n,api:this.api.getMethodsForTool(r,f),isDefault:r===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:a})}getConstructor(r){switch(!0){case r[Ta.IsInline]:return po;case r[Ha.IsTune]:return vo;default:return Xc}}}class wa{constructor({api:r}){this.CSS={animation:"wobble"},this.api=r}render(){return{icon:Rp,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){let r=this.api.blocks.getCurrentBlockIndex(),c=this.api.blocks.getBlockByIndex(r+1);if(!c)throw Error("Unable to move Block down since it is already the last");let a=c.holder,n=a.getBoundingClientRect(),u=Math.abs(window.innerHeight-a.offsetHeight);n.top<window.innerHeight&&(u=window.scrollY+a.offsetHeight),window.scrollTo(0,u),this.api.blocks.move(r+1),this.api.toolbar.toggleBlockSettings(!0)}}wa.isTune=!0;class Ea{constructor({api:r}){this.api=r}render(){return{icon:Hp,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}Ea.isTune=!0;class ta{constructor({api:r}){this.CSS={animation:"wobble"},this.api=r}render(){return{icon:Yp,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){let r=this.api.blocks.getCurrentBlockIndex(),c=this.api.blocks.getBlockByIndex(r),a=this.api.blocks.getBlockByIndex(r-1);if(r===0||!c||!a)throw Error("Unable to move Block up since it is already the first");let n=c.holder,u=a.holder,f=n.getBoundingClientRect(),o=u.getBoundingClientRect(),h;o.top>0?h=Math.abs(f.top)-Math.abs(o.top):h=Math.abs(f.top)+o.height,window.scrollBy(0,-1*h),this.api.blocks.move(r-1),this.api.toolbar.toggleBlockSettings(!0)}}ta.isTune=!0;var{defineProperty:p0,getOwnPropertyDescriptor:v0}=Object,y0=(r,c,a,n)=>{for(var u=n>1?void 0:n?v0(c,a):c,f=r.length-1,o;f>=0;f--)(o=r[f])&&(u=(n?o(c,a,u):o(u))||u);return n&&u&&p0(c,a,u),u};class ea extends ${constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new or,this.toolsUnavailable=new or}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=Ga({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");let r=this.prepareConfig();this.factory=new lo(r,this.config,this.Editor.API);let c=this.getListOfPrepareFunctions(r);if(c.length===0)return Promise.resolve();await th(c,(a)=>{this.toolPrepareMethodSuccess(a)},(a)=>{this.toolPrepareMethodFallback(a)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){let r={};return Array.from(this.inlineTools.values()).forEach((c)=>{Object.assign(r,c.sanitizeConfig)}),r}destroy(){Object.values(this.available).forEach(async(r)=>{q(r.reset)&&await r.reset()})}get internalTools(){return{convertTo:{class:za,isInternal:!0},link:{class:Fc,isInternal:!0},bold:{class:$c,isInternal:!0},italic:{class:mc,isInternal:!0},paragraph:{class:Va,inlineToolbar:!0,isInternal:!0},stub:{class:qa,isInternal:!0},moveUp:{class:ta,isInternal:!0},delete:{class:Ea,isInternal:!0},moveDown:{class:wa,isInternal:!0}}}toolPrepareMethodSuccess(r){let c=this.factory.get(r.toolName);if(c.isInline()){let a=["render"].filter((n)=>!c.create()[n]);if(a.length){F(`Incorrect Inline Tool: ${c.name}. Some of required methods is not implemented %o`,"warn",a),this.toolsUnavailable.set(c.name,c);return}}this.toolsAvailable.set(c.name,c)}toolPrepareMethodFallback(r){this.toolsUnavailable.set(r.toolName,this.factory.get(r.toolName))}getListOfPrepareFunctions(r){let c=[];return Object.entries(r).forEach(([a,n])=>{c.push({function:q(n.class.prepare)?n.class.prepare:()=>{},data:{toolName:a,config:n.config}})}),c}prepareBlockTools(){Array.from(this.blockTools.values()).forEach((r)=>{this.assignInlineToolsToBlockTool(r),this.assignBlockTunesToBlockTool(r)})}assignInlineToolsToBlockTool(r){if(this.config.inlineToolbar!==!1){if(r.enabledInlineTools===!0){r.inlineTools=new or(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map((c)=>[c,this.inlineTools.get(c)]):Array.from(this.inlineTools.entries()));return}Array.isArray(r.enabledInlineTools)&&(r.inlineTools=new or(["convertTo",...r.enabledInlineTools].map((c)=>[c,this.inlineTools.get(c)])))}}assignBlockTunesToBlockTool(r){if(r.enabledBlockTunes!==!1){if(Array.isArray(r.enabledBlockTunes)){let c=new or(r.enabledBlockTunes.map((a)=>[a,this.blockTunes.get(a)]));r.tunes=new or([...c,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){let c=new or(this.config.tunes.map((a)=>[a,this.blockTunes.get(a)]));r.tunes=new or([...c,...this.blockTunes.internalTools]);return}r.tunes=this.blockTunes.internalTools}}validateTools(){for(let r in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,r)){if(r in this.internalTools)return;let c=this.config.tools[r];if(!q(c)&&!q(c.class))throw Error(`Tool «${r}» must be a constructor function or an object with function in the «class» property`)}}prepareConfig(){let r={};for(let c in this.config.tools)fr(this.config.tools[c])?r[c]=this.config.tools[c]:r[c]={class:this.config.tools[c]};return r}}y0([ac],ea.prototype,"getAllInlineToolsSanitizeConfig",1);var l0=':root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;--color-background-icon-active: rgba(56, 138, 229, .1);--color-text-icon-active: #388AE5;--color-text-primary: black;position:absolute;visibility:hidden;-webkit-transition:opacity .25s ease;transition:opacity .25s ease;will-change:opacity,left,top;top:0;left:0;z-index:3;opacity:1;visibility:visible}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{color:var(--color-text-primary);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:0;border-radius:4px;line-height:normal;height:100%;padding:0;width:28px;background-color:transparent;cursor:pointer}@media (max-width: 650px){.ce-inline-tool{width:36px;height:36px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#f8f8f8}}.ce-inline-tool svg{display:block;width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:4px 8px;font-size:14px;line-height:22px;outline:none;margin:0;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-inline-tool--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #EFF0F1;--color-shadow: rgba(13, 20, 33, .1);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #F8F8F8;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;--popover-top: calc(100% + var(--offset-from-target));--popover-left: 0;--nested-popover-overlap: 4px;--icon-size: 20px;--item-padding: 3px;--item-height: calc(var(--icon-size) + 2 * var(--item-padding))}.ce-popover__container{min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0px 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:var(--popover-left);top:var(--popover-top);background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened>.ce-popover__container{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened>.ce-popover__container{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover--open-top .ce-popover__container{--popover-top: calc(-1 * (var(--offset-from-target) + var(--popover-height)))}.ce-popover--open-left .ce-popover__container{--popover-left: calc(-1 * var(--width) + 100%)}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}@media (max-width: 650px){.ce-popover .ce-popover__container{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}}.ce-popover__search{margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover--nested .ce-popover__container{--popover-left: calc(var(--nesting-level) * (var(--width) - var(--nested-popover-overlap)));top:calc(var(--trigger-item-top) - var(--nested-popover-overlap));position:absolute}.ce-popover--open-top.ce-popover--nested .ce-popover__container{top:calc(var(--trigger-item-top) - var(--popover-height) + var(--item-height) + var(--offset-from-target) + var(--nested-popover-overlap))}.ce-popover--open-left .ce-popover--nested .ce-popover__container{--popover-left: calc(-1 * (var(--nesting-level) + 1) * var(--width) + 100%)}.ce-popover-item-separator{padding:4px 3px}.ce-popover-item-separator--hidden{display:none}.ce-popover-item-separator__line{height:1px;background:var(--color-border);width:100%}.ce-popover-item-html--hidden{display:none}.ce-popover-item{--border-radius: 6px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--item-padding);color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:none;background:transparent}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover-item__icon--tool{margin-right:4px}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-right:auto}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title,.ce-popover-item--confirmation .ce-popover-item__icon{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}.ce-popover-header{margin-bottom:8px;margin-top:4px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover-header__text{font-size:18px;font-weight:600}.ce-popover-header__back-button{border:0;background:transparent;width:36px;height:36px;color:var(--color-text-primary)}.ce-popover-header__back-button svg{display:block;width:28px;height:28px}.ce-popover--inline{--height: 38px;--height-mobile: 46px;--container-padding: 4px;position:relative}.ce-popover--inline .ce-popover__custom-content{margin-bottom:0}.ce-popover--inline .ce-popover__items{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-popover--inline .ce-popover__container{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding:var(--container-padding);height:var(--height);top:0;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;width:-webkit-max-content;width:-moz-max-content;width:max-content;-webkit-animation:none;animation:none}@media (max-width: 650px){.ce-popover--inline .ce-popover__container{height:var(--height-mobile);position:absolute}}.ce-popover--inline .ce-popover-item-separator{padding:0 4px}.ce-popover--inline .ce-popover-item-separator__line{height:100%;width:1px}.ce-popover--inline .ce-popover-item{border-radius:4px;padding:4px}.ce-popover--inline .ce-popover-item__icon--tool{-webkit-box-shadow:none;box-shadow:none;background:transparent;margin-right:0}.ce-popover--inline .ce-popover-item__icon{width:auto;width:initial;height:auto;height:initial}.ce-popover--inline .ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover--inline .ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover--inline .ce-popover-item:not(:last-of-type){margin-bottom:0;margin-bottom:initial}.ce-popover--inline .ce-popover-item-html{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover--inline .ce-popover-item__icon--chevron-right{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{--offset: 3px;left:0;top:calc(var(--height) + var(--offset))}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{top:calc(var(--height-mobile) + var(--offset))}}.ce-popover--inline .ce-popover--nested .ce-popover__container{min-width:var(--width);width:var(--width);height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:6px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.ce-popover--inline .ce-popover--nested .ce-popover__items{display:block;width:100%}.ce-popover--inline .ce-popover--nested .ce-popover-item{border-radius:6px;padding:3px}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested .ce-popover-item{padding:4px}}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon--tool{margin-right:4px}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon{width:26px;height:26px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator{padding:4px 3px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator__line{width:100%;height:1px}.codex-editor [data-placeholder]:empty:before,.codex-editor [data-placeholder][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text;content:attr(data-placeholder)}.codex-editor [data-placeholder-active]:empty:before,.codex-editor [data-placeholder-active][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text}.codex-editor [data-placeholder-active]:empty:focus:before,.codex-editor [data-placeholder-active][data-empty=true]:focus:before{content:attr(data-placeholder-active)}\n';class go extends ${constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=mu(()=>{this.windowResize()},200)}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;let r=this.nodes.wrapper.querySelector(`.${ur.CSS.content}`);return r?(this.contentRectCache=r.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}async prepare(){this.setIsMobile(),this.make(),this.loadStyles()}toggleReadOnly(r){r?this.disableModuleBindings():window.requestIdleCallback(()=>{this.enableModuleBindings()},{timeout:2000})}checkEmptiness(){let{BlockManager:r}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,r.isEditorEmpty)}get someToolbarOpened(){let{Toolbar:r,BlockSettings:c,InlineToolbar:a}=this.Editor;return!!(c.opened||a.opened||r.toolbox.opened)}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([r,c])=>c.flipper instanceof Xr).some(([r,c])=>c.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){let{Toolbar:r,BlockSettings:c,InlineToolbar:a}=this.Editor;c.close(),a.close(),r.toolbox.close()}setIsMobile(){let r=window.innerWidth<cf;r!==this.isMobile&&this.eventsDispatcher.emit(Lc,{isEnabled:this.isMobile}),this.isMobile=r}make(){this.nodes.holder=D.getHolder(this.config.holder),this.nodes.wrapper=D.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=D.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){if(D.get("editor-js-styles"))return;let c=D.make("style",null,{id:"editor-js-styles",textContent:l0.toString()});this.config.style&&!Pr(this.config.style)&&this.config.style.nonce&&c.setAttribute("nonce",this.config.style.nonce),D.prepend(document.head,c)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",(c)=>{this.redactorClicked(c)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",(c)=>{this.documentTouched(c)},{capture:!0,passive:!0}),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",(c)=>{this.documentTouched(c)},{capture:!0,passive:!0}),this.readOnlyMutableListeners.on(document,"keydown",(c)=>{this.documentKeydown(c)},!0),this.readOnlyMutableListeners.on(document,"mousedown",(c)=>{this.documentClicked(c)},!0);let r=mu(()=>{this.selectionChanged()},c0);this.readOnlyMutableListeners.on(document,"selectionchange",r,!0),this.readOnlyMutableListeners.on(window,"resize",()=>{this.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents(),this.enableInputsEmptyMark()}watchBlockHoveredEvents(){let r;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",Ba((c)=>{let a=c.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||a&&r!==a&&(r=a,this.eventsDispatcher.emit(Xf,{block:this.Editor.BlockManager.getBlockByChildNode(a)}))},20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.setIsMobile()}documentKeydown(r){switch(r.keyCode){case M.ENTER:this.enterPressed(r);break;case M.BACKSPACE:case M.DELETE:this.backspacePressed(r);break;case M.ESC:this.escapePressed(r);break;default:this.defaultBehaviour(r);break}}defaultBehaviour(r){let{currentBlock:c}=this.Editor.BlockManager,a=r.target.closest(`.${this.CSS.editorWrapper}`),n=r.altKey||r.ctrlKey||r.metaKey||r.shiftKey;if(c!==void 0&&a===null){this.Editor.BlockEvents.keydown(r);return}a||c&&n||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close())}backspacePressed(r){let{BlockManager:c,BlockSelection:a,Caret:n}=this.Editor;if(a.anyBlockSelected&&!C.isSelectionExists){let u=c.removeSelectedBlocks(),f=c.insertDefaultBlockAtIndex(u,!0);n.setToBlock(f,n.positions.START),a.clearSelection(r),r.preventDefault(),r.stopPropagation(),r.stopImmediatePropagation()}}escapePressed(r){this.Editor.BlockSelection.clearSelection(r),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(r){let{BlockManager:c,BlockSelection:a}=this.Editor;if(this.someToolbarOpened)return;let n=c.currentBlockIndex>=0;if(a.anyBlockSelected&&!C.isSelectionExists){a.clearSelection(r),r.preventDefault(),r.stopImmediatePropagation(),r.stopPropagation();return}if(!this.someToolbarOpened&&n&&r.target.tagName==="BODY"){let u=this.Editor.BlockManager.insert();r.preventDefault(),this.Editor.Caret.setToBlock(u),this.Editor.Toolbar.moveAndOpen(u)}this.Editor.BlockSelection.clearSelection(r)}documentClicked(r){var c,a;if(!r.isTrusted)return;let n=r.target;this.nodes.holder.contains(n)||C.isAtEditor||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close());let u=(c=this.Editor.BlockSettings.nodes.wrapper)==null?void 0:c.contains(n),f=(a=this.Editor.Toolbar.nodes.settingsToggler)==null?void 0:a.contains(n),o=u||f;if(this.Editor.BlockSettings.opened&&!o){this.Editor.BlockSettings.close();let h=this.Editor.BlockManager.getBlockByChildNode(n);this.Editor.Toolbar.moveAndOpen(h)}this.Editor.BlockSelection.clearSelection(r)}documentTouched(r){let c=r.target;if(c===this.nodes.redactor){let a=r instanceof MouseEvent?r.clientX:r.touches[0].clientX,n=r instanceof MouseEvent?r.clientY:r.touches[0].clientY;c=document.elementFromPoint(a,n)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(c)}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(r){if(!C.isCollapsed)return;let c=r.target,a=r.metaKey||r.ctrlKey;if(D.isAnchor(c)&&a){r.stopImmediatePropagation(),r.stopPropagation();let n=c.getAttribute("href"),u=ap(n);up(u);return}this.processBottomZoneClick(r)}processBottomZoneClick(r){let c=this.Editor.BlockManager.getBlockByIndex(-1),a=D.offset(c.holder).bottom,n=r.pageY,{BlockSelection:u}=this.Editor;if(r.target instanceof Element&&r.target.isEqualNode(this.nodes.redactor)&&!u.anyBlockSelected&&a<n){r.stopImmediatePropagation(),r.stopPropagation();let{BlockManager:f,Caret:o,Toolbar:h}=this.Editor;(!f.lastBlock.tool.isDefault||!f.lastBlock.isEmpty)&&f.insertAtEnd(),o.setToTheLastBlock(),h.moveAndOpen(f.lastBlock)}}selectionChanged(){let{CrossBlockSelection:r,BlockSelection:c}=this.Editor,a=C.anchorElement;if(r.isCrossBlockSelectionStarted&&c.anyBlockSelected&&C.get().removeAllRanges(),!a){C.range||this.Editor.InlineToolbar.close();return}let n=a.closest(`.${ur.CSS.content}`);(n===null||n.closest(`.${C.CSS.editorWrapper}`)!==this.nodes.wrapper)&&(this.Editor.InlineToolbar.containsNode(a)||this.Editor.InlineToolbar.close(),a.dataset.inlineToolbar!=="true")||(this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(a),this.Editor.InlineToolbar.tryToShow(!0))}enableInputsEmptyMark(){function r(c){let a=c.target;af(a)}this.readOnlyMutableListeners.on(this.nodes.wrapper,"input",r),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusin",r),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusout",r)}}var g0={BlocksAPI:yf,CaretAPI:lf,EventsAPI:gf,I18nAPI:Ca,API:kf,InlineToolbarAPI:xf,ListenersAPI:bf,NotifierAPI:Lf,ReadOnlyAPI:Af,SanitizerAPI:Sf,SaverAPI:df,SelectionAPI:jf,ToolsAPI:Uf,StylesAPI:Nf,ToolbarAPI:Df,TooltipAPI:Gf,UiAPI:Rf,BlockSettings:Qf,Toolbar:Tf,InlineToolbar:zf,BlockEvents:Ef,BlockManager:ef,BlockSelection:ro,Caret:_c,CrossBlockSelection:co,DragNDrop:ao,ModificationsObserver:no,Paste:n0,ReadOnly:fo,RectangleSelection:Oc,Renderer:oo,Saver:ho,Tools:ea,UI:go};class io{constructor(r){this.moduleInstances={},this.eventsDispatcher=new uc;let c,a;this.isReady=new Promise((n,u)=>{c=n,a=u}),Promise.resolve().then(async()=>{this.configuration=r,this.validate(),this.init(),await this.start(),await this.render();let{BlockManager:n,Caret:u,UI:f,ModificationsObserver:o}=this.moduleInstances;f.checkEmptiness(),o.enable(),this.configuration.autofocus&&u.setToBlock(n.blocks[0],u.positions.START),c()}).catch((n)=>{F(`Editor.js is not ready because of ${n}`,"error"),a(n)})}set configuration(r){var c,a;fr(r)?this.config={...r}:this.config={holder:r},Ra(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=tu.VERBOSE),wh(this.config.logLevel),Ra(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;let n={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(Pr(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[n]}),this.config.readOnly=this.config.readOnly||!1,(c=this.config.i18n)!=null&&c.messages&&yr.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((a=this.config.i18n)==null?void 0:a.direction)||"ltr"}get configuration(){return this.config}validate(){let{holderId:r,holder:c}=this.config;if(r&&c)throw Error("«holderId» and «holder» param can't assign at the same time.");if(Jr(c)&&!D.get(c))throw Error(`element with ID «${c}» is missing. Pass correct holder's ID.`);if(c&&fr(c)&&!D.isElement(c))throw Error("«holder» value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((r,c)=>r.then(async()=>{try{await this.moduleInstances[c].prepare()}catch(a){if(a instanceof Wa)throw Error(a.message);F(`Module ${c} was skipped because of %o`,"warn",a)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(g0).forEach(([r,c])=>{try{this.moduleInstances[r]=new c({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(a){F("[constructModules]",`Module ${r} skipped because`,"error",a)}})}configureModules(){for(let r in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,r)&&(this.moduleInstances[r].state=this.getModulesDiff(r))}getModulesDiff(r){let c={};for(let a in this.moduleInstances)a!==r&&(c[a]=this.moduleInstances[a]);return c}}class rn{static get version(){return"2.30.7"}constructor(r){let c=()=>{};fr(r)&&q(r.onReady)&&(c=r.onReady);let a=new io(r);this.isReady=a.isReady.then(()=>{this.exportAPI(a),c()})}exportAPI(r){let c=["configuration"],a=()=>{Object.values(r.moduleInstances).forEach((n)=>{q(n.destroy)&&n.destroy(),n.listeners.removeAll()}),Dp(),r=null;for(let n in this)Object.prototype.hasOwnProperty.call(this,n)&&delete this[n];Object.setPrototypeOf(this,null)};c.forEach((n)=>{this[n]=r[n]}),this.destroy=a,Object.setPrototypeOf(this,r.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([n,u])=>{Object.entries(u).forEach(([f,o])=>{this[o]=r.moduleInstances.API.methods[n][f]})})}}(function(){try{if(typeof document<"u"){var r=document.createElement("style");r.appendChild(document.createTextNode(".ce-header{padding:.6em 0 3px;margin:0;line-height:1.25em;outline:none}.ce-header p,.ce-header div{padding:0!important;margin:0!important}")),document.head.appendChild(r)}}catch(c){console.error("vite-plugin-css-injected-by-js",c)}})();var i0='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>',k0='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>',x0='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>',b0='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>',s0='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>',O0='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>',L0='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>';class cn{constructor({data:r,config:c,api:a,readOnly:n}){this.api=a,this.readOnly=n,this._settings=c,this._data=this.normalizeData(r),this._element=this.getTag()}get _CSS(){return{block:this.api.styles.block,wrapper:"ce-header"}}isHeaderData(r){return r.text!==void 0}normalizeData(r){let c={text:"",level:this.defaultLevel.number};return this.isHeaderData(r)&&(c.text=r.text||"",r.level!==void 0&&!isNaN(parseInt(r.level.toString()))&&(c.level=parseInt(r.level.toString()))),c}render(){return this._element}renderSettings(){return this.levels.map((r)=>({icon:r.svg,label:this.api.i18n.t(`Heading ${r.number}`),onActivate:()=>this.setLevel(r.number),closeOnActivate:!0,isActive:this.currentLevel.number===r.number,render:()=>document.createElement("div")}))}setLevel(r){this.data={level:r,text:this.data.text}}merge(r){this._element.insertAdjacentHTML("beforeend",r.text)}validate(r){return r.text.trim()!==""}save(r){return{text:r.innerHTML,level:this.currentLevel.number}}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{level:!1,text:{}}}static get isReadOnlySupported(){return!0}get data(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data}set data(r){if(this._data=this.normalizeData(r),r.level!==void 0&&this._element.parentNode){let c=this.getTag();c.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(c,this._element),this._element=c}r.text!==void 0&&(this._element.innerHTML=this._data.text||"")}getTag(){let r=document.createElement(this.currentLevel.tag);return r.innerHTML=this._data.text||"",r.classList.add(this._CSS.wrapper),r.contentEditable=this.readOnly?"false":"true",r.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),r}get currentLevel(){let r=this.levels.find((c)=>c.number===this._data.level);return r||(r=this.defaultLevel),r}get defaultLevel(){if(this._settings.defaultLevel){let r=this.levels.find((c)=>c.number===this._settings.defaultLevel);if(r)return r;console.warn("(ง'̀-'́)ง Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}get levels(){let r=[{number:1,tag:"H1",svg:i0},{number:2,tag:"H2",svg:k0},{number:3,tag:"H3",svg:x0},{number:4,tag:"H4",svg:b0},{number:5,tag:"H5",svg:s0},{number:6,tag:"H6",svg:O0}];return this._settings.levels?r.filter((c)=>this._settings.levels.includes(c.number)):r}onPaste(r){let c=r.detail;if("data"in c){let a=c.data,n=this.defaultLevel.number;switch(a.tagName){case"H1":n=1;break;case"H2":n=2;break;case"H3":n=3;break;case"H4":n=4;break;case"H5":n=5;break;case"H6":n=6;break}this._settings.levels&&(n=this._settings.levels.reduce((u,f)=>Math.abs(f-n)<Math.abs(u-n)?f:u)),this.data={level:n,text:a.innerHTML}}}static get pasteConfig(){return{tags:["H1","H2","H3","H4","H5","H6"]}}static get toolbox(){return{icon:L0,title:"Heading"}}}(function(){try{if(typeof document<"u"){var r=document.createElement("style");r.appendChild(document.createTextNode('.cdx-list{margin:0;padding:0;outline:none;display:grid;counter-reset:item;gap:var(--spacing-s);padding:var(--spacing-xs);--spacing-s: 8px;--spacing-xs: 6px;--list-counter-type: numeric;--radius-border: 5px;--checkbox-background: #fff;--color-border: #C9C9C9;--color-bg-checked: #369FFF;--line-height: 1.45em;--color-bg-checked-hover: #0059AB;--color-tick: #fff;--size-checkbox: 1.2em}.cdx-list__item{line-height:var(--line-height);display:grid;grid-template-columns:auto 1fr;grid-template-rows:auto auto;grid-template-areas:"checkbox content" ". child"}.cdx-list__item-children{display:grid;grid-area:child;gap:var(--spacing-s);padding-top:var(--spacing-s)}.cdx-list__item [contenteditable]{outline:none}.cdx-list__item-content{word-break:break-word;white-space:pre-wrap;grid-area:content;padding-left:var(--spacing-s)}.cdx-list__item:before{counter-increment:item;white-space:nowrap}.cdx-list-ordered .cdx-list__item:before{content:counters(item,".",var(--list-counter-type)) "."}.cdx-list-ordered{counter-reset:item}.cdx-list-unordered .cdx-list__item:before{content:"•"}.cdx-list-checklist .cdx-list__item:before{content:""}.cdx-list__settings .cdx-settings-button{width:50%}.cdx-list__checkbox{padding-top:calc((var(--line-height) - var(--size-checkbox)) / 2);grid-area:checkbox;width:var(--size-checkbox);height:var(--size-checkbox);display:flex;cursor:pointer}.cdx-list__checkbox svg{opacity:0;height:var(--size-checkbox);width:var(--size-checkbox);left:-1px;top:-1px;position:absolute}@media (hover: hover){.cdx-list__checkbox:not(.cdx-list__checkbox--no-hover):hover .cdx-list__checkbox-check svg{opacity:1}}.cdx-list__checkbox--checked{line-height:var(--line-height)}@media (hover: hover){.cdx-list__checkbox--checked:not(.cdx-list__checkbox--checked--no-hover):hover .cdx-checklist__checkbox-check{background:var(--color-bg-checked-hover);border-color:var(--color-bg-checked-hover)}}.cdx-list__checkbox--checked .cdx-list__checkbox-check{background:var(--color-bg-checked);border-color:var(--color-bg-checked)}.cdx-list__checkbox--checked .cdx-list__checkbox-check svg{opacity:1}.cdx-list__checkbox--checked .cdx-list__checkbox-check svg path{stroke:var(--color-tick)}.cdx-list__checkbox--checked .cdx-list__checkbox-check:before{opacity:0;visibility:visible;transform:scale(2.5)}.cdx-list__checkbox-check{cursor:pointer;display:inline-block;position:relative;margin:0 auto;width:var(--size-checkbox);height:var(--size-checkbox);box-sizing:border-box;border-radius:var(--radius-border);border:1px solid var(--color-border);background:var(--checkbox-background)}.cdx-list__checkbox-check:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;border-radius:100%;background-color:var(--color-bg-checked);visibility:hidden;pointer-events:none;transform:scale(1);transition:transform .4s ease-out,opacity .4s}.cdx-list__checkbox-check--disabled{pointer-events:none}.cdx-list-start-with-field{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-list-start-with-field--invalid{background:#FFECED;border:1px solid #E13F3F}.cdx-list-start-with-field--invalid .cdx-list-start-with-field__input{color:#e13f3f}.cdx-list-start-with-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - var(--toolbox-buttons-size) - var(--icon-margin-right))}.cdx-list-start-with-field__input::placeholder{color:var(--grayText);font-weight:500}')),document.head.appendChild(r)}}catch(c){console.error("vite-plugin-css-injected-by-js",c)}})();var A0='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 12L10.4884 15.8372C10.5677 15.9245 10.705 15.9245 10.7844 15.8372L17 9"/></svg>',ko='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.2 12L11.0586 13.8586C11.1367 13.9367 11.2633 13.9367 11.3414 13.8586L14.7 10.5"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',xo='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>',bo='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>',P0='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 14.2L10 7.4135C10 7.32872 9.90111 7.28241 9.83598 7.33668L7 9.7" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',S0='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 14.2L10 9.5" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 7.01L10 7" stroke="black" stroke-width="1.8" stroke-linecap="round"/></svg>',d0='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 14.2L10 7.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',j0='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.0087 14.2H16" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M7 14.2L7.78865 12M13 14.2L12.1377 12M7.78865 12C7.78865 12 9.68362 7 10 7C10.3065 7 12.1377 12 12.1377 12M7.78865 12L12.1377 12" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',U0='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.2087 14.2H14.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M11.5 14.5C11.5 14.5 11 13.281 11 12.5M7 9.5C7 9.5 7.5 8.5 9 8.5C10.5 8.5 11 9.5 11 10.5L11 11.5M11 11.5L11 12.5M11 11.5C11 11.5 7 11 7 13C7 15.3031 11 15 11 12.5" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',N0='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 14.2L8 7.4135C8 7.32872 7.90111 7.28241 7.83598 7.33668L5 9.7" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M14 13L16.4167 10.7778M16.4167 10.7778L14 8.5M16.4167 10.7778H11.6562" stroke="black" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>',Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function D0(r){if(r.__esModule)return r;var c=r.default;if(typeof c=="function"){var a=function n(){return this instanceof n?Reflect.construct(c,arguments,this.constructor):c.apply(this,arguments)};a.prototype=c.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var u=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(a,n,u.get?u:{enumerable:!0,get:function(){return r[n]}})}),a}var T={},fn={},on={};Object.defineProperty(on,"__esModule",{value:!0});on.allInputsSelector=B0;function B0(){var r=["text","password","email","number","search","tel","url"];return"[contenteditable=true], textarea, input:not([type]), "+r.map(function(c){return'input[type="'.concat(c,'"]')}).join(", ")}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.allInputsSelector=void 0;var c=on;Object.defineProperty(r,"allInputsSelector",{enumerable:!0,get:function(){return c.allInputsSelector}})})(fn);var Vr={},hn={};Object.defineProperty(hn,"__esModule",{value:!0});hn.isNativeInput=G0;function G0(r){var c=["INPUT","TEXTAREA"];return r&&r.tagName?c.includes(r.tagName):!1}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.isNativeInput=void 0;var c=hn;Object.defineProperty(r,"isNativeInput",{enumerable:!0,get:function(){return c.isNativeInput}})})(Vr);var Ao={},pn={};Object.defineProperty(pn,"__esModule",{value:!0});pn.append=R0;function R0(r,c){Array.isArray(c)?c.forEach(function(a){r.appendChild(a)}):r.appendChild(c)}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.append=void 0;var c=pn;Object.defineProperty(r,"append",{enumerable:!0,get:function(){return c.append}})})(Ao);var vn={},yn={};Object.defineProperty(yn,"__esModule",{value:!0});yn.blockElements=Z0;function Z0(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.blockElements=void 0;var c=yn;Object.defineProperty(r,"blockElements",{enumerable:!0,get:function(){return c.blockElements}})})(vn);var Po={},ln={};Object.defineProperty(ln,"__esModule",{value:!0});ln.calculateBaseline=J0;function J0(r){var c=window.getComputedStyle(r),a=parseFloat(c.fontSize),n=parseFloat(c.lineHeight)||a*1.2,u=parseFloat(c.paddingTop),f=parseFloat(c.borderTopWidth),o=parseFloat(c.marginTop),h=a*0.8,l=(n-a)/2,p=o+f+u+l+h;return p}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.calculateBaseline=void 0;var c=ln;Object.defineProperty(r,"calculateBaseline",{enumerable:!0,get:function(){return c.calculateBaseline}})})(Po);var So={},gn={},kn={},xn={};Object.defineProperty(xn,"__esModule",{value:!0});xn.isContentEditable=Y0;function Y0(r){return r.contentEditable==="true"}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.isContentEditable=void 0;var c=xn;Object.defineProperty(r,"isContentEditable",{enumerable:!0,get:function(){return c.isContentEditable}})})(kn);Object.defineProperty(gn,"__esModule",{value:!0});gn.canSetCaret=W0;var H0=Vr,K0=kn;function W0(r){var c=!0;if((0,H0.isNativeInput)(r))switch(r.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":c=!1;break}else c=(0,K0.isContentEditable)(r);return c}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.canSetCaret=void 0;var c=gn;Object.defineProperty(r,"canSetCaret",{enumerable:!0,get:function(){return c.canSetCaret}})})(So);var tc={},bn={};function C0(r,c,a){let n=a.value!==void 0?"value":"get",u=a[n],f=`#${c}Cache`;if(a[n]=function(...o){return this[f]===void 0&&(this[f]=u.apply(this,o)),this[f]},n==="get"&&a.set){let o=a.set;a.set=function(h){delete r[f],o.apply(this,h)}}return a}function jo(){let r={win:!1,mac:!1,x11:!1,linux:!1},c=Object.keys(r).find((a)=>window.navigator.appVersion.toLowerCase().indexOf(a)!==-1);return c!==void 0&&(r[c]=!0),r}function sn(r){return r!=null&&r!==""&&(typeof r!="object"||Object.keys(r).length>0)}function _0(r){return!sn(r)}var I0=()=>typeof window<"u"&&window.navigator!==null&&sn(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function M0(r){let c=jo();return r=r.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi,"+"),c.mac?r=r.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):r=r.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),r}function Q0(r){return r[0].toUpperCase()+r.slice(1)}function $0(r){let c=document.createElement("div");c.style.position="absolute",c.style.left="-999px",c.style.bottom="-999px",c.innerHTML=r,document.body.appendChild(c);let a=window.getSelection(),n=document.createRange();if(n.selectNode(c),a===null)throw Error("Cannot copy text to clipboard");a.removeAllRanges(),a.addRange(n),document.execCommand("copy"),document.body.removeChild(c)}function m0(r,c,a){let n;return(...u)=>{let f=this,o=()=>{n=void 0,a!==!0&&r.apply(f,u)},h=a===!0&&n!==void 0;window.clearTimeout(n),n=window.setTimeout(o,c),h&&r.apply(f,u)}}function Ir(r){return Object.prototype.toString.call(r).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function F0(r){return Ir(r)==="boolean"}function Uo(r){return Ir(r)==="function"||Ir(r)==="asyncfunction"}function X0(r){return Uo(r)&&/^\s*class\s+/.test(r.toString())}function T0(r){return Ir(r)==="number"}function zc(r){return Ir(r)==="object"}function V0(r){return Promise.resolve(r)===r}function z0(r){return Ir(r)==="string"}function q0(r){return Ir(r)==="undefined"}function un(r,...c){if(!c.length)return r;let a=c.shift();if(zc(r)&&zc(a))for(let n in a)zc(a[n])?(r[n]===void 0&&Object.assign(r,{[n]:{}}),un(r[n],a[n])):Object.assign(r,{[n]:a[n]});return un(r,...c)}function w0(r,c,a){let n=`«${c}» is deprecated and will be removed in the next major release. Please use the «${a}» instead.`;r&&console.warn(n)}function E0(r){try{return new URL(r).href}catch{}return r.substring(0,2)==="//"?window.location.protocol+r:window.location.origin+r}function t0(r){return r>47&&r<58||r===32||r===13||r===229||r>64&&r<91||r>95&&r<112||r>185&&r<193||r>218&&r<223}var e0={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},rv={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};class No{constructor(){this.completed=Promise.resolve()}add(r){return new Promise((c,a)=>{this.completed=this.completed.then(r).then(c).catch(a)})}}function cv(r,c,a=void 0){let n,u,f,o=null,h=0;a||(a={});let l=function(){h=a.leading===!1?0:Date.now(),o=null,f=r.apply(n,u),o===null&&(n=u=null)};return function(){let p=Date.now();!h&&a.leading===!1&&(h=p);let y=c-(p-h);return n=this,u=arguments,y<=0||y>c?(o&&(clearTimeout(o),o=null),h=p,f=r.apply(n,u),o===null&&(n=u=null)):!o&&a.trailing!==!1&&(o=setTimeout(l,y)),f}}var av=Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:No,beautifyShortcut:M0,cacheable:C0,capitalize:Q0,copyTextToClipboard:$0,debounce:m0,deepMerge:un,deprecationAssert:w0,getUserOS:jo,getValidUrl:E0,isBoolean:F0,isClass:X0,isEmpty:_0,isFunction:Uo,isIosDevice:I0,isNumber:T0,isObject:zc,isPrintableKey:t0,isPromise:V0,isString:z0,isUndefined:q0,keyCodes:e0,mouseButtons:rv,notEmpty:sn,throttle:cv,typeOf:Ir},Symbol.toStringTag,{value:"Module"})),On=D0(av);Object.defineProperty(bn,"__esModule",{value:!0});bn.containsOnlyInlineElements=fv;var nv=On,uv=vn;function fv(r){var c;(0,nv.isString)(r)?(c=document.createElement("div"),c.innerHTML=r):c=r;var a=function(n){return!(0,uv.blockElements)().includes(n.tagName.toLowerCase())&&Array.from(n.children).every(a)};return Array.from(c.children).every(a)}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.containsOnlyInlineElements=void 0;var c=bn;Object.defineProperty(r,"containsOnlyInlineElements",{enumerable:!0,get:function(){return c.containsOnlyInlineElements}})})(tc);var Do={},Ln={},ec={},An={};Object.defineProperty(An,"__esModule",{value:!0});An.make=ov;function ov(r,c,a){var n;c===void 0&&(c=null),a===void 0&&(a={});var u=document.createElement(r);if(Array.isArray(c)){var f=c.filter(function(h){return h!==void 0});(n=u.classList).add.apply(n,f)}else c!==null&&u.classList.add(c);for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(u[o]=a[o]);return u}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.make=void 0;var c=An;Object.defineProperty(r,"make",{enumerable:!0,get:function(){return c.make}})})(ec);Object.defineProperty(Ln,"__esModule",{value:!0});Ln.fragmentToString=pv;var hv=ec;function pv(r){var c=(0,hv.make)("div");return c.appendChild(r),c.innerHTML}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.fragmentToString=void 0;var c=Ln;Object.defineProperty(r,"fragmentToString",{enumerable:!0,get:function(){return c.fragmentToString}})})(Do);var Bo={},Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.getContentLength=yv;var vv=Vr;function yv(r){var c,a;return(0,vv.isNativeInput)(r)?r.value.length:r.nodeType===Node.TEXT_NODE?r.length:(a=(c=r.textContent)===null||c===void 0?void 0:c.length)!==null&&a!==void 0?a:0}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.getContentLength=void 0;var c=Pn;Object.defineProperty(r,"getContentLength",{enumerable:!0,get:function(){return c.getContentLength}})})(Bo);var Sn={},dn={},so=Ec&&Ec.__spreadArray||function(r,c,a){if(a||arguments.length===2)for(var n=0,u=c.length,f;n<u;n++)(f||!(n in c))&&(f||(f=Array.prototype.slice.call(c,0,n)),f[n]=c[n]);return r.concat(f||Array.prototype.slice.call(c))};Object.defineProperty(dn,"__esModule",{value:!0});dn.getDeepestBlockElements=Go;var lv=tc;function Go(r){return(0,lv.containsOnlyInlineElements)(r)?[r]:Array.from(r.children).reduce(function(c,a){return so(so([],c,!0),Go(a),!0)},[])}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.getDeepestBlockElements=void 0;var c=dn;Object.defineProperty(r,"getDeepestBlockElements",{enumerable:!0,get:function(){return c.getDeepestBlockElements}})})(Sn);var Ro={},jn={},ra={},Un={};Object.defineProperty(Un,"__esModule",{value:!0});Un.isLineBreakTag=gv;function gv(r){return["BR","WBR"].includes(r.tagName)}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.isLineBreakTag=void 0;var c=Un;Object.defineProperty(r,"isLineBreakTag",{enumerable:!0,get:function(){return c.isLineBreakTag}})})(ra);var ca={},Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.isSingleTag=iv;function iv(r){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(r.tagName)}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.isSingleTag=void 0;var c=Nn;Object.defineProperty(r,"isSingleTag",{enumerable:!0,get:function(){return c.isSingleTag}})})(ca);Object.defineProperty(jn,"__esModule",{value:!0});jn.getDeepestNode=Zo;var kv=Vr,xv=ra,bv=ca;function Zo(r,c){c===void 0&&(c=!1);var a=c?"lastChild":"firstChild",n=c?"previousSibling":"nextSibling";if(r.nodeType===Node.ELEMENT_NODE&&r[a]){var u=r[a];if((0,bv.isSingleTag)(u)&&!(0,kv.isNativeInput)(u)&&!(0,xv.isLineBreakTag)(u))if(u[n])u=u[n];else if(u.parentNode!==null&&u.parentNode[n])u=u.parentNode[n];else return u.parentNode;return Zo(u,c)}return r}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.getDeepestNode=void 0;var c=jn;Object.defineProperty(r,"getDeepestNode",{enumerable:!0,get:function(){return c.getDeepestNode}})})(Ro);var Jo={},Dn={},Tc=Ec&&Ec.__spreadArray||function(r,c,a){if(a||arguments.length===2)for(var n=0,u=c.length,f;n<u;n++)(f||!(n in c))&&(f||(f=Array.prototype.slice.call(c,0,n)),f[n]=c[n]);return r.concat(f||Array.prototype.slice.call(c))};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.findAllInputs=Pv;var sv=tc,Ov=Sn,Lv=fn,Av=Vr;function Pv(r){return Array.from(r.querySelectorAll((0,Lv.allInputsSelector)())).reduce(function(c,a){return(0,Av.isNativeInput)(a)||(0,sv.containsOnlyInlineElements)(a)?Tc(Tc([],c,!0),[a],!1):Tc(Tc([],c,!0),(0,Ov.getDeepestBlockElements)(a),!0)},[])}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.findAllInputs=void 0;var c=Dn;Object.defineProperty(r,"findAllInputs",{enumerable:!0,get:function(){return c.findAllInputs}})})(Jo);var Yo={},Bn={};Object.defineProperty(Bn,"__esModule",{value:!0});Bn.isCollapsedWhitespaces=Sv;function Sv(r){return!/[^\t\n\r ]/.test(r)}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.isCollapsedWhitespaces=void 0;var c=Bn;Object.defineProperty(r,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return c.isCollapsedWhitespaces}})})(Yo);var Gn={},Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});Rn.isElement=jv;var dv=On;function jv(r){return(0,dv.isNumber)(r)?!1:!!r&&!!r.nodeType&&r.nodeType===Node.ELEMENT_NODE}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.isElement=void 0;var c=Rn;Object.defineProperty(r,"isElement",{enumerable:!0,get:function(){return c.isElement}})})(Gn);var Ho={},Zn={},Jn={},Yn={};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.isLeaf=Uv;function Uv(r){return r===null?!1:r.childNodes.length===0}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.isLeaf=void 0;var c=Yn;Object.defineProperty(r,"isLeaf",{enumerable:!0,get:function(){return c.isLeaf}})})(Jn);var Hn={},Kn={};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.isNodeEmpty=Rv;var Nv=ra,Dv=Gn,Bv=Vr,Gv=ca;function Rv(r,c){var a="";return(0,Gv.isSingleTag)(r)&&!(0,Nv.isLineBreakTag)(r)?!1:((0,Dv.isElement)(r)&&(0,Bv.isNativeInput)(r)?a=r.value:r.textContent!==null&&(a=r.textContent.replace("​","")),c!==void 0&&(a=a.replace(new RegExp(c,"g"),"")),a.trim().length===0)}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.isNodeEmpty=void 0;var c=Kn;Object.defineProperty(r,"isNodeEmpty",{enumerable:!0,get:function(){return c.isNodeEmpty}})})(Hn);Object.defineProperty(Zn,"__esModule",{value:!0});Zn.isEmpty=Yv;var Zv=Jn,Jv=Hn;function Yv(r,c){r.normalize();for(var a=[r];a.length>0;){var n=a.shift();if(n){if(r=n,(0,Zv.isLeaf)(r)&&!(0,Jv.isNodeEmpty)(r,c))return!1;a.push.apply(a,Array.from(r.childNodes))}}return!0}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.isEmpty=void 0;var c=Zn;Object.defineProperty(r,"isEmpty",{enumerable:!0,get:function(){return c.isEmpty}})})(Ho);var Ko={},Wn={};Object.defineProperty(Wn,"__esModule",{value:!0});Wn.isFragment=Kv;var Hv=On;function Kv(r){return(0,Hv.isNumber)(r)?!1:!!r&&!!r.nodeType&&r.nodeType===Node.DOCUMENT_FRAGMENT_NODE}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.isFragment=void 0;var c=Wn;Object.defineProperty(r,"isFragment",{enumerable:!0,get:function(){return c.isFragment}})})(Ko);var Wo={},Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});Cn.isHTMLString=Cv;var Wv=ec;function Cv(r){var c=(0,Wv.make)("div");return c.innerHTML=r,c.childElementCount>0}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.isHTMLString=void 0;var c=Cn;Object.defineProperty(r,"isHTMLString",{enumerable:!0,get:function(){return c.isHTMLString}})})(Wo);var Co={},_n={};Object.defineProperty(_n,"__esModule",{value:!0});_n.offset=_v;function _v(r){var c=r.getBoundingClientRect(),a=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop,u=c.top+n,f=c.left+a;return{top:u,left:f,bottom:u+c.height,right:f+c.width}}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.offset=void 0;var c=_n;Object.defineProperty(r,"offset",{enumerable:!0,get:function(){return c.offset}})})(Co);var _o={},In={};Object.defineProperty(In,"__esModule",{value:!0});In.prepend=Iv;function Iv(r,c){Array.isArray(c)?(c=c.reverse(),c.forEach(function(a){return r.prepend(a)})):r.prepend(c)}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.prepend=void 0;var c=In;Object.defineProperty(r,"prepend",{enumerable:!0,get:function(){return c.prepend}})})(_o);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.prepend=r.offset=r.make=r.isLineBreakTag=r.isSingleTag=r.isNodeEmpty=r.isLeaf=r.isHTMLString=r.isFragment=r.isEmpty=r.isElement=r.isContentEditable=r.isCollapsedWhitespaces=r.findAllInputs=r.isNativeInput=r.allInputsSelector=r.getDeepestNode=r.getDeepestBlockElements=r.getContentLength=r.fragmentToString=r.containsOnlyInlineElements=r.canSetCaret=r.calculateBaseline=r.blockElements=r.append=void 0;var c=fn;Object.defineProperty(r,"allInputsSelector",{enumerable:!0,get:function(){return c.allInputsSelector}});var a=Vr;Object.defineProperty(r,"isNativeInput",{enumerable:!0,get:function(){return a.isNativeInput}});var n=Ao;Object.defineProperty(r,"append",{enumerable:!0,get:function(){return n.append}});var u=vn;Object.defineProperty(r,"blockElements",{enumerable:!0,get:function(){return u.blockElements}});var f=Po;Object.defineProperty(r,"calculateBaseline",{enumerable:!0,get:function(){return f.calculateBaseline}});var o=So;Object.defineProperty(r,"canSetCaret",{enumerable:!0,get:function(){return o.canSetCaret}});var h=tc;Object.defineProperty(r,"containsOnlyInlineElements",{enumerable:!0,get:function(){return h.containsOnlyInlineElements}});var l=Do;Object.defineProperty(r,"fragmentToString",{enumerable:!0,get:function(){return l.fragmentToString}});var p=Bo;Object.defineProperty(r,"getContentLength",{enumerable:!0,get:function(){return p.getContentLength}});var y=Sn;Object.defineProperty(r,"getDeepestBlockElements",{enumerable:!0,get:function(){return y.getDeepestBlockElements}});var v=Ro;Object.defineProperty(r,"getDeepestNode",{enumerable:!0,get:function(){return v.getDeepestNode}});var x=Jo;Object.defineProperty(r,"findAllInputs",{enumerable:!0,get:function(){return x.findAllInputs}});var O=Yo;Object.defineProperty(r,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return O.isCollapsedWhitespaces}});var k=kn;Object.defineProperty(r,"isContentEditable",{enumerable:!0,get:function(){return k.isContentEditable}});var i=Gn;Object.defineProperty(r,"isElement",{enumerable:!0,get:function(){return i.isElement}});var g=Ho;Object.defineProperty(r,"isEmpty",{enumerable:!0,get:function(){return g.isEmpty}});var b=Ko;Object.defineProperty(r,"isFragment",{enumerable:!0,get:function(){return b.isFragment}});var A=Wo;Object.defineProperty(r,"isHTMLString",{enumerable:!0,get:function(){return A.isHTMLString}});var P=Jn;Object.defineProperty(r,"isLeaf",{enumerable:!0,get:function(){return P.isLeaf}});var S=Hn;Object.defineProperty(r,"isNodeEmpty",{enumerable:!0,get:function(){return S.isNodeEmpty}});var d=ra;Object.defineProperty(r,"isLineBreakTag",{enumerable:!0,get:function(){return d.isLineBreakTag}});var N=ca;Object.defineProperty(r,"isSingleTag",{enumerable:!0,get:function(){return N.isSingleTag}});var G=ec;Object.defineProperty(r,"make",{enumerable:!0,get:function(){return G.make}});var L=Co;Object.defineProperty(r,"offset",{enumerable:!0,get:function(){return L.offset}});var s=_o;Object.defineProperty(r,"prepend",{enumerable:!0,get:function(){return s.prepend}})})(T);var lr="cdx-list",hr={wrapper:lr,item:`${lr}__item`,itemContent:`${lr}__item-content`,itemChildren:`${lr}__item-children`};class Ur{static get CSS(){return{...hr,orderedList:`${lr}-ordered`}}constructor(r,c){this.config=c,this.readOnly=r}renderWrapper(r){let c;return r===!0?c=T.make("ol",[Ur.CSS.wrapper,Ur.CSS.orderedList]):c=T.make("ol",[Ur.CSS.orderedList,Ur.CSS.itemChildren]),c}renderItem(r,c){let a=T.make("li",Ur.CSS.item),n=T.make("div",Ur.CSS.itemContent,{innerHTML:r,contentEditable:(!this.readOnly).toString()});return a.appendChild(n),a}getItemContent(r){let c=r.querySelector(`.${Ur.CSS.itemContent}`);return!c||T.isEmpty(c)?"":c.innerHTML}getItemMeta(){return{}}composeDefaultMeta(){return{}}}class Nr{static get CSS(){return{...hr,unorderedList:`${lr}-unordered`}}constructor(r,c){this.config=c,this.readOnly=r}renderWrapper(r){let c;return r===!0?c=T.make("ul",[Nr.CSS.wrapper,Nr.CSS.unorderedList]):c=T.make("ul",[Nr.CSS.unorderedList,Nr.CSS.itemChildren]),c}renderItem(r,c){let a=T.make("li",Nr.CSS.item),n=T.make("div",Nr.CSS.itemContent,{innerHTML:r,contentEditable:(!this.readOnly).toString()});return a.appendChild(n),a}getItemContent(r){let c=r.querySelector(`.${Nr.CSS.itemContent}`);return!c||T.isEmpty(c)?"":c.innerHTML}getItemMeta(){return{}}composeDefaultMeta(){return{}}}function Tr(r){return r.nodeType===Node.ELEMENT_NODE}var Sc={},Mn={},aa={},na={};Object.defineProperty(na,"__esModule",{value:!0});na.getContenteditableSlice=Qv;var Mv=T;function Qv(r,c,a,n,u){var f;u===void 0&&(u=!1);var o=document.createRange();if(n==="left"?(o.setStart(r,0),o.setEnd(c,a)):(o.setStart(c,a),o.setEnd(r,r.childNodes.length)),u===!0){var h=o.extractContents();return(0,Mv.fragmentToString)(h)}var l=o.cloneContents(),p=document.createElement("div");p.appendChild(l);var y=(f=p.textContent)!==null&&f!==void 0?f:"";return y}Object.defineProperty(aa,"__esModule",{value:!0});aa.checkContenteditableSliceForEmptiness=Fv;var $v=T,mv=na;function Fv(r,c,a,n){var u=(0,mv.getContenteditableSlice)(r,c,a,n);return(0,$v.isCollapsedWhitespaces)(u)}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.checkContenteditableSliceForEmptiness=void 0;var c=aa;Object.defineProperty(r,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return c.checkContenteditableSliceForEmptiness}})})(Mn);var Io={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.getContenteditableSlice=void 0;var c=na;Object.defineProperty(r,"getContenteditableSlice",{enumerable:!0,get:function(){return c.getContenteditableSlice}})})(Io);var Mo={},Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.focus=Tv;var Xv=T;function Tv(r,c){var a,n;if(c===void 0&&(c=!0),(0,Xv.isNativeInput)(r)){r.focus();var u=c?0:r.value.length;r.setSelectionRange(u,u)}else{var f=document.createRange(),o=window.getSelection();if(!o)return;var h=function(x,O){O===void 0&&(O=!1);var k=document.createTextNode("");O?x.insertBefore(k,x.firstChild):x.appendChild(k),f.setStart(k,0),f.setEnd(k,0)},l=function(x){return x!=null},p=r.childNodes,y=c?p[0]:p[p.length-1];if(l(y)){for(;l(y)&&y.nodeType!==Node.TEXT_NODE;)y=c?y.firstChild:y.lastChild;if(l(y)&&y.nodeType===Node.TEXT_NODE){var v=(n=(a=y.textContent)===null||a===void 0?void 0:a.length)!==null&&n!==void 0?n:0,u=c?0:v;f.setStart(y,u),f.setEnd(y,u)}else h(r,c)}else h(r);o.removeAllRanges(),o.addRange(f)}}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.focus=void 0;var c=Qn;Object.defineProperty(r,"focus",{enumerable:!0,get:function(){return c.focus}})})(Mo);var $n={},ua={};Object.defineProperty(ua,"__esModule",{value:!0});ua.getCaretNodeAndOffset=Vv;function Vv(){var r=window.getSelection();if(r===null)return[null,0];var{focusNode:c,focusOffset:a}=r;return c===null?[null,0]:(c.nodeType!==Node.TEXT_NODE&&c.childNodes.length>0&&(c.childNodes[a]!==void 0?(c=c.childNodes[a],a=0):(c=c.childNodes[a-1],c.textContent!==null&&(a=c.textContent.length))),[c,a])}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.getCaretNodeAndOffset=void 0;var c=ua;Object.defineProperty(r,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return c.getCaretNodeAndOffset}})})($n);var Qo={},fa={};Object.defineProperty(fa,"__esModule",{value:!0});fa.getRange=zv;function zv(){var r=window.getSelection();return r&&r.rangeCount?r.getRangeAt(0):null}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.getRange=void 0;var c=fa;Object.defineProperty(r,"getRange",{enumerable:!0,get:function(){return c.getRange}})})(Qo);var $o={},mn={};Object.defineProperty(mn,"__esModule",{value:!0});mn.isCaretAtEndOfInput=Ev;var Oo=T,qv=$n,wv=Mn;function Ev(r){var c=(0,Oo.getDeepestNode)(r,!0);if(c===null)return!0;if((0,Oo.isNativeInput)(c))return c.selectionEnd===c.value.length;var a=(0,qv.getCaretNodeAndOffset)(),n=a[0],u=a[1];return n===null?!1:(0,wv.checkContenteditableSliceForEmptiness)(r,n,u,"right")}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.isCaretAtEndOfInput=void 0;var c=mn;Object.defineProperty(r,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return c.isCaretAtEndOfInput}})})($o);var mo={},Fn={};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.isCaretAtStartOfInput=ry;var Vc=T,tv=ua,ev=aa;function ry(r){var c=(0,Vc.getDeepestNode)(r);if(c===null||(0,Vc.isEmpty)(r))return!0;if((0,Vc.isNativeInput)(c))return c.selectionEnd===0;if((0,Vc.isEmpty)(r))return!0;var a=(0,tv.getCaretNodeAndOffset)(),n=a[0],u=a[1];return n===null?!1:(0,ev.checkContenteditableSliceForEmptiness)(r,n,u,"left")}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.isCaretAtStartOfInput=void 0;var c=Fn;Object.defineProperty(r,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return c.isCaretAtStartOfInput}})})(mo);var Fo={},Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.save=ny;var cy=T,ay=fa;function ny(){var r=(0,ay.getRange)(),c=(0,cy.make)("span");if(c.id="cursor",c.hidden=!0,!!r)return r.insertNode(c),function(){var a=window.getSelection();a&&(r.setStartAfter(c),r.setEndAfter(c),a.removeAllRanges(),a.addRange(r),setTimeout(function(){c.remove()},150))}}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.save=void 0;var c=Xn;Object.defineProperty(r,"save",{enumerable:!0,get:function(){return c.save}})})(Fo);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.save=r.isCaretAtStartOfInput=r.isCaretAtEndOfInput=r.getRange=r.getCaretNodeAndOffset=r.focus=r.getContenteditableSlice=r.checkContenteditableSliceForEmptiness=void 0;var c=Mn;Object.defineProperty(r,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return c.checkContenteditableSliceForEmptiness}});var a=Io;Object.defineProperty(r,"getContenteditableSlice",{enumerable:!0,get:function(){return a.getContenteditableSlice}});var n=Mo;Object.defineProperty(r,"focus",{enumerable:!0,get:function(){return n.focus}});var u=$n;Object.defineProperty(r,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return u.getCaretNodeAndOffset}});var f=Qo;Object.defineProperty(r,"getRange",{enumerable:!0,get:function(){return f.getRange}});var o=$o;Object.defineProperty(r,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return o.isCaretAtEndOfInput}});var h=mo;Object.defineProperty(r,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return h.isCaretAtStartOfInput}});var l=Fo;Object.defineProperty(r,"save",{enumerable:!0,get:function(){return l.save}})})(Sc);class rr{static get CSS(){return{...hr,checklist:`${lr}-checklist`,itemChecked:`${lr}__checkbox--checked`,noHover:`${lr}__checkbox--no-hover`,checkbox:`${lr}__checkbox-check`,checkboxContainer:`${lr}__checkbox`,checkboxCheckDisabled:`${lr}__checkbox-check--disabled`}}constructor(r,c){this.config=c,this.readOnly=r}renderWrapper(r){let c;return r===!0?(c=T.make("ul",[rr.CSS.wrapper,rr.CSS.checklist]),c.addEventListener("click",(a)=>{let n=a.target;if(n){let u=n.closest(`.${rr.CSS.checkboxContainer}`);u&&u.contains(n)&&this.toggleCheckbox(u)}})):c=T.make("ul",[rr.CSS.checklist,rr.CSS.itemChildren]),c}renderItem(r,c){let a=T.make("li",[rr.CSS.item,rr.CSS.item]),n=T.make("div",rr.CSS.itemContent,{innerHTML:r,contentEditable:(!this.readOnly).toString()}),u=T.make("span",rr.CSS.checkbox),f=T.make("div",rr.CSS.checkboxContainer);return c.checked===!0&&f.classList.add(rr.CSS.itemChecked),this.readOnly&&f.classList.add(rr.CSS.checkboxCheckDisabled),u.innerHTML=A0,f.appendChild(u),a.appendChild(f),a.appendChild(n),a}getItemContent(r){let c=r.querySelector(`.${rr.CSS.itemContent}`);return!c||T.isEmpty(c)?"":c.innerHTML}getItemMeta(r){let c=r.querySelector(`.${rr.CSS.checkboxContainer}`);return{checked:c?c.classList.contains(rr.CSS.itemChecked):!1}}composeDefaultMeta(){return{checked:!1}}toggleCheckbox(r){r.classList.toggle(rr.CSS.itemChecked),r.classList.add(rr.CSS.noHover),r.addEventListener("mouseleave",()=>this.removeSpecialHoverBehavior(r),{once:!0})}removeSpecialHoverBehavior(r){r.classList.remove(rr.CSS.noHover)}}function an(r,c="after"){let a=[],n;function u(f){switch(c){case"after":return f.nextElementSibling;case"before":return f.previousElementSibling}}for(n=u(r);n!==null;)a.push(n),n=u(n);return a.length!==0?a:null}function Yr(r,c=!0){let a=r;return r.classList.contains(hr.item)&&(a=r.querySelector(`.${hr.itemChildren}`)),a===null?[]:c?Array.from(a.querySelectorAll(`:scope > .${hr.item}`)):Array.from(a.querySelectorAll(`.${hr.item}`))}function uy(r){return r.nextElementSibling===null}function fy(r){return r.querySelector(`.${hr.itemChildren}`)!==null}function _r(r){return r.querySelector(`.${hr.itemChildren}`)}function nn(r){let c=r;r.classList.contains(hr.item)&&(c=_r(r)),c!==null&&Yr(c).length===0&&c.remove()}function qc(r){return r.querySelector(`.${hr.itemContent}`)}function oc(r,c=!0){let a=qc(r);a&&Sc.focus(a,c)}class wc{get currentItem(){let r=window.getSelection();if(!r)return null;let c=r.anchorNode;return!c||(Tr(c)||(c=c.parentNode),!c)||!Tr(c)?null:c.closest(`.${hr.item}`)}get currentItemLevel(){let r=this.currentItem;if(r===null)return null;let c=r.parentNode,a=0;for(;c!==null&&c!==this.listWrapper;)Tr(c)&&c.classList.contains(hr.item)&&(a+=1),c=c.parentNode;return a+1}constructor({data:r,config:c,api:a,readOnly:n,block:u},f){this.config=c,this.data=r,this.readOnly=n,this.api=a,this.block=u,this.renderer=f}render(){return this.listWrapper=this.renderer.renderWrapper(!0),this.data.items.length?this.appendItems(this.data.items,this.listWrapper):this.appendItems([{content:"",meta:{},items:[]}],this.listWrapper),this.readOnly||this.listWrapper.addEventListener("keydown",(r)=>{switch(r.key){case"Enter":r.shiftKey||this.enterPressed(r);break;case"Backspace":this.backspace(r);break;case"Tab":r.shiftKey?this.shiftTab(r):this.addTab(r);break}},!1),"start"in this.data.meta&&this.data.meta.start!==void 0&&this.changeStartWith(this.data.meta.start),"counterType"in this.data.meta&&this.data.meta.counterType!==void 0&&this.changeCounters(this.data.meta.counterType),this.listWrapper}save(r){let c=r??this.listWrapper,a=(f)=>Yr(f).map((o)=>{let h=_r(o),l=this.renderer.getItemContent(o),p=this.renderer.getItemMeta(o),y=h?a(h):[];return{content:l,meta:p,items:y}}),n=c?a(c):[],u={style:this.data.style,meta:{},items:n};return this.data.style==="ordered"&&(u.meta={start:this.data.meta.start,counterType:this.data.meta.counterType}),u}static get pasteConfig(){return{tags:["OL","UL","LI"]}}merge(r){let c=this.block.holder.querySelectorAll(`.${hr.item}`),a=c[c.length-1],n=qc(a);if(a===null||n===null||(n.insertAdjacentHTML("beforeend",r.items[0].content),this.listWrapper===void 0))return;let u=Yr(this.listWrapper);if(u.length===0)return;let f=u[u.length-1],o=_r(f),h=r.items.shift();h!==void 0&&(h.items.length!==0&&(o===null&&(o=this.renderer.renderWrapper(!1)),this.appendItems(h.items,o)),r.items.length>0&&this.appendItems(r.items,this.listWrapper))}onPaste(r){let c=r.detail.data;this.data=this.pasteHandler(c);let a=this.listWrapper;a&&a.parentNode&&a.parentNode.replaceChild(this.render(),a)}pasteHandler(r){let{tagName:c}=r,a="unordered",n;switch(c){case"OL":a="ordered",n="ol";break;case"UL":case"LI":a="unordered",n="ul"}let u={style:a,meta:{},items:[]};a==="ordered"&&(this.data.meta.counterType="numeric",this.data.meta.start=1);let f=(o)=>Array.from(o.querySelectorAll(":scope > li")).map((h)=>{let l=h.querySelector(`:scope > ${n}`),p=l?f(l):[];return{content:h.innerHTML??"",meta:{},items:p}});return u.items=f(r),u}changeStartWith(r){this.listWrapper.style.setProperty("counter-reset",`item ${r-1}`),this.data.meta.start=r}changeCounters(r){this.listWrapper.style.setProperty("--list-counter-type",r),this.data.meta.counterType=r}enterPressed(r){var c;let a=this.currentItem;if(r.stopPropagation(),r.preventDefault(),r.isComposing||a===null)return;let n=((c=this.renderer)==null?void 0:c.getItemContent(a).trim().length)===0,u=a.parentNode===this.listWrapper,f=a.previousElementSibling===null,o=this.api.blocks.getCurrentBlockIndex();if(u&&n)if(uy(a)&&!fy(a)){f?this.convertItemToDefaultBlock(o,!0):this.convertItemToDefaultBlock();return}else{this.splitList(a);return}else if(n){this.unshiftItem(a);return}else this.splitItem(a)}backspace(r){var c;let a=this.currentItem;if(a!==null&&Sc.isCaretAtStartOfInput(a)&&((c=window.getSelection())==null?void 0:c.isCollapsed)!==!1){if(r.stopPropagation(),a.parentNode===this.listWrapper&&a.previousElementSibling===null){this.convertFirstItemToDefaultBlock();return}r.preventDefault(),this.mergeItemWithPrevious(a)}}shiftTab(r){r.stopPropagation(),r.preventDefault(),this.currentItem!==null&&this.unshiftItem(this.currentItem)}unshiftItem(r){if(!r.parentNode||!Tr(r.parentNode))return;let c=r.parentNode.closest(`.${hr.item}`);if(!c)return;let a=_r(r);if(r.parentElement===null)return;let n=an(r);n!==null&&(a===null&&(a=this.renderer.renderWrapper(!1)),n.forEach((u)=>{a.appendChild(u)}),r.appendChild(a)),c.after(r),oc(r,!1),nn(c)}splitList(r){let c=Yr(r),a=this.block,n=this.api.blocks.getCurrentBlockIndex();if(c.length!==0){let h=c[0];this.unshiftItem(h),oc(r,!1)}if(r.previousElementSibling===null&&r.parentNode===this.listWrapper){this.convertItemToDefaultBlock(n);return}let u=an(r);if(u===null)return;let f=this.renderer.renderWrapper(!0);u.forEach((h)=>{f.appendChild(h)});let o=this.save(f);o.meta.start=this.data.style=="ordered"?1:void 0,this.api.blocks.insert(a==null?void 0:a.name,o,this.config,n+1),this.convertItemToDefaultBlock(n+1),f.remove()}splitItem(r){let[c,a]=Sc.getCaretNodeAndOffset();if(c===null)return;let n=qc(r),u;n===null?u="":u=Sc.getContenteditableSlice(n,c,a,"right",!0);let f=_r(r),o=this.renderItem(u);r==null||r.after(o),f&&o.appendChild(f),oc(o)}mergeItemWithPrevious(r){let{previousElementSibling:c,parentNode:a}=r;if(a===null||!Tr(a))return;let n=a.closest(`.${hr.item}`);if(!c&&!n||c&&!Tr(c))return;let u;if(c){let y=Yr(c,!1);y.length!==0&&y.length!==0?u=y[y.length-1]:u=c}else u=n;let f=this.renderer.getItemContent(r);if(!u)return;oc(u,!1);let o=qc(u);if(o===null)return;o.insertAdjacentHTML("beforeend",f);let h=Yr(r);if(h.length===0){r.remove(),nn(u);return}let l=c||n,p=_r(l)??this.renderer.renderWrapper(!1);c?h.forEach((y)=>{p.appendChild(y)}):h.forEach((y)=>{p.prepend(y)}),_r(l)===null&&u.appendChild(p),r.remove()}addTab(r){var c;r.stopPropagation(),r.preventDefault();let a=this.currentItem;if(!a)return;if(((c=this.config)==null?void 0:c.maxLevel)!==void 0){let f=this.currentItemLevel;if(f!==null&&f===this.config.maxLevel)return}let n=a.previousSibling;if(n===null||!Tr(n))return;let u=_r(n);if(u)u.appendChild(a),Yr(a).forEach((f)=>{u.appendChild(f)});else{let f=this.renderer.renderWrapper(!1);f.appendChild(a),Yr(a).forEach((o)=>{f.appendChild(o)}),n.appendChild(f)}nn(a),oc(a,!1)}convertItemToDefaultBlock(r,c){let a,n=this.currentItem,u=n!==null?this.renderer.getItemContent(n):"";c===!0&&this.api.blocks.delete(),r!==void 0?a=this.api.blocks.insert(void 0,{text:u},void 0,r):a=this.api.blocks.insert(),n==null||n.remove(),this.api.caret.setToBlock(a,"start")}convertFirstItemToDefaultBlock(){let r=this.currentItem;if(r===null)return;let c=Yr(r);if(c.length!==0){let f=c[0];this.unshiftItem(f),oc(r)}let a=an(r),n=this.api.blocks.getCurrentBlockIndex(),u=a===null;this.convertItemToDefaultBlock(n,u)}renderItem(r,c){let a=c??this.renderer.composeDefaultMeta();switch(!0){case this.renderer instanceof Ur:return this.renderer.renderItem(r,a);case this.renderer instanceof Nr:return this.renderer.renderItem(r,a);default:return this.renderer.renderItem(r,a)}}appendItems(r,c){r.forEach((a)=>{var n;let u=this.renderItem(a.content,a.meta);if(c.appendChild(u),a.items.length){let f=(n=this.renderer)==null?void 0:n.renderWrapper(!1);this.appendItems(a.items,f),u.appendChild(f)}})}}var hc={wrapper:`${lr}-start-with-field`,input:`${lr}-start-with-field__input`,startWithElementWrapperInvalid:`${lr}-start-with-field--invalid`};function oy(r,{value:c,placeholder:a,attributes:n,sanitize:u}){let f=T.make("div",hc.wrapper),o=T.make("input",hc.input,{placeholder:a,tabIndex:-1,value:c});for(let h in n)o.setAttribute(h,n[h]);return f.appendChild(o),o.addEventListener("input",()=>{u!==void 0&&(o.value=u(o.value));let h=o.checkValidity();!h&&!f.classList.contains(hc.startWithElementWrapperInvalid)&&f.classList.add(hc.startWithElementWrapperInvalid),h&&f.classList.contains(hc.startWithElementWrapperInvalid)&&f.classList.remove(hc.startWithElementWrapperInvalid),h&&r(o.value)}),f}var Pc=new Map([["Numeric","numeric"],["Lower Roman","lower-roman"],["Upper Roman","upper-roman"],["Lower Alpha","lower-alpha"],["Upper Alpha","upper-alpha"]]),Lo=new Map([["numeric",P0],["lower-roman",S0],["upper-roman",d0],["lower-alpha",U0],["upper-alpha",j0]]);function hy(r){return r.replace(/\D+/g,"")}function py(r){return typeof r.items[0]=="string"}function vy(r){return!("meta"in r)}function yy(r){return typeof r.items[0]!="string"&&"text"in r.items[0]&&"checked"in r.items[0]&&typeof r.items[0].text=="string"&&typeof r.items[0].checked=="boolean"}function ly(r){let c=[];return py(r)?(r.items.forEach((a)=>{c.push({content:a,meta:{},items:[]})}),{style:r.style,meta:{},items:c}):yy(r)?(r.items.forEach((a)=>{c.push({content:a.text,meta:{checked:a.checked},items:[]})}),{style:"checklist",meta:{},items:c}):vy(r)?{style:r.style,meta:{},items:r.items}:structuredClone(r)}class dc{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return[{icon:xo,title:"Unordered List",data:{style:"unordered"}},{icon:bo,title:"Ordered List",data:{style:"ordered"}},{icon:ko,title:"Checklist",data:{style:"checklist"}}]}static get pasteConfig(){return{tags:["OL","UL","LI"]}}static get conversionConfig(){return{export:(r)=>dc.joinRecursive(r),import:(r,c)=>({meta:{},items:[{content:r,meta:{},items:[]}],style:(c==null?void 0:c.defaultStyle)!==void 0?c.defaultStyle:"unordered"})}}get listStyle(){return this.data.style||this.defaultListStyle}set listStyle(r){var c;this.data.style=r,this.changeTabulatorByStyle();let a=this.list.render();(c=this.listElement)==null||c.replaceWith(a),this.listElement=a}constructor({data:r,config:c,api:a,readOnly:n,block:u}){var f;this.api=a,this.readOnly=n,this.config=c,this.block=u,this.defaultListStyle=((f=this.config)==null?void 0:f.defaultStyle)||"unordered",this.defaultCounterTypes=this.config.counterTypes||Array.from(Pc.values());let o={style:this.defaultListStyle,meta:{},items:[]};this.data=Object.keys(r).length?ly(r):o,this.listStyle==="ordered"&&this.data.meta.counterType===void 0&&(this.data.meta.counterType="numeric"),this.changeTabulatorByStyle()}static joinRecursive(r){return r.items.map((c)=>`${c.content} ${dc.joinRecursive(c)}`).join("")}render(){return this.listElement=this.list.render(),this.listElement}save(){return this.data=this.list.save(),this.data}merge(r){this.list.merge(r)}renderSettings(){let r=[{label:this.api.i18n.t("Unordered"),icon:xo,closeOnActivate:!0,isActive:this.listStyle=="unordered",onActivate:()=>{this.listStyle="unordered"}},{label:this.api.i18n.t("Ordered"),icon:bo,closeOnActivate:!0,isActive:this.listStyle=="ordered",onActivate:()=>{this.listStyle="ordered"}},{label:this.api.i18n.t("Checklist"),icon:ko,closeOnActivate:!0,isActive:this.listStyle=="checklist",onActivate:()=>{this.listStyle="checklist"}}];if(this.listStyle==="ordered"){let c=oy((u)=>this.changeStartWith(Number(u)),{value:String(this.data.meta.start??1),placeholder:"",attributes:{required:"true"},sanitize:(u)=>hy(u)}),a=[{label:this.api.i18n.t("Start with"),icon:N0,children:{items:[{element:c,type:"html"}]}}],n={label:this.api.i18n.t("Counter type"),icon:Lo.get(this.data.meta.counterType),children:{items:[]}};Pc.forEach((u,f)=>{let o=Pc.get(f);this.defaultCounterTypes.includes(o)&&n.children.items.push({title:this.api.i18n.t(f),icon:Lo.get(o),isActive:this.data.meta.counterType===Pc.get(f),closeOnActivate:!0,onActivate:()=>{this.changeCounters(Pc.get(f))}})}),n.children.items.length>1&&a.push(n),r.push({type:"separator"},...a)}return r}onPaste(r){let{tagName:c}=r.detail.data;switch(c){case"OL":this.listStyle="ordered";break;case"UL":case"LI":this.listStyle="unordered"}this.list.onPaste(r)}pasteHandler(r){return this.list.pasteHandler(r)}changeCounters(r){var c;(c=this.list)==null||c.changeCounters(r),this.data.meta.counterType=r}changeStartWith(r){var c;(c=this.list)==null||c.changeStartWith(r),this.data.meta.start=r}changeTabulatorByStyle(){switch(this.listStyle){case"ordered":this.list=new wc({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new Ur(this.readOnly,this.config));break;case"unordered":this.list=new wc({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new Nr(this.readOnly,this.config));break;case"checklist":this.list=new wc({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new rr(this.readOnly,this.config));break}}}(function(){try{if(typeof document<"u"){var r=document.createElement("style");r.appendChild(document.createTextNode(".cdx-quote-icon svg{transform:rotate(180deg)}.cdx-quote{margin:0}.cdx-quote__text{min-height:158px;margin-bottom:10px}.cdx-quote [contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-quote [contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-quote [contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-quote-settings{display:flex}.cdx-quote-settings .cdx-settings-button{width:50%}")),document.head.appendChild(r)}}catch(c){console.error("vite-plugin-css-injected-by-js",c)}})();var gy='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>',iy='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>',ky='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>',va=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xy(r){if(r.__esModule)return r;var c=r.default;if(typeof c=="function"){var a=function n(){return this instanceof n?Reflect.construct(c,arguments,this.constructor):c.apply(this,arguments)};a.prototype=c.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var u=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(a,n,u.get?u:{enumerable:!0,get:function(){return r[n]}})}),a}var ha={},Vn={},zn={};Object.defineProperty(zn,"__esModule",{value:!0});zn.allInputsSelector=by;function by(){var r=["text","password","email","number","search","tel","url"];return"[contenteditable=true], textarea, input:not([type]), "+r.map(function(c){return'input[type="'.concat(c,'"]')}).join(", ")}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.allInputsSelector=void 0;var c=zn;Object.defineProperty(r,"allInputsSelector",{enumerable:!0,get:function(){return c.allInputsSelector}})})(Vn);var zr={},qn={};Object.defineProperty(qn,"__esModule",{value:!0});qn.isNativeInput=sy;function sy(r){var c=["INPUT","TEXTAREA"];return r&&r.tagName?c.includes(r.tagName):!1}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.isNativeInput=void 0;var c=qn;Object.defineProperty(r,"isNativeInput",{enumerable:!0,get:function(){return c.isNativeInput}})})(zr);var To={},wn={};Object.defineProperty(wn,"__esModule",{value:!0});wn.append=Oy;function Oy(r,c){Array.isArray(c)?c.forEach(function(a){r.appendChild(a)}):r.appendChild(c)}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.append=void 0;var c=wn;Object.defineProperty(r,"append",{enumerable:!0,get:function(){return c.append}})})(To);var En={},tn={};Object.defineProperty(tn,"__esModule",{value:!0});tn.blockElements=Ly;function Ly(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.blockElements=void 0;var c=tn;Object.defineProperty(r,"blockElements",{enumerable:!0,get:function(){return c.blockElements}})})(En);var Vo={},en={};Object.defineProperty(en,"__esModule",{value:!0});en.calculateBaseline=Ay;function Ay(r){var c=window.getComputedStyle(r),a=parseFloat(c.fontSize),n=parseFloat(c.lineHeight)||a*1.2,u=parseFloat(c.paddingTop),f=parseFloat(c.borderTopWidth),o=parseFloat(c.marginTop),h=a*0.8,l=(n-a)/2,p=o+f+u+l+h;return p}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.calculateBaseline=void 0;var c=en;Object.defineProperty(r,"calculateBaseline",{enumerable:!0,get:function(){return c.calculateBaseline}})})(Vo);var zo={},ru={},cu={},au={};Object.defineProperty(au,"__esModule",{value:!0});au.isContentEditable=Py;function Py(r){return r.contentEditable==="true"}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.isContentEditable=void 0;var c=au;Object.defineProperty(r,"isContentEditable",{enumerable:!0,get:function(){return c.isContentEditable}})})(cu);Object.defineProperty(ru,"__esModule",{value:!0});ru.canSetCaret=jy;var Sy=zr,dy=cu;function jy(r){var c=!0;if((0,Sy.isNativeInput)(r))switch(r.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":c=!1;break}else c=(0,dy.isContentEditable)(r);return c}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.canSetCaret=void 0;var c=ru;Object.defineProperty(r,"canSetCaret",{enumerable:!0,get:function(){return c.canSetCaret}})})(zo);var ya={},nu={};function Uy(r,c,a){let n=a.value!==void 0?"value":"get",u=a[n],f=`#${c}Cache`;if(a[n]=function(...o){return this[f]===void 0&&(this[f]=u.apply(this,o)),this[f]},n==="get"&&a.set){let o=a.set;a.set=function(h){delete r[f],o.apply(this,h)}}return a}function qo(){let r={win:!1,mac:!1,x11:!1,linux:!1},c=Object.keys(r).find((a)=>window.navigator.appVersion.toLowerCase().indexOf(a)!==-1);return c!==void 0&&(r[c]=!0),r}function uu(r){return r!=null&&r!==""&&(typeof r!="object"||Object.keys(r).length>0)}function Ny(r){return!uu(r)}var Dy=()=>typeof window<"u"&&window.navigator!==null&&uu(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function By(r){let c=qo();return r=r.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi,"+"),c.mac?r=r.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):r=r.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),r}function Gy(r){return r[0].toUpperCase()+r.slice(1)}function Ry(r){let c=document.createElement("div");c.style.position="absolute",c.style.left="-999px",c.style.bottom="-999px",c.innerHTML=r,document.body.appendChild(c);let a=window.getSelection(),n=document.createRange();if(n.selectNode(c),a===null)throw Error("Cannot copy text to clipboard");a.removeAllRanges(),a.addRange(n),document.execCommand("copy"),document.body.removeChild(c)}function Zy(r,c,a){let n;return(...u)=>{let f=this,o=()=>{n=void 0,a!==!0&&r.apply(f,u)},h=a===!0&&n!==void 0;window.clearTimeout(n),n=window.setTimeout(o,c),h&&r.apply(f,u)}}function Mr(r){return Object.prototype.toString.call(r).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function Jy(r){return Mr(r)==="boolean"}function wo(r){return Mr(r)==="function"||Mr(r)==="asyncfunction"}function Yy(r){return wo(r)&&/^\s*class\s+/.test(r.toString())}function Hy(r){return Mr(r)==="number"}function pa(r){return Mr(r)==="object"}function Ky(r){return Promise.resolve(r)===r}function Wy(r){return Mr(r)==="string"}function Cy(r){return Mr(r)==="undefined"}function Tn(r,...c){if(!c.length)return r;let a=c.shift();if(pa(r)&&pa(a))for(let n in a)pa(a[n])?(r[n]===void 0&&Object.assign(r,{[n]:{}}),Tn(r[n],a[n])):Object.assign(r,{[n]:a[n]});return Tn(r,...c)}function _y(r,c,a){let n=`«${c}» is deprecated and will be removed in the next major release. Please use the «${a}» instead.`;r&&console.warn(n)}function Iy(r){try{return new URL(r).href}catch{}return r.substring(0,2)==="//"?window.location.protocol+r:window.location.origin+r}function My(r){return r>47&&r<58||r===32||r===13||r===229||r>64&&r<91||r>95&&r<112||r>185&&r<193||r>218&&r<223}var Qy={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},$y={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};class Eo{constructor(){this.completed=Promise.resolve()}add(r){return new Promise((c,a)=>{this.completed=this.completed.then(r).then(c).catch(a)})}}function my(r,c,a=void 0){let n,u,f,o=null,h=0;a||(a={});let l=function(){h=a.leading===!1?0:Date.now(),o=null,f=r.apply(n,u),o===null&&(n=u=null)};return function(){let p=Date.now();!h&&a.leading===!1&&(h=p);let y=c-(p-h);return n=this,u=arguments,y<=0||y>c?(o&&(clearTimeout(o),o=null),h=p,f=r.apply(n,u),o===null&&(n=u=null)):!o&&a.trailing!==!1&&(o=setTimeout(l,y)),f}}var Fy=Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:Eo,beautifyShortcut:By,cacheable:Uy,capitalize:Gy,copyTextToClipboard:Ry,debounce:Zy,deepMerge:Tn,deprecationAssert:_y,getUserOS:qo,getValidUrl:Iy,isBoolean:Jy,isClass:Yy,isEmpty:Ny,isFunction:wo,isIosDevice:Dy,isNumber:Hy,isObject:pa,isPrintableKey:My,isPromise:Ky,isString:Wy,isUndefined:Cy,keyCodes:Qy,mouseButtons:$y,notEmpty:uu,throttle:my,typeOf:Mr},Symbol.toStringTag,{value:"Module"})),fu=xy(Fy);Object.defineProperty(nu,"__esModule",{value:!0});nu.containsOnlyInlineElements=Vy;var Xy=fu,Ty=En;function Vy(r){var c;(0,Xy.isString)(r)?(c=document.createElement("div"),c.innerHTML=r):c=r;var a=function(n){return!(0,Ty.blockElements)().includes(n.tagName.toLowerCase())&&Array.from(n.children).every(a)};return Array.from(c.children).every(a)}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.containsOnlyInlineElements=void 0;var c=nu;Object.defineProperty(r,"containsOnlyInlineElements",{enumerable:!0,get:function(){return c.containsOnlyInlineElements}})})(ya);var to={},ou={},la={},hu={};Object.defineProperty(hu,"__esModule",{value:!0});hu.make=zy;function zy(r,c,a){var n;c===void 0&&(c=null),a===void 0&&(a={});var u=document.createElement(r);if(Array.isArray(c)){var f=c.filter(function(h){return h!==void 0});(n=u.classList).add.apply(n,f)}else c!==null&&u.classList.add(c);for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(u[o]=a[o]);return u}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.make=void 0;var c=hu;Object.defineProperty(r,"make",{enumerable:!0,get:function(){return c.make}})})(la);Object.defineProperty(ou,"__esModule",{value:!0});ou.fragmentToString=wy;var qy=la;function wy(r){var c=(0,qy.make)("div");return c.appendChild(r),c.innerHTML}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.fragmentToString=void 0;var c=ou;Object.defineProperty(r,"fragmentToString",{enumerable:!0,get:function(){return c.fragmentToString}})})(to);var eo={},pu={};Object.defineProperty(pu,"__esModule",{value:!0});pu.getContentLength=ty;var Ey=zr;function ty(r){var c,a;return(0,Ey.isNativeInput)(r)?r.value.length:r.nodeType===Node.TEXT_NODE?r.length:(a=(c=r.textContent)===null||c===void 0?void 0:c.length)!==null&&a!==void 0?a:0}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.getContentLength=void 0;var c=pu;Object.defineProperty(r,"getContentLength",{enumerable:!0,get:function(){return c.getContentLength}})})(eo);var vu={},yu={},Xo=va&&va.__spreadArray||function(r,c,a){if(a||arguments.length===2)for(var n=0,u=c.length,f;n<u;n++)(f||!(n in c))&&(f||(f=Array.prototype.slice.call(c,0,n)),f[n]=c[n]);return r.concat(f||Array.prototype.slice.call(c))};Object.defineProperty(yu,"__esModule",{value:!0});yu.getDeepestBlockElements=rh;var ey=ya;function rh(r){return(0,ey.containsOnlyInlineElements)(r)?[r]:Array.from(r.children).reduce(function(c,a){return Xo(Xo([],c,!0),rh(a),!0)},[])}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.getDeepestBlockElements=void 0;var c=yu;Object.defineProperty(r,"getDeepestBlockElements",{enumerable:!0,get:function(){return c.getDeepestBlockElements}})})(vu);var ch={},lu={},ga={},gu={};Object.defineProperty(gu,"__esModule",{value:!0});gu.isLineBreakTag=r1;function r1(r){return["BR","WBR"].includes(r.tagName)}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.isLineBreakTag=void 0;var c=gu;Object.defineProperty(r,"isLineBreakTag",{enumerable:!0,get:function(){return c.isLineBreakTag}})})(ga);var ia={},iu={};Object.defineProperty(iu,"__esModule",{value:!0});iu.isSingleTag=c1;function c1(r){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(r.tagName)}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.isSingleTag=void 0;var c=iu;Object.defineProperty(r,"isSingleTag",{enumerable:!0,get:function(){return c.isSingleTag}})})(ia);Object.defineProperty(lu,"__esModule",{value:!0});lu.getDeepestNode=ah;var a1=zr,n1=ga,u1=ia;function ah(r,c){c===void 0&&(c=!1);var a=c?"lastChild":"firstChild",n=c?"previousSibling":"nextSibling";if(r.nodeType===Node.ELEMENT_NODE&&r[a]){var u=r[a];if((0,u1.isSingleTag)(u)&&!(0,a1.isNativeInput)(u)&&!(0,n1.isLineBreakTag)(u))if(u[n])u=u[n];else if(u.parentNode!==null&&u.parentNode[n])u=u.parentNode[n];else return u.parentNode;return ah(u,c)}return r}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.getDeepestNode=void 0;var c=lu;Object.defineProperty(r,"getDeepestNode",{enumerable:!0,get:function(){return c.getDeepestNode}})})(ch);var nh={},ku={},oa=va&&va.__spreadArray||function(r,c,a){if(a||arguments.length===2)for(var n=0,u=c.length,f;n<u;n++)(f||!(n in c))&&(f||(f=Array.prototype.slice.call(c,0,n)),f[n]=c[n]);return r.concat(f||Array.prototype.slice.call(c))};Object.defineProperty(ku,"__esModule",{value:!0});ku.findAllInputs=v1;var f1=ya,o1=vu,h1=Vn,p1=zr;function v1(r){return Array.from(r.querySelectorAll((0,h1.allInputsSelector)())).reduce(function(c,a){return(0,p1.isNativeInput)(a)||(0,f1.containsOnlyInlineElements)(a)?oa(oa([],c,!0),[a],!1):oa(oa([],c,!0),(0,o1.getDeepestBlockElements)(a),!0)},[])}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.findAllInputs=void 0;var c=ku;Object.defineProperty(r,"findAllInputs",{enumerable:!0,get:function(){return c.findAllInputs}})})(nh);var uh={},xu={};Object.defineProperty(xu,"__esModule",{value:!0});xu.isCollapsedWhitespaces=y1;function y1(r){return!/[^\t\n\r ]/.test(r)}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.isCollapsedWhitespaces=void 0;var c=xu;Object.defineProperty(r,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return c.isCollapsedWhitespaces}})})(uh);var bu={},su={};Object.defineProperty(su,"__esModule",{value:!0});su.isElement=g1;var l1=fu;function g1(r){return(0,l1.isNumber)(r)?!1:!!r&&!!r.nodeType&&r.nodeType===Node.ELEMENT_NODE}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.isElement=void 0;var c=su;Object.defineProperty(r,"isElement",{enumerable:!0,get:function(){return c.isElement}})})(bu);var fh={},Ou={},Lu={},Au={};Object.defineProperty(Au,"__esModule",{value:!0});Au.isLeaf=i1;function i1(r){return r===null?!1:r.childNodes.length===0}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.isLeaf=void 0;var c=Au;Object.defineProperty(r,"isLeaf",{enumerable:!0,get:function(){return c.isLeaf}})})(Lu);var Pu={},Su={};Object.defineProperty(Su,"__esModule",{value:!0});Su.isNodeEmpty=O1;var k1=ga,x1=bu,b1=zr,s1=ia;function O1(r,c){var a="";return(0,s1.isSingleTag)(r)&&!(0,k1.isLineBreakTag)(r)?!1:((0,x1.isElement)(r)&&(0,b1.isNativeInput)(r)?a=r.value:r.textContent!==null&&(a=r.textContent.replace("​","")),c!==void 0&&(a=a.replace(new RegExp(c,"g"),"")),a.trim().length===0)}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.isNodeEmpty=void 0;var c=Su;Object.defineProperty(r,"isNodeEmpty",{enumerable:!0,get:function(){return c.isNodeEmpty}})})(Pu);Object.defineProperty(Ou,"__esModule",{value:!0});Ou.isEmpty=P1;var L1=Lu,A1=Pu;function P1(r,c){r.normalize();for(var a=[r];a.length>0;){var n=a.shift();if(n){if(r=n,(0,L1.isLeaf)(r)&&!(0,A1.isNodeEmpty)(r,c))return!1;a.push.apply(a,Array.from(r.childNodes))}}return!0}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.isEmpty=void 0;var c=Ou;Object.defineProperty(r,"isEmpty",{enumerable:!0,get:function(){return c.isEmpty}})})(fh);var oh={},du={};Object.defineProperty(du,"__esModule",{value:!0});du.isFragment=d1;var S1=fu;function d1(r){return(0,S1.isNumber)(r)?!1:!!r&&!!r.nodeType&&r.nodeType===Node.DOCUMENT_FRAGMENT_NODE}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.isFragment=void 0;var c=du;Object.defineProperty(r,"isFragment",{enumerable:!0,get:function(){return c.isFragment}})})(oh);var hh={},ju={};Object.defineProperty(ju,"__esModule",{value:!0});ju.isHTMLString=U1;var j1=la;function U1(r){var c=(0,j1.make)("div");return c.innerHTML=r,c.childElementCount>0}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.isHTMLString=void 0;var c=ju;Object.defineProperty(r,"isHTMLString",{enumerable:!0,get:function(){return c.isHTMLString}})})(hh);var ph={},Uu={};Object.defineProperty(Uu,"__esModule",{value:!0});Uu.offset=N1;function N1(r){var c=r.getBoundingClientRect(),a=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop,u=c.top+n,f=c.left+a;return{top:u,left:f,bottom:u+c.height,right:f+c.width}}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.offset=void 0;var c=Uu;Object.defineProperty(r,"offset",{enumerable:!0,get:function(){return c.offset}})})(ph);var vh={},Nu={};Object.defineProperty(Nu,"__esModule",{value:!0});Nu.prepend=D1;function D1(r,c){Array.isArray(c)?(c=c.reverse(),c.forEach(function(a){return r.prepend(a)})):r.prepend(c)}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.prepend=void 0;var c=Nu;Object.defineProperty(r,"prepend",{enumerable:!0,get:function(){return c.prepend}})})(vh);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.prepend=r.offset=r.make=r.isLineBreakTag=r.isSingleTag=r.isNodeEmpty=r.isLeaf=r.isHTMLString=r.isFragment=r.isEmpty=r.isElement=r.isContentEditable=r.isCollapsedWhitespaces=r.findAllInputs=r.isNativeInput=r.allInputsSelector=r.getDeepestNode=r.getDeepestBlockElements=r.getContentLength=r.fragmentToString=r.containsOnlyInlineElements=r.canSetCaret=r.calculateBaseline=r.blockElements=r.append=void 0;var c=Vn;Object.defineProperty(r,"allInputsSelector",{enumerable:!0,get:function(){return c.allInputsSelector}});var a=zr;Object.defineProperty(r,"isNativeInput",{enumerable:!0,get:function(){return a.isNativeInput}});var n=To;Object.defineProperty(r,"append",{enumerable:!0,get:function(){return n.append}});var u=En;Object.defineProperty(r,"blockElements",{enumerable:!0,get:function(){return u.blockElements}});var f=Vo;Object.defineProperty(r,"calculateBaseline",{enumerable:!0,get:function(){return f.calculateBaseline}});var o=zo;Object.defineProperty(r,"canSetCaret",{enumerable:!0,get:function(){return o.canSetCaret}});var h=ya;Object.defineProperty(r,"containsOnlyInlineElements",{enumerable:!0,get:function(){return h.containsOnlyInlineElements}});var l=to;Object.defineProperty(r,"fragmentToString",{enumerable:!0,get:function(){return l.fragmentToString}});var p=eo;Object.defineProperty(r,"getContentLength",{enumerable:!0,get:function(){return p.getContentLength}});var y=vu;Object.defineProperty(r,"getDeepestBlockElements",{enumerable:!0,get:function(){return y.getDeepestBlockElements}});var v=ch;Object.defineProperty(r,"getDeepestNode",{enumerable:!0,get:function(){return v.getDeepestNode}});var x=nh;Object.defineProperty(r,"findAllInputs",{enumerable:!0,get:function(){return x.findAllInputs}});var O=uh;Object.defineProperty(r,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return O.isCollapsedWhitespaces}});var k=cu;Object.defineProperty(r,"isContentEditable",{enumerable:!0,get:function(){return k.isContentEditable}});var i=bu;Object.defineProperty(r,"isElement",{enumerable:!0,get:function(){return i.isElement}});var g=fh;Object.defineProperty(r,"isEmpty",{enumerable:!0,get:function(){return g.isEmpty}});var b=oh;Object.defineProperty(r,"isFragment",{enumerable:!0,get:function(){return b.isFragment}});var A=hh;Object.defineProperty(r,"isHTMLString",{enumerable:!0,get:function(){return A.isHTMLString}});var P=Lu;Object.defineProperty(r,"isLeaf",{enumerable:!0,get:function(){return P.isLeaf}});var S=Pu;Object.defineProperty(r,"isNodeEmpty",{enumerable:!0,get:function(){return S.isNodeEmpty}});var d=ga;Object.defineProperty(r,"isLineBreakTag",{enumerable:!0,get:function(){return d.isLineBreakTag}});var N=ia;Object.defineProperty(r,"isSingleTag",{enumerable:!0,get:function(){return N.isSingleTag}});var G=la;Object.defineProperty(r,"make",{enumerable:!0,get:function(){return G.make}});var L=ph;Object.defineProperty(r,"offset",{enumerable:!0,get:function(){return L.offset}});var s=vh;Object.defineProperty(r,"prepend",{enumerable:!0,get:function(){return s.prepend}})})(ha);var yh=((r)=>(r.Left="left",r.Center="center",r))(yh||{});class pc{constructor({data:r,config:c,api:a,readOnly:n,block:u}){let{DEFAULT_ALIGNMENT:f}=pc;this.api=a,this.readOnly=n,this.quotePlaceholder=a.i18n.t((c==null?void 0:c.quotePlaceholder)??pc.DEFAULT_QUOTE_PLACEHOLDER),this.captionPlaceholder=a.i18n.t((c==null?void 0:c.captionPlaceholder)??pc.DEFAULT_CAPTION_PLACEHOLDER),this.data={text:r.text||"",caption:r.caption||"",alignment:Object.values(yh).includes(r.alignment)?r.alignment:(c==null?void 0:c.defaultAlignment)??f},this.css={baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"},this.block=u}static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:ky,title:"Quote"}}static get contentless(){return!0}static get enableLineBreaks(){return!0}static get DEFAULT_QUOTE_PLACEHOLDER(){return"Enter a quote"}static get DEFAULT_CAPTION_PLACEHOLDER(){return"Enter a caption"}static get DEFAULT_ALIGNMENT(){return"left"}static get conversionConfig(){return{import:"text",export:function(r){return r.caption?`${r.text} — ${r.caption}`:r.text}}}get CSS(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}get settings(){return[{name:"left",icon:iy},{name:"center",icon:gy}]}render(){let r=ha.make("blockquote",[this.css.baseClass,this.css.wrapper]),c=ha.make("div",[this.css.input,this.css.text],{contentEditable:!this.readOnly,innerHTML:this.data.text}),a=ha.make("div",[this.css.input,this.css.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption});return c.dataset.placeholder=this.quotePlaceholder,a.dataset.placeholder=this.captionPlaceholder,r.appendChild(c),r.appendChild(a),r}save(r){let c=r.querySelector(`.${this.css.text}`),a=r.querySelector(`.${this.css.caption}`);return Object.assign(this.data,{text:(c==null?void 0:c.innerHTML)??"",caption:(a==null?void 0:a.innerHTML)??""})}static get sanitize(){return{text:{br:!0},caption:{br:!0},alignment:{}}}renderSettings(){let r=(c)=>c&&c[0].toUpperCase()+c.slice(1);return this.settings.map((c)=>({icon:c.icon,label:this.api.i18n.t(`Align ${r(c.name)}`),onActivate:()=>this._toggleTune(c.name),isActive:this.data.alignment===c.name,closeOnActivate:!0}))}_toggleTune(r){this.data.alignment=r,this.block.dispatchChange()}}(function(){try{if(typeof document<"u"){var r=document.createElement("style");r.appendChild(document.createTextNode('.ce-delimiter{line-height:1.6em;width:100%;text-align:center}.ce-delimiter:before{display:inline-block;content:"***";font-size:30px;line-height:65px;height:30px;letter-spacing:.2em}')),document.head.appendChild(r)}}catch(c){console.error("vite-plugin-css-injected-by-js",c)}})();var B1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="6" x2="10" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="14" x2="18" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';class Du{static get isReadOnlySupported(){return!0}static get contentless(){return!0}constructor({data:r,config:c,api:a}){this.api=a,this._CSS={block:this.api.styles.block,wrapper:"ce-delimiter"},this._element=this.drawView(),this.data=r}drawView(){let r=document.createElement("div");return r.classList.add(this._CSS.wrapper,this._CSS.block),r}render(){return this._element}save(r){return{}}static get toolbox(){return{icon:B1,title:"Delimiter"}}static get pasteConfig(){return{tags:["HR"]}}onPaste(r){this.data={}}}(function(){try{if(typeof document<"u"){var r=document.createElement("style");r.appendChild(document.createTextNode('.image-tool{--bg-color: #cdd1e0;--front-color: #388ae5;--border-color: #e8e8eb}.image-tool__image{border-radius:3px;overflow:hidden;margin-bottom:10px;padding-bottom:0}.image-tool__image-picture{max-width:100%;vertical-align:bottom;display:block}.image-tool__image-preloader{width:50px;height:50px;border-radius:50%;background-size:cover;margin:auto;position:relative;background-color:var(--bg-color);background-position:center center}.image-tool__image-preloader:after{content:"";position:absolute;z-index:3;width:60px;height:60px;border-radius:50%;border:2px solid var(--bg-color);border-top-color:var(--front-color);left:50%;top:50%;margin-top:-30px;margin-left:-30px;animation:image-preloader-spin 2s infinite linear;box-sizing:border-box}.image-tool__caption{visibility:hidden;position:absolute;bottom:0;left:0;margin-bottom:10px}.image-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute!important;content:attr(data-placeholder);color:#707684;font-weight:400;display:none}.image-tool__caption[contentEditable=true][data-placeholder]:empty:before{display:block}.image-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{display:none}.image-tool--empty .image-tool__image,.image-tool--empty .image-tool__image-preloader{display:none}.image-tool--empty .image-tool__caption,.image-tool--uploading .image-tool__caption{visibility:hidden!important}.image-tool .cdx-button{display:flex;align-items:center;justify-content:center}.image-tool .cdx-button svg{height:auto;margin:0 6px 0 0}.image-tool--filled .cdx-button,.image-tool--filled .image-tool__image-preloader{display:none}.image-tool--uploading .image-tool__image{min-height:200px;display:flex;border:1px solid var(--border-color);background-color:#fff}.image-tool--uploading .image-tool__image-picture,.image-tool--uploading .cdx-button{display:none}.image-tool--withBorder .image-tool__image{border:1px solid var(--border-color)}.image-tool--withBackground .image-tool__image{padding:15px;background:var(--bg-color)}.image-tool--withBackground .image-tool__image-picture{max-width:60%;margin:0 auto}.image-tool--stretched .image-tool__image-picture{width:100%}.image-tool--caption .image-tool__caption{visibility:visible}.image-tool--caption{padding-bottom:50px}@keyframes image-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(r)}}catch(c){console.error("vite-plugin-css-injected-by-js",c)}})();var G1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',R1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',lh='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>',Z1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>',J1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';function vc(r,c=null,a={}){let n=document.createElement(r);Array.isArray(c)?n.classList.add(...c):c!==null&&n.classList.add(c);for(let u in a)a.hasOwnProperty(u)&&(n[u]=a[u]);return n}var ka=((r)=>(r.Empty="empty",r.Uploading="uploading",r.Filled="filled",r))(ka||{});class gh{constructor({api:r,config:c,onSelectFile:a,readOnly:n}){this.api=r,this.config=c,this.onSelectFile=a,this.readOnly=n,this.nodes={wrapper:vc("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:vc("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:vc("div",this.CSS.imagePreloader),caption:vc("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}applyTune(r,c){this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${r}`,c)}render(){return this.toggleStatus("empty"),this.nodes.wrapper}showPreloader(r){this.nodes.imagePreloader.style.backgroundImage=`url(${r})`,this.toggleStatus("uploading")}hidePreloader(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus("empty")}fillImage(r){let c=/\.mp4$/.test(r)?"VIDEO":"IMG",a={src:r},n="load";c==="VIDEO"&&(a.autoplay=!0,a.loop=!0,a.muted=!0,a.playsinline=!0,n="loadeddata"),this.nodes.imageEl=vc(c,this.CSS.imageEl,a),this.nodes.imageEl.addEventListener(n,()=>{this.toggleStatus("filled"),this.nodes.imagePreloader!==void 0&&(this.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}fillCaption(r){this.nodes.caption!==void 0&&(this.nodes.caption.innerHTML=r)}toggleStatus(r){for(let c in ka)if(Object.prototype.hasOwnProperty.call(ka,c)){let a=ka[c];this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${a}`,a===r)}}get CSS(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}createFileButton(){let r=vc("div",[this.CSS.button]);return r.innerHTML=this.config.buttonContent??`${lh} ${this.api.i18n.t("Select an Image")}`,r.addEventListener("click",()=>{this.onSelectFile()}),r}}function Y1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ih={exports:{}};(function(r,c){(function(a,n){r.exports=n()})(window,function(){return function(a){var n={};function u(f){if(n[f])return n[f].exports;var o=n[f]={i:f,l:!1,exports:{}};return a[f].call(o.exports,o,o.exports,u),o.l=!0,o.exports}return u.m=a,u.c=n,u.d=function(f,o,h){u.o(f,o)||Object.defineProperty(f,o,{enumerable:!0,get:h})},u.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},u.t=function(f,o){if(1&o&&(f=u(f)),8&o||4&o&&typeof f=="object"&&f&&f.__esModule)return f;var h=Object.create(null);if(u.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:f}),2&o&&typeof f!="string")for(var l in f)u.d(h,l,function(p){return f[p]}.bind(null,l));return h},u.n=function(f){var o=f&&f.__esModule?function(){return f.default}:function(){return f};return u.d(o,"a",o),o},u.o=function(f,o){return Object.prototype.hasOwnProperty.call(f,o)},u.p="",u(u.s=3)}([function(a,n){var u=function(){return this}();try{u=u||Function("return this")()}catch{typeof window=="object"&&(u=window)}a.exports=u},function(a,n,u){(function(f){var o=u(2),h=setTimeout;function l(){}function p(g){if(!(this instanceof p))throw TypeError("Promises must be constructed via new");if(typeof g!="function")throw TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],i(g,this)}function y(g,b){for(;g._state===3;)g=g._value;g._state!==0?(g._handled=!0,p._immediateFn(function(){var A=g._state===1?b.onFulfilled:b.onRejected;if(A!==null){var P;try{P=A(g._value)}catch(S){return void x(b.promise,S)}v(b.promise,P)}else(g._state===1?v:x)(b.promise,g._value)})):g._deferreds.push(b)}function v(g,b){try{if(b===g)throw TypeError("A promise cannot be resolved with itself.");if(b&&(typeof b=="object"||typeof b=="function")){var A=b.then;if(b instanceof p)return g._state=3,g._value=b,void O(g);if(typeof A=="function")return void i((P=A,S=b,function(){P.apply(S,arguments)}),g)}g._state=1,g._value=b,O(g)}catch(d){x(g,d)}var P,S}function x(g,b){g._state=2,g._value=b,O(g)}function O(g){g._state===2&&g._deferreds.length===0&&p._immediateFn(function(){g._handled||p._unhandledRejectionFn(g._value)});for(var b=0,A=g._deferreds.length;b<A;b++)y(g,g._deferreds[b]);g._deferreds=null}function k(g,b,A){this.onFulfilled=typeof g=="function"?g:null,this.onRejected=typeof b=="function"?b:null,this.promise=A}function i(g,b){var A=!1;try{g(function(P){A||(A=!0,v(b,P))},function(P){A||(A=!0,x(b,P))})}catch(P){if(A)return;A=!0,x(b,P)}}p.prototype.catch=function(g){return this.then(null,g)},p.prototype.then=function(g,b){var A=new this.constructor(l);return y(this,new k(g,b,A)),A},p.prototype.finally=o.a,p.all=function(g){return new p(function(b,A){if(!g||g.length===void 0)throw TypeError("Promise.all accepts an array");var P=Array.prototype.slice.call(g);if(P.length===0)return b([]);var S=P.length;function d(G,L){try{if(L&&(typeof L=="object"||typeof L=="function")){var s=L.then;if(typeof s=="function")return void s.call(L,function(j){d(G,j)},A)}P[G]=L,--S==0&&b(P)}catch(j){A(j)}}for(var N=0;N<P.length;N++)d(N,P[N])})},p.resolve=function(g){return g&&typeof g=="object"&&g.constructor===p?g:new p(function(b){b(g)})},p.reject=function(g){return new p(function(b,A){A(g)})},p.race=function(g){return new p(function(b,A){for(var P=0,S=g.length;P<S;P++)g[P].then(b,A)})},p._immediateFn=typeof f=="function"&&function(g){f(g)}||function(g){h(g,0)},p._unhandledRejectionFn=function(g){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",g)},n.a=p}).call(this,u(5).setImmediate)},function(a,n,u){n.a=function(f){var o=this.constructor;return this.then(function(h){return o.resolve(f()).then(function(){return h})},function(h){return o.resolve(f()).then(function(){return o.reject(h)})})}},function(a,n,u){function f(i){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(i)}u(4);var o,h,l,p,y,v,x,O=u(8),k=(h=function(i){return new Promise(function(g,b){i=p(i),(i=y(i)).beforeSend&&i.beforeSend();var A=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");A.open(i.method,i.url),A.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(i.headers).forEach(function(S){var d=i.headers[S];A.setRequestHeader(S,d)});var P=i.ratio;A.upload.addEventListener("progress",function(S){var d=Math.round(S.loaded/S.total*100),N=Math.ceil(d*P/100);i.progress(Math.min(N,100))},!1),A.addEventListener("progress",function(S){var d=Math.round(S.loaded/S.total*100),N=Math.ceil(d*(100-P)/100)+P;i.progress(Math.min(N,100))},!1),A.onreadystatechange=function(){if(A.readyState===4){var S=A.response;try{S=JSON.parse(S)}catch{}var d=O.parseHeaders(A.getAllResponseHeaders()),N={body:S,code:A.status,headers:d};x(A.status)?g(N):b(N)}},A.send(i.data)})},l=function(i){return i.method="POST",h(i)},p=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(i.url&&typeof i.url!="string")throw Error("Url must be a string");if(i.url=i.url||"",i.method&&typeof i.method!="string")throw Error("`method` must be a string or null");if(i.method=i.method?i.method.toUpperCase():"GET",i.headers&&f(i.headers)!=="object")throw Error("`headers` must be an object or null");if(i.headers=i.headers||{},i.type&&(typeof i.type!="string"||!Object.values(o).includes(i.type)))throw Error("`type` must be taken from module's «contentType» library");if(i.progress&&typeof i.progress!="function")throw Error("`progress` must be a function or null");if(i.progress=i.progress||function(g){},i.beforeSend=i.beforeSend||function(g){},i.ratio&&typeof i.ratio!="number")throw Error("`ratio` must be a number");if(i.ratio<0||i.ratio>100)throw Error("`ratio` must be in a 0-100 interval");if(i.ratio=i.ratio||90,i.accept&&typeof i.accept!="string")throw Error("`accept` must be a string with a list of allowed mime-types");if(i.accept=i.accept||"*/*",i.multiple&&typeof i.multiple!="boolean")throw Error("`multiple` must be a true or false");if(i.multiple=i.multiple||!1,i.fieldName&&typeof i.fieldName!="string")throw Error("`fieldName` must be a string");return i.fieldName=i.fieldName||"files",i},y=function(i){switch(i.method){case"GET":var g=v(i.data,o.URLENCODED);delete i.data,i.url=/\?/.test(i.url)?i.url+"&"+g:i.url+"?"+g;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var b=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||o.JSON}(i);(O.isFormData(i.data)||O.isFormElement(i.data))&&(b=o.FORM),i.data=v(i.data,b),b!==k.contentType.FORM&&(i.headers["content-type"]=b)}return i},v=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case o.URLENCODED:return O.urlEncode(i);case o.JSON:return O.jsonEncode(i);case o.FORM:return O.formEncode(i);default:return i}},x=function(i){return i>=200&&i<300},{contentType:o={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:h,get:function(i){return i.method="GET",h(i)},post:l,transport:function(i){return i=p(i),O.selectFiles(i).then(function(g){for(var b=new FormData,A=0;A<g.length;A++)b.append(i.fieldName,g[A],g[A].name);O.isObject(i.data)&&Object.keys(i.data).forEach(function(S){var d=i.data[S];b.append(S,d)});var P=i.beforeSend;return i.beforeSend=function(){return P(g)},i.data=b,l(i)})},selectFiles:function(i){return delete(i=p(i)).beforeSend,O.selectFiles(i)}});a.exports=k},function(a,n,u){u.r(n);var f=u(1);window.Promise=window.Promise||f.a},function(a,n,u){(function(f){var o=f!==void 0&&f||typeof self<"u"&&self||window,h=Function.prototype.apply;function l(p,y){this._id=p,this._clearFn=y}n.setTimeout=function(){return new l(h.call(setTimeout,o,arguments),clearTimeout)},n.setInterval=function(){return new l(h.call(setInterval,o,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(p){p&&p.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(o,this._id)},n.enroll=function(p,y){clearTimeout(p._idleTimeoutId),p._idleTimeout=y},n.unenroll=function(p){clearTimeout(p._idleTimeoutId),p._idleTimeout=-1},n._unrefActive=n.active=function(p){clearTimeout(p._idleTimeoutId);var y=p._idleTimeout;y>=0&&(p._idleTimeoutId=setTimeout(function(){p._onTimeout&&p._onTimeout()},y))},u(6),n.setImmediate=typeof self<"u"&&self.setImmediate||f!==void 0&&f.setImmediate||this&&this.setImmediate,n.clearImmediate=typeof self<"u"&&self.clearImmediate||f!==void 0&&f.clearImmediate||this&&this.clearImmediate}).call(this,u(0))},function(a,n,u){(function(f,o){(function(h,l){if(!h.setImmediate){var p,y,v,x,O,k=1,i={},g=!1,b=h.document,A=Object.getPrototypeOf&&Object.getPrototypeOf(h);A=A&&A.setTimeout?A:h,{}.toString.call(h.process)==="[object process]"?p=function(d){o.nextTick(function(){S(d)})}:function(){if(h.postMessage&&!h.importScripts){var d=!0,N=h.onmessage;return h.onmessage=function(){d=!1},h.postMessage("","*"),h.onmessage=N,d}}()?(x="setImmediate$"+Math.random()+"$",O=function(d){d.source===h&&typeof d.data=="string"&&d.data.indexOf(x)===0&&S(+d.data.slice(x.length))},h.addEventListener?h.addEventListener("message",O,!1):h.attachEvent("onmessage",O),p=function(d){h.postMessage(x+d,"*")}):h.MessageChannel?((v=new MessageChannel).port1.onmessage=function(d){S(d.data)},p=function(d){v.port2.postMessage(d)}):b&&("onreadystatechange"in b.createElement("script"))?(y=b.documentElement,p=function(d){var N=b.createElement("script");N.onreadystatechange=function(){S(d),N.onreadystatechange=null,y.removeChild(N),N=null},y.appendChild(N)}):p=function(d){setTimeout(S,0,d)},A.setImmediate=function(d){typeof d!="function"&&(d=Function(""+d));for(var N=Array(arguments.length-1),G=0;G<N.length;G++)N[G]=arguments[G+1];var L={callback:d,args:N};return i[k]=L,p(k),k++},A.clearImmediate=P}function P(d){delete i[d]}function S(d){if(g)setTimeout(S,0,d);else{var N=i[d];if(N){g=!0;try{(function(G){var{callback:L,args:s}=G;switch(s.length){case 0:L();break;case 1:L(s[0]);break;case 2:L(s[0],s[1]);break;case 3:L(s[0],s[1],s[2]);break;default:L.apply(l,s)}})(N)}finally{P(d),g=!1}}}}})(typeof self>"u"?f===void 0?this:f:self)}).call(this,u(0),u(7))},function(a,n){var u,f,o=a.exports={};function h(){throw Error("setTimeout has not been defined")}function l(){throw Error("clearTimeout has not been defined")}function p(A){if(u===setTimeout)return setTimeout(A,0);if((u===h||!u)&&setTimeout)return u=setTimeout,setTimeout(A,0);try{return u(A,0)}catch{try{return u.call(null,A,0)}catch{return u.call(this,A,0)}}}(function(){try{u=typeof setTimeout=="function"?setTimeout:h}catch{u=h}try{f=typeof clearTimeout=="function"?clearTimeout:l}catch{f=l}})();var y,v=[],x=!1,O=-1;function k(){x&&y&&(x=!1,y.length?v=y.concat(v):O=-1,v.length&&i())}function i(){if(!x){var A=p(k);x=!0;for(var P=v.length;P;){for(y=v,v=[];++O<P;)y&&y[O].run();O=-1,P=v.length}y=null,x=!1,function(S){if(f===clearTimeout)return clearTimeout(S);if((f===l||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(S);try{f(S)}catch{try{return f.call(null,S)}catch{return f.call(this,S)}}}(A)}}function g(A,P){this.fun=A,this.array=P}function b(){}o.nextTick=function(A){var P=Array(arguments.length-1);if(arguments.length>1)for(var S=1;S<arguments.length;S++)P[S-1]=arguments[S];v.push(new g(A,P)),v.length!==1||x||p(i)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=b,o.addListener=b,o.once=b,o.off=b,o.removeListener=b,o.removeAllListeners=b,o.emit=b,o.prependListener=b,o.prependOnceListener=b,o.listeners=function(A){return[]},o.binding=function(A){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(A){throw Error("process.chdir is not supported")},o.umask=function(){return 0}},function(a,n,u){function f(h,l){for(var p=0;p<l.length;p++){var y=l[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}var o=u(9);a.exports=function(){function h(){(function(v,x){if(!(v instanceof x))throw TypeError("Cannot call a class as a function")})(this,h)}var l,p,y;return l=h,y=[{key:"urlEncode",value:function(v){return o(v)}},{key:"jsonEncode",value:function(v){return JSON.stringify(v)}},{key:"formEncode",value:function(v){if(this.isFormData(v))return v;if(this.isFormElement(v))return new FormData(v);if(this.isObject(v)){var x=new FormData;return Object.keys(v).forEach(function(O){var k=v[O];x.append(O,k)}),x}throw Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(v){return Object.prototype.toString.call(v)==="[object Object]"}},{key:"isFormData",value:function(v){return v instanceof FormData}},{key:"isFormElement",value:function(v){return v instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(x,O){var k=document.createElement("INPUT");k.type="file",v.multiple&&k.setAttribute("multiple","multiple"),v.accept&&k.setAttribute("accept",v.accept),k.style.display="none",document.body.appendChild(k),k.addEventListener("change",function(i){var g=i.target.files;x(g),document.body.removeChild(k)},!1),k.click()})}},{key:"parseHeaders",value:function(v){var x=v.trim().split(/[\r\n]+/),O={};return x.forEach(function(k){var i=k.split(": "),g=i.shift(),b=i.join(": ");g&&(O[g]=b)}),O}}],(p=null)&&f(l.prototype,p),y&&f(l,y),h}()},function(a,n){var u=function(o){return encodeURIComponent(o).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},f=function(o,h,l,p){return h=h||null,l=l||"&",p=p||null,o?function(y){for(var v=[],x=0;x<y.length;x++)y[x]&&v.push(y[x]);return v}(Object.keys(o).map(function(y){var v,x,O=y;if(p&&(O=p+"["+O+"]"),typeof o[y]=="object"&&o[y]!==null)v=f(o[y],null,l,O);else{h&&(x=O,O=!isNaN(parseFloat(x))&&isFinite(x)?h+Number(O):O);var k=o[y];k=(k=(k=(k=k===!0?"1":k)===!1?"0":k)===0?"0":k)||"",v=u(O)+"="+u(k)}return v})).join(l).replace(/[!'()*]/g,""):""};a.exports=f}])})})(ih);var H1=ih.exports,yc=Y1(H1);function Bu(r){return r!==void 0&&typeof r.then=="function"}class kh{constructor({config:r,onUpload:c,onError:a}){this.config=r,this.onUpload=c,this.onError=a}uploadSelectedFile({onPreview:r}){let c=function(n){let u=new FileReader;u.readAsDataURL(n),u.onload=(f)=>{r(f.target.result)}},a;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"){let n=this.config.uploader.uploadByFile;a=yc.selectFiles({accept:this.config.types??"image/*"}).then((u)=>{c(u[0]);let f=n(u[0]);return Bu(f)||console.warn("Custom uploader method uploadByFile should return a Promise"),f})}else a=yc.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types??"image/*",headers:this.config.additionalRequestHeaders,beforeSend:(n)=>{c(n[0])},fieldName:this.config.field??"image"}).then((n)=>n.body);a.then((n)=>{this.onUpload(n)}).catch((n)=>{this.onError(n)})}uploadByUrl(r){let c;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?(c=this.config.uploader.uploadByUrl(r),Bu(c)||console.warn("Custom uploader method uploadByUrl should return a Promise")):c=yc.post({url:this.config.endpoints.byUrl,data:Object.assign({url:r},this.config.additionalRequestData),type:yc.contentType.JSON,headers:this.config.additionalRequestHeaders}).then((a)=>a.body),c.then((a)=>{this.onUpload(a)}).catch((a)=>{this.onError(a)})}uploadByFile(r,{onPreview:c}){let a=new FileReader;a.readAsDataURL(r),a.onload=(u)=>{c(u.target.result)};let n;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")n=this.config.uploader.uploadByFile(r),Bu(n)||console.warn("Custom uploader method uploadByFile should return a Promise");else{let u=new FormData;u.append(this.config.field??"image",r),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(([f,o])=>{u.append(f,o)}),n=yc.post({url:this.config.endpoints.byFile,data:u,type:yc.contentType.JSON,headers:this.config.additionalRequestHeaders}).then((f)=>f.body)}n.then((u)=>{this.onUpload(u)}).catch((u)=>{this.onError(u)})}}class jc{constructor({data:r,config:c,api:a,readOnly:n,block:u}){this.isCaptionEnabled=null,this.api=a,this.block=u,this.config={endpoints:c.endpoints,additionalRequestData:c.additionalRequestData,additionalRequestHeaders:c.additionalRequestHeaders,field:c.field,types:c.types,captionPlaceholder:this.api.i18n.t(c.captionPlaceholder??"Caption"),buttonContent:c.buttonContent,uploader:c.uploader,actions:c.actions,features:c.features||{}},this.uploader=new kh({config:this.config,onUpload:(f)=>this.onUpload(f),onError:(f)=>this.uploadingFailed(f)}),this.ui=new gh({api:a,config:this.config,onSelectFile:()=>{this.uploader.uploadSelectedFile({onPreview:(f)=>{this.ui.showPreloader(f)}})},readOnly:n}),this._data={caption:"",withBorder:!1,withBackground:!1,stretched:!1,file:{url:""}},this.data=r}static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:lh,title:"Image"}}static get tunes(){return[{name:"withBorder",icon:R1,title:"With border",toggle:!0},{name:"stretched",icon:Z1,title:"Stretch image",toggle:!0},{name:"withBackground",icon:G1,title:"With background",toggle:!0}]}render(){var r,c,a;return(((r=this.config.features)==null?void 0:r.caption)===!0||((c=this.config.features)==null?void 0:c.caption)===void 0||((a=this.config.features)==null?void 0:a.caption)==="optional"&&this.data.caption)&&(this.isCaptionEnabled=!0,this.ui.applyTune("caption",!0)),this.ui.render()}validate(r){return!!r.file.url}save(){let r=this.ui.nodes.caption;return this._data.caption=r.innerHTML,this.data}renderSettings(){var r;let c=jc.tunes.concat(this.config.actions||[]),a={border:"withBorder",background:"withBackground",stretch:"stretched",caption:"caption"};((r=this.config.features)==null?void 0:r.caption)==="optional"&&c.push({name:"caption",icon:J1,title:"With caption",toggle:!0});let n=c.filter((f)=>{var o,h;let l=Object.keys(a).find((p)=>a[p]===f.name);return l==="caption"?((o=this.config.features)==null?void 0:o.caption)!==!1:l==null||((h=this.config.features)==null?void 0:h[l])!==!1}),u=(f)=>{let o=this.data[f.name];return f.name==="caption"&&(o=this.isCaptionEnabled??o),o};return n.map((f)=>({icon:f.icon,label:this.api.i18n.t(f.title),name:f.name,toggle:f.toggle,isActive:u(f),onActivate:()=>{if(typeof f.action=="function"){f.action(f.name);return}let o=!u(f);f.name==="caption"&&(this.isCaptionEnabled=!(this.isCaptionEnabled??!1),o=this.isCaptionEnabled),this.tuneToggled(f.name,o)}}))}appendCallback(){this.ui.nodes.fileButton.click()}static get pasteConfig(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}async onPaste(r){switch(r.type){case"tag":{let c=r.detail.data;if(/^blob:/.test(c.src)){let a=await(await fetch(c.src)).blob();this.uploadFile(a);break}this.uploadUrl(c.src);break}case"pattern":{let c=r.detail.data;this.uploadUrl(c);break}case"file":{let c=r.detail.file;this.uploadFile(c);break}}}set data(r){var c;this.image=r.file,this._data.caption=r.caption||"",this.ui.fillCaption(this._data.caption),jc.tunes.forEach(({name:a})=>{let n=typeof r[a]<"u"?r[a]===!0||r[a]==="true":!1;this.setTune(a,n)}),r.caption?this.setTune("caption",!0):((c=this.config.features)==null?void 0:c.caption)===!0&&this.setTune("caption",!0)}get data(){return this._data}set image(r){this._data.file=r||{url:""},r&&r.url&&this.ui.fillImage(r.url)}onUpload(r){r.success&&r.file?this.image=r.file:this.uploadingFailed("incorrect response: "+JSON.stringify(r))}uploadingFailed(r){console.log("Image Tool: uploading failed because of",r),this.api.notifier.show({message:this.api.i18n.t("Couldn’t upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}tuneToggled(r,c){r==="caption"?(this.ui.applyTune(r,c),c==!1&&(this._data.caption="",this.ui.fillCaption(""))):this.setTune(r,c)}setTune(r,c){this._data[r]=c,this.ui.applyTune(r,c),r==="stretched"&&Promise.resolve().then(()=>{this.block.stretched=c}).catch((a)=>{console.error(a)})}uploadFile(r){this.uploader.uploadByFile(r,{onPreview:(c)=>{this.ui.showPreloader(c)}})}uploadUrl(r){this.ui.showPreloader(r),this.uploader.uploadByUrl(r)}}(function(){try{if(typeof document<"u"){var r=document.createElement("style");r.appendChild(document.createTextNode('.embed-tool--loading .embed-tool__caption{display:none}.embed-tool--loading .embed-tool__preloader{display:block}.embed-tool--loading .embed-tool__content{display:none}.embed-tool__preloader{display:none;position:relative;height:200px;box-sizing:border-box;border-radius:5px;border:1px solid #e6e9eb}.embed-tool__preloader:before{content:"";position:absolute;z-index:3;left:50%;top:50%;width:30px;height:30px;margin-top:-25px;margin-left:-15px;border-radius:50%;border:2px solid #cdd1e0;border-top-color:#388ae5;box-sizing:border-box;animation:embed-preloader-spin 2s infinite linear}.embed-tool__url{position:absolute;bottom:20px;left:50%;transform:translate(-50%);max-width:250px;color:#7b7e89;font-size:11px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.embed-tool__content{width:100%}.embed-tool__caption{margin-top:7px}.embed-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:before{opacity:1}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}@keyframes embed-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(r)}}catch(c){console.error("vite-plugin-css-injected-by-js",c)}})();var K1={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:([r,c])=>{if(!c&&r)return r;let a={start:"start",end:"end",t:"start",time_continue:"start",list:"list"},n=c.slice(1).split("&").map((u)=>{let[f,o]=u.split("=");return!r&&f==="v"?(r=o,null):!a[f]||o==="LL"||o.startsWith("RDMM")||o.startsWith("FL")?null:`${a[f]}=${o}`}).filter((u)=>!!u);return r+"?"+n.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:`<iframe frameborder='0' scrolling='no' style="width:100%;" height='436' allowfullscreen ></iframe>`,height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:(r)=>r.join("/")},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:(r)=>r.join("/")},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:(r)=>r.join("/embed/")},instagram:{regex:/^https:\/\/(?:www\.)?instagram\.com\/(?:reel|p)\/(.*)/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400,id:(r)=>{var c;return(c=r==null?void 0:r[0])==null?void 0:c.split("/")[0]}},twitter:{regex:/^https?:\/\/(www\.)?(?:twitter\.com|x\.com)\/.+\/status\/(\d+)/,embedUrl:"https://platform.twitter.com/embed/Tweet.html?id=<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:(r)=>r[1]},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:(r)=>r[1]},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:(r)=>r.join("/")},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'},github:{regex:/https?:\/\/gist.github.com\/([^\/\?\&]*)\/([^\/\?\&]*)/,embedUrl:'data:text/html;charset=utf-8,<head><base target="_blank" /></head><body><script src="https://gist.github.com/<%= remote_id %>" ></script></body>',html:'<iframe width="100%" height="350" frameborder="0" style="margin: 0 auto;"></iframe>',height:300,width:600,id:(r)=>`${r.join("/")}.js`}};function Gu(r,c,a){var n,u,f,o,h;c==null&&(c=100);function l(){var y=Date.now()-o;y<c&&y>=0?n=setTimeout(l,c-y):(n=null,a||(h=r.apply(f,u),f=u=null))}var p=function(){f=this,u=arguments,o=Date.now();var y=a&&!n;return n||(n=setTimeout(l,c)),y&&(h=r.apply(f,u),f=u=null),h};return p.clear=function(){n&&(clearTimeout(n),n=null)},p.flush=function(){n&&(h=r.apply(f,u),f=u=null,clearTimeout(n),n=null)},p}Gu.debounce=Gu;var W1=Gu;class Hr{constructor({data:r,api:c,readOnly:a}){this.api=c,this._data={},this.element=null,this.readOnly=a,this.data=r}set data(r){var c;if(!(r instanceof Object))throw Error("Embed Tool data should be object");let{service:a,source:n,embed:u,width:f,height:o,caption:h=""}=r;this._data={service:a||this.data.service,source:n||this.data.source,embed:u||this.data.embed,width:f||this.data.width,height:o||this.data.height,caption:h||this.data.caption||""};let l=this.element;l&&((c=l.parentNode)==null||c.replaceChild(this.render(),l))}get data(){if(this.element){let r=this.element.querySelector(`.${this.api.styles.input}`);this._data.caption=r?r.innerHTML:""}return this._data}get CSS(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}render(){if(!this.data.service){let o=document.createElement("div");return this.element=o,o}let{html:r}=Hr.services[this.data.service],c=document.createElement("div"),a=document.createElement("div"),n=document.createElement("template"),u=this.createPreloader();c.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),a.classList.add(this.CSS.input,this.CSS.caption),c.appendChild(u),a.contentEditable=(!this.readOnly).toString(),a.dataset.placeholder=this.api.i18n.t("Enter a caption"),a.innerHTML=this.data.caption||"",n.innerHTML=r,n.content.firstChild.setAttribute("src",this.data.embed),n.content.firstChild.classList.add(this.CSS.content);let f=this.embedIsReady(c);return n.content.firstChild&&c.appendChild(n.content.firstChild),c.appendChild(a),f.then(()=>{c.classList.remove(this.CSS.containerLoading)}),this.element=c,c}createPreloader(){let r=document.createElement("preloader"),c=document.createElement("div");return c.textContent=this.data.source,r.classList.add(this.CSS.preloader),c.classList.add(this.CSS.url),r.appendChild(c),r}save(){return this.data}onPaste(r){var c;let{key:a,data:n}=r.detail,{regex:u,embedUrl:f,width:o,height:h,id:l=(v)=>v.shift()||""}=Hr.services[a],p=(c=u.exec(n))==null?void 0:c.slice(1),y=p?f.replace(/<%= remote_id %>/g,l(p)):"";this.data={service:a,source:n,embed:y,width:o,height:h}}static prepare({config:r={}}){let{services:c={}}=r,a=Object.entries(K1),n=Object.entries(c).filter(([f,o])=>typeof o=="boolean"&&o===!0).map(([f])=>f),u=Object.entries(c).filter(([f,o])=>typeof o=="object").filter(([f,o])=>Hr.checkServiceConfig(o)).map(([f,o])=>{let{regex:h,embedUrl:l,html:p,height:y,width:v,id:x}=o;return[f,{regex:h,embedUrl:l,html:p,height:y,width:v,id:x}]});n.length&&(a=a.filter(([f])=>n.includes(f))),a=a.concat(u),Hr.services=a.reduce((f,[o,h])=>(o in f)?(f[o]=Object.assign({},f[o],h),f):(f[o]=h,f),{}),Hr.patterns=a.reduce((f,[o,h])=>(h&&typeof h!="boolean"&&(f[o]=h.regex),f),{})}static checkServiceConfig(r){let{regex:c,embedUrl:a,html:n,height:u,width:f,id:o}=r,h=!!(c&&c instanceof RegExp)&&!!(a&&typeof a=="string")&&!!(n&&typeof n=="string");return h=h&&(o!==void 0?o instanceof Function:!0),h=h&&(u!==void 0?Number.isFinite(u):!0),h=h&&(f!==void 0?Number.isFinite(f):!0),h}static get pasteConfig(){return{patterns:Hr.patterns}}static get isReadOnlySupported(){return!0}embedIsReady(r){let c;return new Promise((a,n)=>{c=new MutationObserver(W1.debounce(a,450)),c.observe(r,{childList:!0,subtree:!0})}).then(()=>{c.disconnect()})}}(function(){try{if(typeof document<"u"){var r=document.createElement("style");r.appendChild(document.createTextNode(`.link-tool{position:relative}.link-tool__input{padding-left:38px;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none'%3E%3Cpath stroke='%23707684' stroke-linecap='round' stroke-width='2' d='m7.7 12.6-.021.02a2.795 2.795 0 0 0-.044 4.005v0a2.795 2.795 0 0 0 3.936.006l1.455-1.438a3 3 0 0 0 .34-3.866l-.146-.207'/%3E%3Cpath stroke='%23707684' stroke-linecap='round' stroke-width='2' d='m16.22 11.12.136-.14c.933-.954.992-2.46.135-3.483v0a2.597 2.597 0 0 0-3.664-.32L11.39 8.386a3 3 0 0 0-.301 4.3l.031.034'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:10px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.link-tool__input-holder{position:relative}.link-tool__input-holder--error .link-tool__input{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none'%3E%3Cpath stroke='rgb(224, 147, 147)' stroke-linecap='round' stroke-width='2' d='m7.7 12.6-.021.02a2.795 2.795 0 0 0-.044 4.005v0a2.795 2.795 0 0 0 3.936.006l1.455-1.438a3 3 0 0 0 .34-3.866l-.146-.207'/%3E%3Cpath stroke='rgb(224, 147, 147)' stroke-linecap='round' stroke-width='2' d='m16.22 11.12.136-.14c.933-.954.992-2.46.135-3.483v0a2.597 2.597 0 0 0-3.664-.32L11.39 8.386a3 3 0 0 0-.301 4.3l.031.034'/%3E%3C/svg%3E");background-color:#fff3f6;border-color:#f3e0e0;color:#a95a5a;box-shadow:inset 0 1px 3px #923e3e0d}.link-tool__input[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.link-tool__input[contentEditable=true][data-placeholder]:empty:before{opacity:1}.link-tool__input[contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.link-tool__progress{position:absolute;box-shadow:inset 0 1px 3px #66556b0a;height:100%;width:0;background-color:#f4f5f7;z-index:-1}.link-tool__progress--loading{-webkit-animation:progress .5s ease-in;-webkit-animation-fill-mode:forwards}.link-tool__progress--loaded{width:100%}.link-tool__content{display:block;padding:25px;border-radius:2px;box-shadow:0 0 0 2px #fff;color:initial!important;text-decoration:none!important}.link-tool__content:after{content:"";clear:both;display:table}.link-tool__content--rendered{background:#fff;border:1px solid rgba(201,201,204,.48);box-shadow:0 1px 3px #0000001a;border-radius:6px;will-change:filter;animation:link-in .45s 1 cubic-bezier(.215,.61,.355,1)}.link-tool__content--rendered:hover{box-shadow:0 0 3px #00000029}.link-tool__image{background-position:center center;background-repeat:no-repeat;background-size:cover;margin:0 0 0 30px;width:65px;height:65px;border-radius:3px;float:right}.link-tool__title{font-size:17px;font-weight:600;line-height:1.5em;margin:0 0 10px}.link-tool__title+.link-tool__anchor{margin-top:25px}.link-tool__description{margin:0 0 20px;font-size:15px;line-height:1.55em;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.link-tool__anchor{display:block;font-size:15px;line-height:1em;color:#888!important;border:0!important;padding:0!important}@keyframes link-in{0%{filter:blur(5px)}to{filter:none}}.codex-editor--narrow .link-tool__image{display:none}@-webkit-keyframes progress{0%{width:0}to{width:85%}}`)),document.head.appendChild(r)}}catch(c){console.error("vite-plugin-css-injected-by-js",c)}})();var lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function C1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}(function(r){var c=function(){try{return!!Symbol.iterator}catch{return!1}},a=c(),n=function(p){var y={next:function(){var v=p.shift();return{done:v===void 0,value:v}}};return a&&(y[Symbol.iterator]=function(){return y}),y},u=function(p){return encodeURIComponent(p).replace(/%20/g,"+")},f=function(p){return decodeURIComponent(String(p).replace(/\+/g," "))},o=function(){var p=function(v){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var x=typeof v;if(x!=="undefined")if(x==="string")v!==""&&this._fromString(v);else if(v instanceof p){var O=this;v.forEach(function(b,A){O.append(A,b)})}else if(v!==null&&x==="object")if(Object.prototype.toString.call(v)==="[object Array]")for(var k=0;k<v.length;k++){var i=v[k];if(Object.prototype.toString.call(i)==="[object Array]"||i.length!==2)this.append(i[0],i[1]);else throw TypeError("Expected [string, any] as entry at index "+k+" of URLSearchParams's input")}else for(var g in v)v.hasOwnProperty(g)&&this.append(g,v[g]);else throw TypeError("Unsupported input's type for URLSearchParams")},y=p.prototype;y.append=function(v,x){v in this._entries?this._entries[v].push(String(x)):this._entries[v]=[String(x)]},y.delete=function(v){delete this._entries[v]},y.get=function(v){return v in this._entries?this._entries[v][0]:null},y.getAll=function(v){return v in this._entries?this._entries[v].slice(0):[]},y.has=function(v){return v in this._entries},y.set=function(v,x){this._entries[v]=[String(x)]},y.forEach=function(v,x){var O;for(var k in this._entries)if(this._entries.hasOwnProperty(k)){O=this._entries[k];for(var i=0;i<O.length;i++)v.call(x,O[i],k,this)}},y.keys=function(){var v=[];return this.forEach(function(x,O){v.push(O)}),n(v)},y.values=function(){var v=[];return this.forEach(function(x){v.push(x)}),n(v)},y.entries=function(){var v=[];return this.forEach(function(x,O){v.push([O,x])}),n(v)},a&&(y[Symbol.iterator]=y.entries),y.toString=function(){var v=[];return this.forEach(function(x,O){v.push(u(O)+"="+u(x))}),v.join("&")},r.URLSearchParams=p},h=function(){try{var p=r.URLSearchParams;return new p("?a=1").toString()==="a=1"&&typeof p.prototype.set=="function"}catch{return!1}};h()||o();var l=r.URLSearchParams.prototype;typeof l.sort!="function"&&(l.sort=function(){var p=this,y=[];this.forEach(function(x,O){y.push([O,x]),p._entries||p.delete(O)}),y.sort(function(x,O){return x[0]<O[0]?-1:x[0]>O[0]?1:0}),p._entries&&(p._entries={});for(var v=0;v<y.length;v++)this.append(y[v][0],y[v][1])}),typeof l._fromString!="function"&&Object.defineProperty(l,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(p){if(this._entries)this._entries={};else{var y=[];this.forEach(function(k,i){y.push(i)});for(var v=0;v<y.length;v++)this.delete(y[v])}p=p.replace(/^\?/,"");for(var x=p.split("&"),O,v=0;v<x.length;v++)O=x[v].split("="),this.append(f(O[0]),O.length>1?f(O[1]):"")}})})(typeof lc<"u"?lc:typeof window<"u"?window:typeof self<"u"?self:lc);(function(r){var c=function(){try{var u=new r.URL("b","http://a");return u.pathname="c d",u.href==="http://a/c%20d"&&u.searchParams}catch{return!1}},a=function(){var u=r.URL,f=function(l,p){typeof l!="string"&&(l=String(l));var y=document,v;if(p&&(r.location===void 0||p!==r.location.href)){y=document.implementation.createHTMLDocument(""),v=y.createElement("base"),v.href=p,y.head.appendChild(v);try{if(v.href.indexOf(p)!==0)throw Error(v.href)}catch(P){throw Error("URL unable to set base "+p+" due to "+P)}}var x=y.createElement("a");x.href=l,v&&(y.body.appendChild(x),x.href=x.href);var O=y.createElement("input");if(O.type="url",O.value=l,x.protocol===":"||!/:/.test(x.href)||!O.checkValidity()&&!p)throw TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:x});var k=new r.URLSearchParams(this.search),i=!0,g=!0,b=this;["append","delete","set"].forEach(function(P){var S=k[P];k[P]=function(){S.apply(k,arguments),i&&(g=!1,b.search=k.toString(),g=!0)}}),Object.defineProperty(this,"searchParams",{value:k,enumerable:!0});var A=void 0;Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==A&&(A=this.search,g&&(i=!1,this.searchParams._fromString(this.search),i=!0))}})},o=f.prototype,h=function(l){Object.defineProperty(o,l,{get:function(){return this._anchorElement[l]},set:function(p){this._anchorElement[l]=p},enumerable:!0})};["hash","host","hostname","port","protocol"].forEach(function(l){h(l)}),Object.defineProperty(o,"search",{get:function(){return this._anchorElement.search},set:function(l){this._anchorElement.search=l,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(o,{toString:{get:function(){var l=this;return function(){return l.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(l){this._anchorElement.href=l,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(l){this._anchorElement.pathname=l},enumerable:!0},origin:{get:function(){var l={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],p=this._anchorElement.port!=l&&this._anchorElement.port!=="";return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(p?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(l){},enumerable:!0},username:{get:function(){return""},set:function(l){},enumerable:!0}}),f.createObjectURL=function(l){return u.createObjectURL.apply(u,arguments)},f.revokeObjectURL=function(l){return u.revokeObjectURL.apply(u,arguments)},r.URL=f};if(c()||a(),r.location!==void 0&&!("origin"in r.location)){var n=function(){return r.location.protocol+"//"+r.location.hostname+(r.location.port?":"+r.location.port:"")};try{Object.defineProperty(r.location,"origin",{get:n,enumerable:!0})}catch{setInterval(function(){r.location.origin=n()},100)}}})(typeof lc<"u"?lc:typeof window<"u"?window:typeof self<"u"?self:lc);var xh={exports:{}};(function(r,c){(function(a,n){r.exports=n()})(window,function(){return function(a){var n={};function u(f){if(n[f])return n[f].exports;var o=n[f]={i:f,l:!1,exports:{}};return a[f].call(o.exports,o,o.exports,u),o.l=!0,o.exports}return u.m=a,u.c=n,u.d=function(f,o,h){u.o(f,o)||Object.defineProperty(f,o,{enumerable:!0,get:h})},u.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},u.t=function(f,o){if(1&o&&(f=u(f)),8&o||4&o&&typeof f=="object"&&f&&f.__esModule)return f;var h=Object.create(null);if(u.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:f}),2&o&&typeof f!="string")for(var l in f)u.d(h,l,function(p){return f[p]}.bind(null,l));return h},u.n=function(f){var o=f&&f.__esModule?function(){return f.default}:function(){return f};return u.d(o,"a",o),o},u.o=function(f,o){return Object.prototype.hasOwnProperty.call(f,o)},u.p="",u(u.s=3)}([function(a,n){var u=function(){return this}();try{u=u||Function("return this")()}catch{typeof window=="object"&&(u=window)}a.exports=u},function(a,n,u){(function(f){var o=u(2),h=setTimeout;function l(){}function p(g){if(!(this instanceof p))throw TypeError("Promises must be constructed via new");if(typeof g!="function")throw TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],i(g,this)}function y(g,b){for(;g._state===3;)g=g._value;g._state!==0?(g._handled=!0,p._immediateFn(function(){var A=g._state===1?b.onFulfilled:b.onRejected;if(A!==null){var P;try{P=A(g._value)}catch(S){return void x(b.promise,S)}v(b.promise,P)}else(g._state===1?v:x)(b.promise,g._value)})):g._deferreds.push(b)}function v(g,b){try{if(b===g)throw TypeError("A promise cannot be resolved with itself.");if(b&&(typeof b=="object"||typeof b=="function")){var A=b.then;if(b instanceof p)return g._state=3,g._value=b,void O(g);if(typeof A=="function")return void i((P=A,S=b,function(){P.apply(S,arguments)}),g)}g._state=1,g._value=b,O(g)}catch(d){x(g,d)}var P,S}function x(g,b){g._state=2,g._value=b,O(g)}function O(g){g._state===2&&g._deferreds.length===0&&p._immediateFn(function(){g._handled||p._unhandledRejectionFn(g._value)});for(var b=0,A=g._deferreds.length;b<A;b++)y(g,g._deferreds[b]);g._deferreds=null}function k(g,b,A){this.onFulfilled=typeof g=="function"?g:null,this.onRejected=typeof b=="function"?b:null,this.promise=A}function i(g,b){var A=!1;try{g(function(P){A||(A=!0,v(b,P))},function(P){A||(A=!0,x(b,P))})}catch(P){if(A)return;A=!0,x(b,P)}}p.prototype.catch=function(g){return this.then(null,g)},p.prototype.then=function(g,b){var A=new this.constructor(l);return y(this,new k(g,b,A)),A},p.prototype.finally=o.a,p.all=function(g){return new p(function(b,A){if(!g||g.length===void 0)throw TypeError("Promise.all accepts an array");var P=Array.prototype.slice.call(g);if(P.length===0)return b([]);var S=P.length;function d(G,L){try{if(L&&(typeof L=="object"||typeof L=="function")){var s=L.then;if(typeof s=="function")return void s.call(L,function(j){d(G,j)},A)}P[G]=L,--S==0&&b(P)}catch(j){A(j)}}for(var N=0;N<P.length;N++)d(N,P[N])})},p.resolve=function(g){return g&&typeof g=="object"&&g.constructor===p?g:new p(function(b){b(g)})},p.reject=function(g){return new p(function(b,A){A(g)})},p.race=function(g){return new p(function(b,A){for(var P=0,S=g.length;P<S;P++)g[P].then(b,A)})},p._immediateFn=typeof f=="function"&&function(g){f(g)}||function(g){h(g,0)},p._unhandledRejectionFn=function(g){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",g)},n.a=p}).call(this,u(5).setImmediate)},function(a,n,u){n.a=function(f){var o=this.constructor;return this.then(function(h){return o.resolve(f()).then(function(){return h})},function(h){return o.resolve(f()).then(function(){return o.reject(h)})})}},function(a,n,u){function f(k){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(k)}u(4);var o,h,l,p,y,v,x=u(8),O=(h=function(k){return new Promise(function(i,g){k=p(k),k=y(k);var b=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");b.open(k.method,k.url),b.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(k.headers).forEach(function(P){var S=k.headers[P];b.setRequestHeader(P,S)});var A=k.ratio;b.upload.addEventListener("progress",function(P){var S=Math.round(P.loaded/P.total*100),d=Math.ceil(S*A/100);k.progress(d)},!1),b.addEventListener("progress",function(P){var S=Math.round(P.loaded/P.total*100),d=Math.ceil(S*(100-A)/100)+A;k.progress(d)},!1),b.onreadystatechange=function(){if(b.readyState===4){var P=b.response;try{P=JSON.parse(P)}catch{}var S=x.parseHeaders(b.getAllResponseHeaders()),d={body:P,code:b.status,headers:S};b.status===200?i(d):g(d)}},b.send(k.data)})},l=function(k){return k.method="POST",h(k)},p=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(k.url&&typeof k.url!="string")throw Error("Url must be a string");if(k.url=k.url||"",k.method&&typeof k.method!="string")throw Error("`method` must be a string or null");if(k.method=k.method?k.method.toUpperCase():"GET",k.headers&&f(k.headers)!=="object")throw Error("`headers` must be an object or null");if(k.headers=k.headers||{},k.type&&(typeof k.type!="string"||!Object.values(o).includes(k.type)))throw Error("`type` must be taken from module's «contentType» library");if(k.progress&&typeof k.progress!="function")throw Error("`progress` must be a function or null");if(k.progress=k.progress||function(i){},k.beforeSend=k.beforeSend||function(i){},k.ratio&&typeof k.ratio!="number")throw Error("`ratio` must be a number");if(k.ratio<0||k.ratio>100)throw Error("`ratio` must be in a 0-100 interval");if(k.ratio=k.ratio||90,k.accept&&typeof k.accept!="string")throw Error("`accept` must be a string with a list of allowed mime-types");if(k.accept=k.accept||"*/*",k.multiple&&typeof k.multiple!="boolean")throw Error("`multiple` must be a true or false");if(k.multiple=k.multiple||!1,k.fieldName&&typeof k.fieldName!="string")throw Error("`fieldName` must be a string");return k.fieldName=k.fieldName||"files",k},y=function(k){switch(k.method){case"GET":var i=v(k.data,o.URLENCODED);delete k.data,k.url=/\?/.test(k.url)?k.url+"&"+i:k.url+"?"+i;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var g=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||o.JSON}(k);(x.isFormData(k.data)||x.isFormElement(k.data))&&(g=o.FORM),k.data=v(k.data,g),g!==O.contentType.FORM&&(k.headers["content-type"]=g)}return k},v=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case o.URLENCODED:return x.urlEncode(k);case o.JSON:return x.jsonEncode(k);case o.FORM:return x.formEncode(k);default:return k}},{contentType:o={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:h,get:function(k){return k.method="GET",h(k)},post:l,transport:function(k){return k=p(k),x.selectFiles(k).then(function(i){for(var g=new FormData,b=0;b<i.length;b++)g.append(k.fieldName,i[b],i[b].name);return x.isObject(k.data)&&Object.keys(k.data).forEach(function(A){var P=k.data[A];g.append(A,P)}),k.beforeSend&&k.beforeSend(i),k.data=g,l(k)})},selectFiles:function(k){return delete(k=p(k)).beforeSend,x.selectFiles(k)}});a.exports=O},function(a,n,u){u.r(n);var f=u(1);window.Promise=window.Promise||f.a},function(a,n,u){(function(f){var o=f!==void 0&&f||typeof self<"u"&&self||window,h=Function.prototype.apply;function l(p,y){this._id=p,this._clearFn=y}n.setTimeout=function(){return new l(h.call(setTimeout,o,arguments),clearTimeout)},n.setInterval=function(){return new l(h.call(setInterval,o,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(p){p&&p.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(o,this._id)},n.enroll=function(p,y){clearTimeout(p._idleTimeoutId),p._idleTimeout=y},n.unenroll=function(p){clearTimeout(p._idleTimeoutId),p._idleTimeout=-1},n._unrefActive=n.active=function(p){clearTimeout(p._idleTimeoutId);var y=p._idleTimeout;y>=0&&(p._idleTimeoutId=setTimeout(function(){p._onTimeout&&p._onTimeout()},y))},u(6),n.setImmediate=typeof self<"u"&&self.setImmediate||f!==void 0&&f.setImmediate||this&&this.setImmediate,n.clearImmediate=typeof self<"u"&&self.clearImmediate||f!==void 0&&f.clearImmediate||this&&this.clearImmediate}).call(this,u(0))},function(a,n,u){(function(f,o){(function(h,l){if(!h.setImmediate){var p,y,v,x,O,k=1,i={},g=!1,b=h.document,A=Object.getPrototypeOf&&Object.getPrototypeOf(h);A=A&&A.setTimeout?A:h,{}.toString.call(h.process)==="[object process]"?p=function(d){o.nextTick(function(){S(d)})}:function(){if(h.postMessage&&!h.importScripts){var d=!0,N=h.onmessage;return h.onmessage=function(){d=!1},h.postMessage("","*"),h.onmessage=N,d}}()?(x="setImmediate$"+Math.random()+"$",O=function(d){d.source===h&&typeof d.data=="string"&&d.data.indexOf(x)===0&&S(+d.data.slice(x.length))},h.addEventListener?h.addEventListener("message",O,!1):h.attachEvent("onmessage",O),p=function(d){h.postMessage(x+d,"*")}):h.MessageChannel?((v=new MessageChannel).port1.onmessage=function(d){S(d.data)},p=function(d){v.port2.postMessage(d)}):b&&("onreadystatechange"in b.createElement("script"))?(y=b.documentElement,p=function(d){var N=b.createElement("script");N.onreadystatechange=function(){S(d),N.onreadystatechange=null,y.removeChild(N),N=null},y.appendChild(N)}):p=function(d){setTimeout(S,0,d)},A.setImmediate=function(d){typeof d!="function"&&(d=Function(""+d));for(var N=Array(arguments.length-1),G=0;G<N.length;G++)N[G]=arguments[G+1];var L={callback:d,args:N};return i[k]=L,p(k),k++},A.clearImmediate=P}function P(d){delete i[d]}function S(d){if(g)setTimeout(S,0,d);else{var N=i[d];if(N){g=!0;try{(function(G){var{callback:L,args:s}=G;switch(s.length){case 0:L();break;case 1:L(s[0]);break;case 2:L(s[0],s[1]);break;case 3:L(s[0],s[1],s[2]);break;default:L.apply(l,s)}})(N)}finally{P(d),g=!1}}}}})(typeof self>"u"?f===void 0?this:f:self)}).call(this,u(0),u(7))},function(a,n){var u,f,o=a.exports={};function h(){throw Error("setTimeout has not been defined")}function l(){throw Error("clearTimeout has not been defined")}function p(A){if(u===setTimeout)return setTimeout(A,0);if((u===h||!u)&&setTimeout)return u=setTimeout,setTimeout(A,0);try{return u(A,0)}catch{try{return u.call(null,A,0)}catch{return u.call(this,A,0)}}}(function(){try{u=typeof setTimeout=="function"?setTimeout:h}catch{u=h}try{f=typeof clearTimeout=="function"?clearTimeout:l}catch{f=l}})();var y,v=[],x=!1,O=-1;function k(){x&&y&&(x=!1,y.length?v=y.concat(v):O=-1,v.length&&i())}function i(){if(!x){var A=p(k);x=!0;for(var P=v.length;P;){for(y=v,v=[];++O<P;)y&&y[O].run();O=-1,P=v.length}y=null,x=!1,function(S){if(f===clearTimeout)return clearTimeout(S);if((f===l||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(S);try{f(S)}catch{try{return f.call(null,S)}catch{return f.call(this,S)}}}(A)}}function g(A,P){this.fun=A,this.array=P}function b(){}o.nextTick=function(A){var P=Array(arguments.length-1);if(arguments.length>1)for(var S=1;S<arguments.length;S++)P[S-1]=arguments[S];v.push(new g(A,P)),v.length!==1||x||p(i)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=b,o.addListener=b,o.once=b,o.off=b,o.removeListener=b,o.removeAllListeners=b,o.emit=b,o.prependListener=b,o.prependOnceListener=b,o.listeners=function(A){return[]},o.binding=function(A){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(A){throw Error("process.chdir is not supported")},o.umask=function(){return 0}},function(a,n,u){function f(h,l){for(var p=0;p<l.length;p++){var y=l[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}var o=u(9);a.exports=function(){function h(){(function(v,x){if(!(v instanceof x))throw TypeError("Cannot call a class as a function")})(this,h)}var l,p,y;return l=h,y=[{key:"urlEncode",value:function(v){return o(v)}},{key:"jsonEncode",value:function(v){return JSON.stringify(v)}},{key:"formEncode",value:function(v){if(this.isFormData(v))return v;if(this.isFormElement(v))return new FormData(v);if(this.isObject(v)){var x=new FormData;return Object.keys(v).forEach(function(O){var k=v[O];x.append(O,k)}),x}throw Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(v){return Object.prototype.toString.call(v)==="[object Object]"}},{key:"isFormData",value:function(v){return v instanceof FormData}},{key:"isFormElement",value:function(v){return v instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(x,O){var k=document.createElement("INPUT");k.type="file",v.multiple&&k.setAttribute("multiple","multiple"),v.accept&&k.setAttribute("accept",v.accept),k.style.display="none",document.body.appendChild(k),k.addEventListener("change",function(i){var g=i.target.files;x(g),document.body.removeChild(k)},!1),k.click()})}},{key:"parseHeaders",value:function(v){var x=v.trim().split(/[\r\n]+/),O={};return x.forEach(function(k){var i=k.split(": "),g=i.shift(),b=i.join(": ");g&&(O[g]=b)}),O}}],(p=null)&&f(l.prototype,p),y&&f(l,y),h}()},function(a,n){var u=function(o){return encodeURIComponent(o).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},f=function(o,h,l,p){return h=h||null,l=l||"&",p=p||null,o?function(y){for(var v=[],x=0;x<y.length;x++)y[x]&&v.push(y[x]);return v}(Object.keys(o).map(function(y){var v,x,O=y;if(p&&(O=p+"["+O+"]"),typeof o[y]=="object"&&o[y]!==null)v=f(o[y],null,l,O);else{h&&(x=O,O=!isNaN(parseFloat(x))&&isFinite(x)?h+Number(O):O);var k=o[y];k=(k=(k=(k=k===!0?"1":k)===!1?"0":k)===0?"0":k)||"",v=u(O)+"="+u(k)}return v})).join(l).replace(/[!'()*]/g,""):""};a.exports=f}])})})(xh);var _1=xh.exports,I1=C1(_1),M1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.569 6.39509 13.9269 6.25143 12.8271 7.17675L11.39 8.38588C10.0935 9.47674 9.95704 11.4241 11.0887 12.6852L11.12 12.72"/></svg>';class Ru{static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:M1,title:"Link"}}static get enableLineBreaks(){return!0}constructor({data:r,config:c,api:a,readOnly:n}){this.api=a,this.readOnly=n,this.config={endpoint:c.endpoint||"",headers:c.headers||{}},this.nodes={wrapper:null,container:null,progress:null,input:null,inputHolder:null,linkContent:null,linkImage:null,linkTitle:null,linkDescription:null,linkText:null},this._data={link:"",meta:{}},this.data=r}render(){return this.nodes.wrapper=this.make("div",this.CSS.baseClass),this.nodes.container=this.make("div",this.CSS.container),this.nodes.inputHolder=this.makeInputHolder(),this.nodes.linkContent=this.prepareLinkPreview(),Object.keys(this.data.meta).length?(this.nodes.container.appendChild(this.nodes.linkContent),this.showLinkPreview(this.data.meta)):this.nodes.container.appendChild(this.nodes.inputHolder),this.nodes.wrapper.appendChild(this.nodes.container),this.nodes.wrapper}save(){return this.data}validate(){return this.data.link.trim()!==""}set data(r){this._data=Object.assign({},{link:r.link||this._data.link,meta:r.meta||this._data.meta})}get data(){return this._data}get CSS(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"link-tool",inputEl:"link-tool__input",inputHolder:"link-tool__input-holder",inputError:"link-tool__input-holder--error",linkContent:"link-tool__content",linkContentRendered:"link-tool__content--rendered",linkImage:"link-tool__image",linkTitle:"link-tool__title",linkDescription:"link-tool__description",linkText:"link-tool__anchor",progress:"link-tool__progress",progressLoading:"link-tool__progress--loading",progressLoaded:"link-tool__progress--loaded"}}makeInputHolder(){let r=this.make("div",this.CSS.inputHolder);return this.nodes.progress=this.make("label",this.CSS.progress),this.nodes.input=this.make("div",[this.CSS.input,this.CSS.inputEl],{contentEditable:!this.readOnly}),this.nodes.input.dataset.placeholder=this.api.i18n.t("Link"),this.readOnly||(this.nodes.input.addEventListener("paste",(c)=>{this.startFetching(c)}),this.nodes.input.addEventListener("keydown",(c)=>{let[a,n]=[13,65],u=c.ctrlKey||c.metaKey;switch(c.keyCode){case a:c.preventDefault(),c.stopPropagation(),this.startFetching(c);break;case n:u&&this.selectLinkUrl(c);break}})),r.appendChild(this.nodes.progress),r.appendChild(this.nodes.input),r}startFetching(r){let c=this.nodes.input.textContent;r.type==="paste"&&(c=(r.clipboardData||window.clipboardData).getData("text")),this.removeErrorStyle(),this.fetchLinkData(c)}removeErrorStyle(){this.nodes.inputHolder.classList.remove(this.CSS.inputError),this.nodes.inputHolder.insertBefore(this.nodes.progress,this.nodes.input)}selectLinkUrl(r){r.preventDefault(),r.stopPropagation();let c=window.getSelection(),a=new Range,n=c.anchorNode.parentNode.closest(`.${this.CSS.inputHolder}`).querySelector(`.${this.CSS.inputEl}`);a.selectNodeContents(n),c.removeAllRanges(),c.addRange(a)}prepareLinkPreview(){let r=this.make("a",this.CSS.linkContent,{target:"_blank",rel:"nofollow noindex noreferrer"});return this.nodes.linkImage=this.make("div",this.CSS.linkImage),this.nodes.linkTitle=this.make("div",this.CSS.linkTitle),this.nodes.linkDescription=this.make("p",this.CSS.linkDescription),this.nodes.linkText=this.make("span",this.CSS.linkText),r}showLinkPreview({image:r,title:c,description:a}){this.nodes.container.appendChild(this.nodes.linkContent),r&&r.url&&(this.nodes.linkImage.style.backgroundImage="url("+r.url+")",this.nodes.linkContent.appendChild(this.nodes.linkImage)),c&&(this.nodes.linkTitle.textContent=c,this.nodes.linkContent.appendChild(this.nodes.linkTitle)),a&&(this.nodes.linkDescription.textContent=a,this.nodes.linkContent.appendChild(this.nodes.linkDescription)),this.nodes.linkContent.classList.add(this.CSS.linkContentRendered),this.nodes.linkContent.setAttribute("href",this.data.link),this.nodes.linkContent.appendChild(this.nodes.linkText);try{this.nodes.linkText.textContent=new URL(this.data.link).hostname}catch{this.nodes.linkText.textContent=this.data.link}}showProgress(){this.nodes.progress.classList.add(this.CSS.progressLoading)}hideProgress(){return new Promise((r)=>{this.nodes.progress.classList.remove(this.CSS.progressLoading),this.nodes.progress.classList.add(this.CSS.progressLoaded),setTimeout(r,500)})}applyErrorStyle(){this.nodes.inputHolder.classList.add(this.CSS.inputError),this.nodes.progress.remove()}async fetchLinkData(r){this.showProgress(),this.data={link:r};try{let{body:c}=await I1.get({url:this.config.endpoint,headers:this.config.headers,data:{url:r}});this.onFetch(c)}catch{this.fetchingFailed(this.api.i18n.t("Couldn't fetch the link data"))}}onFetch(r){if(!r||!r.success){this.fetchingFailed(this.api.i18n.t("Couldn't get this link data, try the other one"));return}let c=r.meta,a=r.link||this.data.link;if(this.data={meta:c,link:a},!c){this.fetchingFailed(this.api.i18n.t("Wrong response format from the server"));return}this.hideProgress().then(()=>{this.nodes.inputHolder.remove(),this.showLinkPreview(c)})}fetchingFailed(r){this.api.notifier.show({message:r,style:"error"}),this.applyErrorStyle()}make(r,c=null,a={}){let n=document.createElement(r);Array.isArray(c)?n.classList.add(...c):c&&n.classList.add(c);for(let u in a)n[u]=a[u];return n}}(function(){try{if(typeof document<"u"){var r=document.createElement("style");r.appendChild(document.createTextNode(".cdx-attaches{--color-line: #EFF0F1;--color-bg: #fff;--color-bg-secondary: #F8F8F8;--color-bg-secondary--hover: #f2f2f2;--color-text-secondary: #707684}.cdx-attaches--with-file{display:flex;align-items:center;padding:10px 12px;border:1px solid var(--color-line);border-radius:7px;background:var(--color-bg)}.cdx-attaches--with-file .cdx-attaches__file-info{display:grid;grid-gap:4px;max-width:calc(100% - 80px);margin:auto 0;flex-grow:2}.cdx-attaches--with-file .cdx-attaches__download-button{display:flex;align-items:center;background:var(--color-bg-secondary);padding:6px;border-radius:6px;margin:auto 0 auto auto;color:inherit}.cdx-attaches--with-file .cdx-attaches__download-button:hover{background:var(--color-bg-secondary--hover)}.cdx-attaches--with-file .cdx-attaches__download-button svg{width:20px;height:20px;fill:none}.cdx-attaches--with-file .cdx-attaches__file-icon{position:relative}.cdx-attaches--with-file .cdx-attaches__file-icon-background{background-color:#333;width:27px;height:30px;margin-right:12px;border-radius:8px;display:flex;align-items:center;justify-content:center}@supports (-webkit-mask-box-image: url()){.cdx-attaches--with-file .cdx-attaches__file-icon-background{border-radius:0;-webkit-mask-box-image:url(\"data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 10.3872C0 1.83334 1.83334 0 10.3872 0H13.6128C22.1667 0 24 1.83334 24 10.3872V13.6128C24 22.1667 22.1667 24 13.6128 24H10.3872C1.83334 24 0 22.1667 0 13.6128V10.3872Z' fill='black'/%3E%3C/svg%3E%0A\") 48% 41% 37.9% 53.3%}}.cdx-attaches--with-file .cdx-attaches__file-icon-label{position:absolute;left:3px;top:11px;background:inherit;text-transform:uppercase;line-height:1em;color:#fff;padding:1px 2px;border-radius:3px;font-size:10px;font-weight:700;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;letter-spacing:.02em}.cdx-attaches--with-file .cdx-attaches__file-icon svg{width:20px;height:20px}.cdx-attaches--with-file .cdx-attaches__file-icon path{stroke:#fff}.cdx-attaches--with-file .cdx-attaches__size{color:var(--color-text-secondary);font-size:12px;line-height:1em}.cdx-attaches--with-file .cdx-attaches__size:after{content:attr(data-size);margin-left:.2em}.cdx-attaches--with-file .cdx-attaches__title{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;outline:none;max-width:90%;font-size:14px;font-weight:500;line-height:1em}.cdx-attaches--with-file .cdx-attaches__title:empty:before{content:attr(data-placeholder);color:#7b7e89}.cdx-attaches--loading .cdx-attaches__title,.cdx-attaches--loading .cdx-attaches__file-icon,.cdx-attaches--loading .cdx-attaches__size,.cdx-attaches--loading .cdx-attaches__download-button,.cdx-attaches--loading .cdx-attaches__button{opacity:0;font-size:0}.cdx-attaches__button{display:flex;align-items:center;justify-content:center;color:#000;border-radius:7px;font-weight:500}.cdx-attaches__button svg{margin-top:0}")),document.head.appendChild(r)}}catch(c){console.error("vite-plugin-css-injected-by-js",c)}})();function Q1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var sh={exports:{}};(function(r,c){(function(a,n){r.exports=n()})(window,function(){return function(a){var n={};function u(f){if(n[f])return n[f].exports;var o=n[f]={i:f,l:!1,exports:{}};return a[f].call(o.exports,o,o.exports,u),o.l=!0,o.exports}return u.m=a,u.c=n,u.d=function(f,o,h){u.o(f,o)||Object.defineProperty(f,o,{enumerable:!0,get:h})},u.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},u.t=function(f,o){if(1&o&&(f=u(f)),8&o||4&o&&typeof f=="object"&&f&&f.__esModule)return f;var h=Object.create(null);if(u.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:f}),2&o&&typeof f!="string")for(var l in f)u.d(h,l,function(p){return f[p]}.bind(null,l));return h},u.n=function(f){var o=f&&f.__esModule?function(){return f.default}:function(){return f};return u.d(o,"a",o),o},u.o=function(f,o){return Object.prototype.hasOwnProperty.call(f,o)},u.p="",u(u.s=3)}([function(a,n){var u=function(){return this}();try{u=u||Function("return this")()}catch{typeof window=="object"&&(u=window)}a.exports=u},function(a,n,u){(function(f){var o=u(2),h=setTimeout;function l(){}function p(g){if(!(this instanceof p))throw TypeError("Promises must be constructed via new");if(typeof g!="function")throw TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],i(g,this)}function y(g,b){for(;g._state===3;)g=g._value;g._state!==0?(g._handled=!0,p._immediateFn(function(){var A=g._state===1?b.onFulfilled:b.onRejected;if(A!==null){var P;try{P=A(g._value)}catch(S){return void x(b.promise,S)}v(b.promise,P)}else(g._state===1?v:x)(b.promise,g._value)})):g._deferreds.push(b)}function v(g,b){try{if(b===g)throw TypeError("A promise cannot be resolved with itself.");if(b&&(typeof b=="object"||typeof b=="function")){var A=b.then;if(b instanceof p)return g._state=3,g._value=b,void O(g);if(typeof A=="function")return void i((P=A,S=b,function(){P.apply(S,arguments)}),g)}g._state=1,g._value=b,O(g)}catch(d){x(g,d)}var P,S}function x(g,b){g._state=2,g._value=b,O(g)}function O(g){g._state===2&&g._deferreds.length===0&&p._immediateFn(function(){g._handled||p._unhandledRejectionFn(g._value)});for(var b=0,A=g._deferreds.length;b<A;b++)y(g,g._deferreds[b]);g._deferreds=null}function k(g,b,A){this.onFulfilled=typeof g=="function"?g:null,this.onRejected=typeof b=="function"?b:null,this.promise=A}function i(g,b){var A=!1;try{g(function(P){A||(A=!0,v(b,P))},function(P){A||(A=!0,x(b,P))})}catch(P){if(A)return;A=!0,x(b,P)}}p.prototype.catch=function(g){return this.then(null,g)},p.prototype.then=function(g,b){var A=new this.constructor(l);return y(this,new k(g,b,A)),A},p.prototype.finally=o.a,p.all=function(g){return new p(function(b,A){if(!g||g.length===void 0)throw TypeError("Promise.all accepts an array");var P=Array.prototype.slice.call(g);if(P.length===0)return b([]);var S=P.length;function d(G,L){try{if(L&&(typeof L=="object"||typeof L=="function")){var s=L.then;if(typeof s=="function")return void s.call(L,function(j){d(G,j)},A)}P[G]=L,--S==0&&b(P)}catch(j){A(j)}}for(var N=0;N<P.length;N++)d(N,P[N])})},p.resolve=function(g){return g&&typeof g=="object"&&g.constructor===p?g:new p(function(b){b(g)})},p.reject=function(g){return new p(function(b,A){A(g)})},p.race=function(g){return new p(function(b,A){for(var P=0,S=g.length;P<S;P++)g[P].then(b,A)})},p._immediateFn=typeof f=="function"&&function(g){f(g)}||function(g){h(g,0)},p._unhandledRejectionFn=function(g){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",g)},n.a=p}).call(this,u(5).setImmediate)},function(a,n,u){n.a=function(f){var o=this.constructor;return this.then(function(h){return o.resolve(f()).then(function(){return h})},function(h){return o.resolve(f()).then(function(){return o.reject(h)})})}},function(a,n,u){function f(i){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(i)}u(4);var o,h,l,p,y,v,x,O=u(8),k=(h=function(i){return new Promise(function(g,b){i=p(i),(i=y(i)).beforeSend&&i.beforeSend();var A=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");A.open(i.method,i.url),A.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(i.headers).forEach(function(S){var d=i.headers[S];A.setRequestHeader(S,d)});var P=i.ratio;A.upload.addEventListener("progress",function(S){var d=Math.round(S.loaded/S.total*100),N=Math.ceil(d*P/100);i.progress(Math.min(N,100))},!1),A.addEventListener("progress",function(S){var d=Math.round(S.loaded/S.total*100),N=Math.ceil(d*(100-P)/100)+P;i.progress(Math.min(N,100))},!1),A.onreadystatechange=function(){if(A.readyState===4){var S=A.response;try{S=JSON.parse(S)}catch{}var d=O.parseHeaders(A.getAllResponseHeaders()),N={body:S,code:A.status,headers:d};x(A.status)?g(N):b(N)}},A.send(i.data)})},l=function(i){return i.method="POST",h(i)},p=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(i.url&&typeof i.url!="string")throw Error("Url must be a string");if(i.url=i.url||"",i.method&&typeof i.method!="string")throw Error("`method` must be a string or null");if(i.method=i.method?i.method.toUpperCase():"GET",i.headers&&f(i.headers)!=="object")throw Error("`headers` must be an object or null");if(i.headers=i.headers||{},i.type&&(typeof i.type!="string"||!Object.values(o).includes(i.type)))throw Error("`type` must be taken from module's «contentType» library");if(i.progress&&typeof i.progress!="function")throw Error("`progress` must be a function or null");if(i.progress=i.progress||function(g){},i.beforeSend=i.beforeSend||function(g){},i.ratio&&typeof i.ratio!="number")throw Error("`ratio` must be a number");if(i.ratio<0||i.ratio>100)throw Error("`ratio` must be in a 0-100 interval");if(i.ratio=i.ratio||90,i.accept&&typeof i.accept!="string")throw Error("`accept` must be a string with a list of allowed mime-types");if(i.accept=i.accept||"*/*",i.multiple&&typeof i.multiple!="boolean")throw Error("`multiple` must be a true or false");if(i.multiple=i.multiple||!1,i.fieldName&&typeof i.fieldName!="string")throw Error("`fieldName` must be a string");return i.fieldName=i.fieldName||"files",i},y=function(i){switch(i.method){case"GET":var g=v(i.data,o.URLENCODED);delete i.data,i.url=/\?/.test(i.url)?i.url+"&"+g:i.url+"?"+g;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var b=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||o.JSON}(i);(O.isFormData(i.data)||O.isFormElement(i.data))&&(b=o.FORM),i.data=v(i.data,b),b!==k.contentType.FORM&&(i.headers["content-type"]=b)}return i},v=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case o.URLENCODED:return O.urlEncode(i);case o.JSON:return O.jsonEncode(i);case o.FORM:return O.formEncode(i);default:return i}},x=function(i){return i>=200&&i<300},{contentType:o={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:h,get:function(i){return i.method="GET",h(i)},post:l,transport:function(i){return i=p(i),O.selectFiles(i).then(function(g){for(var b=new FormData,A=0;A<g.length;A++)b.append(i.fieldName,g[A],g[A].name);O.isObject(i.data)&&Object.keys(i.data).forEach(function(S){var d=i.data[S];b.append(S,d)});var P=i.beforeSend;return i.beforeSend=function(){return P(g)},i.data=b,l(i)})},selectFiles:function(i){return delete(i=p(i)).beforeSend,O.selectFiles(i)}});a.exports=k},function(a,n,u){u.r(n);var f=u(1);window.Promise=window.Promise||f.a},function(a,n,u){(function(f){var o=f!==void 0&&f||typeof self<"u"&&self||window,h=Function.prototype.apply;function l(p,y){this._id=p,this._clearFn=y}n.setTimeout=function(){return new l(h.call(setTimeout,o,arguments),clearTimeout)},n.setInterval=function(){return new l(h.call(setInterval,o,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(p){p&&p.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(o,this._id)},n.enroll=function(p,y){clearTimeout(p._idleTimeoutId),p._idleTimeout=y},n.unenroll=function(p){clearTimeout(p._idleTimeoutId),p._idleTimeout=-1},n._unrefActive=n.active=function(p){clearTimeout(p._idleTimeoutId);var y=p._idleTimeout;y>=0&&(p._idleTimeoutId=setTimeout(function(){p._onTimeout&&p._onTimeout()},y))},u(6),n.setImmediate=typeof self<"u"&&self.setImmediate||f!==void 0&&f.setImmediate||this&&this.setImmediate,n.clearImmediate=typeof self<"u"&&self.clearImmediate||f!==void 0&&f.clearImmediate||this&&this.clearImmediate}).call(this,u(0))},function(a,n,u){(function(f,o){(function(h,l){if(!h.setImmediate){var p,y,v,x,O,k=1,i={},g=!1,b=h.document,A=Object.getPrototypeOf&&Object.getPrototypeOf(h);A=A&&A.setTimeout?A:h,{}.toString.call(h.process)==="[object process]"?p=function(d){o.nextTick(function(){S(d)})}:function(){if(h.postMessage&&!h.importScripts){var d=!0,N=h.onmessage;return h.onmessage=function(){d=!1},h.postMessage("","*"),h.onmessage=N,d}}()?(x="setImmediate$"+Math.random()+"$",O=function(d){d.source===h&&typeof d.data=="string"&&d.data.indexOf(x)===0&&S(+d.data.slice(x.length))},h.addEventListener?h.addEventListener("message",O,!1):h.attachEvent("onmessage",O),p=function(d){h.postMessage(x+d,"*")}):h.MessageChannel?((v=new MessageChannel).port1.onmessage=function(d){S(d.data)},p=function(d){v.port2.postMessage(d)}):b&&("onreadystatechange"in b.createElement("script"))?(y=b.documentElement,p=function(d){var N=b.createElement("script");N.onreadystatechange=function(){S(d),N.onreadystatechange=null,y.removeChild(N),N=null},y.appendChild(N)}):p=function(d){setTimeout(S,0,d)},A.setImmediate=function(d){typeof d!="function"&&(d=Function(""+d));for(var N=Array(arguments.length-1),G=0;G<N.length;G++)N[G]=arguments[G+1];var L={callback:d,args:N};return i[k]=L,p(k),k++},A.clearImmediate=P}function P(d){delete i[d]}function S(d){if(g)setTimeout(S,0,d);else{var N=i[d];if(N){g=!0;try{(function(G){var{callback:L,args:s}=G;switch(s.length){case 0:L();break;case 1:L(s[0]);break;case 2:L(s[0],s[1]);break;case 3:L(s[0],s[1],s[2]);break;default:L.apply(l,s)}})(N)}finally{P(d),g=!1}}}}})(typeof self>"u"?f===void 0?this:f:self)}).call(this,u(0),u(7))},function(a,n){var u,f,o=a.exports={};function h(){throw Error("setTimeout has not been defined")}function l(){throw Error("clearTimeout has not been defined")}function p(A){if(u===setTimeout)return setTimeout(A,0);if((u===h||!u)&&setTimeout)return u=setTimeout,setTimeout(A,0);try{return u(A,0)}catch{try{return u.call(null,A,0)}catch{return u.call(this,A,0)}}}(function(){try{u=typeof setTimeout=="function"?setTimeout:h}catch{u=h}try{f=typeof clearTimeout=="function"?clearTimeout:l}catch{f=l}})();var y,v=[],x=!1,O=-1;function k(){x&&y&&(x=!1,y.length?v=y.concat(v):O=-1,v.length&&i())}function i(){if(!x){var A=p(k);x=!0;for(var P=v.length;P;){for(y=v,v=[];++O<P;)y&&y[O].run();O=-1,P=v.length}y=null,x=!1,function(S){if(f===clearTimeout)return clearTimeout(S);if((f===l||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(S);try{f(S)}catch{try{return f.call(null,S)}catch{return f.call(this,S)}}}(A)}}function g(A,P){this.fun=A,this.array=P}function b(){}o.nextTick=function(A){var P=Array(arguments.length-1);if(arguments.length>1)for(var S=1;S<arguments.length;S++)P[S-1]=arguments[S];v.push(new g(A,P)),v.length!==1||x||p(i)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=b,o.addListener=b,o.once=b,o.off=b,o.removeListener=b,o.removeAllListeners=b,o.emit=b,o.prependListener=b,o.prependOnceListener=b,o.listeners=function(A){return[]},o.binding=function(A){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(A){throw Error("process.chdir is not supported")},o.umask=function(){return 0}},function(a,n,u){function f(h,l){for(var p=0;p<l.length;p++){var y=l[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}var o=u(9);a.exports=function(){function h(){(function(v,x){if(!(v instanceof x))throw TypeError("Cannot call a class as a function")})(this,h)}var l,p,y;return l=h,y=[{key:"urlEncode",value:function(v){return o(v)}},{key:"jsonEncode",value:function(v){return JSON.stringify(v)}},{key:"formEncode",value:function(v){if(this.isFormData(v))return v;if(this.isFormElement(v))return new FormData(v);if(this.isObject(v)){var x=new FormData;return Object.keys(v).forEach(function(O){var k=v[O];x.append(O,k)}),x}throw Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(v){return Object.prototype.toString.call(v)==="[object Object]"}},{key:"isFormData",value:function(v){return v instanceof FormData}},{key:"isFormElement",value:function(v){return v instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(x,O){var k=document.createElement("INPUT");k.type="file",v.multiple&&k.setAttribute("multiple","multiple"),v.accept&&k.setAttribute("accept",v.accept),k.style.display="none",document.body.appendChild(k),k.addEventListener("change",function(i){var g=i.target.files;x(g),document.body.removeChild(k)},!1),k.click()})}},{key:"parseHeaders",value:function(v){var x=v.trim().split(/[\r\n]+/),O={};return x.forEach(function(k){var i=k.split(": "),g=i.shift(),b=i.join(": ");g&&(O[g]=b)}),O}}],(p=null)&&f(l.prototype,p),y&&f(l,y),h}()},function(a,n){var u=function(o){return encodeURIComponent(o).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},f=function(o,h,l,p){return h=h||null,l=l||"&",p=p||null,o?function(y){for(var v=[],x=0;x<y.length;x++)y[x]&&v.push(y[x]);return v}(Object.keys(o).map(function(y){var v,x,O=y;if(p&&(O=p+"["+O+"]"),typeof o[y]=="object"&&o[y]!==null)v=f(o[y],null,l,O);else{h&&(x=O,O=!isNaN(parseFloat(x))&&isFinite(x)?h+Number(O):O);var k=o[y];k=(k=(k=(k=k===!0?"1":k)===!1?"0":k)===0?"0":k)||"",v=u(O)+"="+u(k)}return v})).join(l).replace(/[!'()*]/g,""):""};a.exports=f}])})})(sh);var $1=sh.exports,bh=Q1($1);class Oh{constructor({config:r,onUpload:c,onError:a}){this.config=r,this.onUpload=c,this.onError=a}uploadSelectedFile({onPreview:r}){let c;this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?c=bh.selectFiles({accept:this.config.types}).then((a)=>{r();let n=this.config.uploader.uploadByFile(a[0]);return m1(n)||console.warn("Custom uploader method uploadByFile should return a Promise"),n}):c=bh.transport({url:this.config.endpoint,accept:this.config.types,beforeSend:()=>r(),fieldName:this.config.field,headers:this.config.additionalRequestHeaders||{}}).then((a)=>a.body),c.then((a)=>{this.onUpload(a)}).catch((a)=>{let n=a.body,u=n&&n.message?n.message:this.config.errorMessage;this.onError(u)})}}function m1(r){return r&&typeof r.then=="function"}function Dr(r,c=null,a={}){let n=document.createElement(r);Array.isArray(c)?n.classList.add(...c):c&&n.classList.add(c);for(let u in a)n[u]=a[u];return n}function F1(r){let c=document.createRange(),a=window.getSelection();c.selectNodeContents(r),c.collapse(!1),a.removeAllRanges(),a.addRange(c)}function Zu(r){return Object.keys(r).length===0}function X1(r){return r===void 0?"":r.split(".").pop()}var T1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',Ju='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.3236 8.43554L9.49533 12.1908C9.13119 12.5505 8.93118 13.043 8.9393 13.5598C8.94741 14.0767 9.163 14.5757 9.53862 14.947C9.91424 15.3182 10.4191 15.5314 10.9422 15.5397C11.4653 15.5479 11.9637 15.3504 12.3279 14.9908L16.1562 11.2355C16.8845 10.5161 17.2845 9.53123 17.2682 8.4975C17.252 7.46376 16.8208 6.46583 16.0696 5.72324C15.3184 4.98066 14.3086 4.55425 13.2624 4.53782C12.2162 4.52138 11.2193 4.91627 10.4911 5.63562L6.66277 9.39093C5.57035 10.4699 4.97032 11.9473 4.99467 13.4979C5.01903 15.0485 5.66578 16.5454 6.79264 17.6592C7.9195 18.7731 9.43417 19.4127 11.0034 19.4374C12.5727 19.462 14.068 18.8697 15.1604 17.7907L18.9887 14.0354"/></svg>',V1=500;class Yu{constructor({data:r,config:c,api:a,readOnly:n}){this.api=a,this.readOnly=n,this.nodes={wrapper:null,button:null,title:null},this._data={file:{},title:""},this.config={endpoint:c.endpoint||"",field:c.field||"file",types:c.types||"*",buttonText:c.buttonText||"Select file to upload",errorMessage:c.errorMessage||"File upload failed",uploader:c.uploader||void 0,additionalRequestHeaders:c.additionalRequestHeaders||{}},r!==void 0&&!Zu(r)&&(this.data=r),this.uploader=new Oh({config:this.config,onUpload:(u)=>this.onUpload(u),onError:(u)=>this.uploadingFailed(u)}),this.enableFileUpload=this.enableFileUpload.bind(this)}static get toolbox(){return{icon:Ju,title:"Attachment"}}static get isReadOnlySupported(){return!0}get CSS(){return{baseClass:this.api.styles.block,apiButton:this.api.styles.button,loader:this.api.styles.loader,wrapper:"cdx-attaches",wrapperWithFile:"cdx-attaches--with-file",wrapperLoading:"cdx-attaches--loading",button:"cdx-attaches__button",title:"cdx-attaches__title",size:"cdx-attaches__size",downloadButton:"cdx-attaches__download-button",fileInfo:"cdx-attaches__file-info",fileIcon:"cdx-attaches__file-icon",fileIconBackground:"cdx-attaches__file-icon-background",fileIconLabel:"cdx-attaches__file-icon-label"}}get EXTENSIONS(){return{doc:"#1483E9",docx:"#1483E9",odt:"#1483E9",pdf:"#DB2F2F",rtf:"#744FDC",tex:"#5a5a5b",txt:"#5a5a5b",pptx:"#E35200",ppt:"#E35200",mp3:"#eab456",mp4:"#f676a6",xls:"#11AE3D",html:"#2988f0",htm:"#2988f0",png:"#AA2284",jpg:"#D13359",jpeg:"#D13359",gif:"#f6af76",zip:"#4f566f",rar:"#4f566f",exe:"#e26f6f",svg:"#bf5252",key:"#00B2FF",sketch:"#FFC700",ai:"#FB601D",psd:"#388ae5",dmg:"#e26f6f",json:"#2988f0",csv:"#11AE3D"}}validate(r){return!Zu(r.file)}save(r){if(this.pluginHasData()){let c=r.querySelector(`.${this.CSS.title}`);c&&Object.assign(this.data,{title:c.innerHTML})}return this.data}render(){let r=Dr("div",this.CSS.baseClass);return this.nodes.wrapper=Dr("div",this.CSS.wrapper),this.pluginHasData()?this.showFileData():this.prepareUploadButton(),r.appendChild(this.nodes.wrapper),r}prepareUploadButton(){this.nodes.button=Dr("div",[this.CSS.apiButton,this.CSS.button]),this.nodes.button.innerHTML=`${Ju} ${this.config.buttonText}`,this.readOnly||this.nodes.button.addEventListener("click",this.enableFileUpload),this.nodes.wrapper.appendChild(this.nodes.button)}appendCallback(){this.nodes.button.click()}pluginHasData(){return this.data.title!==""||Object.values(this.data.file).some((r)=>r!==void 0)}enableFileUpload(){this.uploader.uploadSelectedFile({onPreview:()=>{this.nodes.wrapper.classList.add(this.CSS.wrapperLoading,this.CSS.loader)}})}onUpload(r){let c=r;try{c.success&&c.file!==void 0&&!Zu(c.file)?(this.data={file:c.file,title:c.file.title||""},this.nodes.button.remove(),this.showFileData(),F1(this.nodes.title),this.removeLoader()):this.uploadingFailed(this.config.errorMessage)}catch(a){console.error("Attaches tool error:",a),this.uploadingFailed(this.config.errorMessage)}this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).dispatchChange()}appendFileIcon(r){let c=r.extension||X1(r.name),a=this.EXTENSIONS[c],u=Dr("div",this.CSS.fileIcon),f=Dr("div",this.CSS.fileIconBackground);if(a&&(f.style.backgroundColor=a),u.appendChild(f),c){let o=c;c.length>4&&(o=c.substring(0,4)+"…");let h=Dr("div",this.CSS.fileIconLabel,{textContent:o,title:c});a&&(h.style.backgroundColor=a),u.appendChild(h)}else f.innerHTML=Ju;this.nodes.wrapper.appendChild(u)}removeLoader(){setTimeout(()=>this.nodes.wrapper.classList.remove(this.CSS.wrapperLoading,this.CSS.loader),V1)}showFileData(){this.nodes.wrapper.classList.add(this.CSS.wrapperWithFile);let{file:r,title:c}=this.data;this.appendFileIcon(r);let a=Dr("div",this.CSS.fileInfo);if(this.nodes.title=Dr("div",this.CSS.title,{contentEditable:this.readOnly===!1}),this.nodes.title.dataset.placeholder=this.api.i18n.t("File title"),this.nodes.title.textContent=c||"",a.appendChild(this.nodes.title),r.size){let n,u,f=Dr("div",this.CSS.size);Math.log10(+r.size)>=6?(n="MiB",u=r.size/Math.pow(2,20)):(n="KiB",u=r.size/Math.pow(2,10)),f.textContent=u.toFixed(1),f.setAttribute("data-size",n),a.appendChild(f)}if(this.nodes.wrapper.appendChild(a),r.url!==void 0){let n=Dr("a",this.CSS.downloadButton,{innerHTML:T1,href:r.url,target:"_blank"});this.nodes.wrapper.appendChild(n)}}uploadingFailed(r){this.api.notifier.show({message:r,style:"error"}),this.removeLoader()}get data(){return this._data}set data({file:r,title:c}){this._data={file:r,title:c}}}(function(){try{if(typeof document<"u"){var r=document.createElement("style");r.appendChild(document.createTextNode(".ce-code__textarea{min-height:200px;font-family:Menlo,Monaco,Consolas,Courier New,monospace;color:#41314e;line-height:1.6em;font-size:12px;background:#f8f7fa;border:1px solid #f1f1f4;box-shadow:none;white-space:pre;word-wrap:normal;overflow-x:auto;resize:vertical}")),document.head.appendChild(r)}}catch(c){console.error("vite-plugin-css-injected-by-js",c)}})();function z1(r,c){let a="";for(;a!==`
`&&c>0;)c=c-1,a=r.substr(c,1);return a===`
`&&(c+=1),c}var q1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8L5 12L9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8L19 12L15 16"/></svg>';class xa{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}constructor({data:r,config:c,api:a,readOnly:n}){this.api=a,this.readOnly=n,this.placeholder=this.api.i18n.t(c.placeholder||xa.DEFAULT_PLACEHOLDER),this.CSS={baseClass:this.api.styles.block,input:this.api.styles.input,wrapper:"ce-code",textarea:"ce-code__textarea"},this.nodes={holder:null,textarea:null},this.data={code:r.code??""},this.nodes.holder=this.drawView()}render(){return this.nodes.holder}save(r){return{code:r.querySelector("textarea").value}}onPaste(r){let c=r.detail;if("data"in c){let a=c.data;this.data={code:a||""}}}get data(){return this._data}set data(r){this._data=r,this.nodes.textarea&&(this.nodes.textarea.value=r.code)}static get toolbox(){return{icon:q1,title:"Code"}}static get DEFAULT_PLACEHOLDER(){return"Enter a code"}static get pasteConfig(){return{tags:["pre"]}}static get sanitize(){return{code:!0}}tabHandler(r){r.stopPropagation(),r.preventDefault();let{target:c,shiftKey:a}=r,n=c.selectionStart,u=c.value,f="  ",o;if(!a)o=n+f.length,c.value=u.substring(0,n)+f+u.substring(n);else{let h=z1(u,n);if(u.substr(h,f.length)!==f)return;c.value=u.substring(0,h)+u.substring(h+f.length),o=n-f.length}c.setSelectionRange(o,o)}drawView(){let r=document.createElement("div"),c=document.createElement("textarea");return r.classList.add(this.CSS.baseClass,this.CSS.wrapper),c.classList.add(this.CSS.textarea,this.CSS.input),c.value=this.data.code,c.placeholder=this.placeholder,this.readOnly&&(c.disabled=!0),r.appendChild(c),c.addEventListener("keydown",(a)=>{switch(a.code){case"Tab":this.tabHandler(a);break}}),this.nodes.textarea=c,r}}(function(){try{if(typeof document<"u"){var r=document.createElement("style");r.appendChild(document.createTextNode(".ce-rawtool__textarea{min-height:200px;resize:vertical;border-radius:8px;border:0;background-color:#1e2128;font-family:Menlo,Monaco,Consolas,Courier New,monospace;font-size:12px;line-height:1.6;letter-spacing:-.2px;color:#a1a7b6;overscroll-behavior:contain}")),document.head.appendChild(r)}}catch(c){console.error("vite-plugin-css-injected-by-js",c)}})();var w1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16.6954 5C17.912 5 18.8468 6.07716 18.6755 7.28165L17.426 16.0659C17.3183 16.8229 16.7885 17.4522 16.061 17.6873L12.6151 18.8012C12.2152 18.9304 11.7848 18.9304 11.3849 18.8012L7.93898 17.6873C7.21148 17.4522 6.6817 16.8229 6.57403 16.0659L5.32454 7.28165C5.15322 6.07716 6.088 5 7.30461 5H16.6954Z"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8.4H9L9.42857 11.7939H14.5714L14.3571 13.2788L14.1429 14.7636L12 15.4L9.85714 14.7636L9.77143 14.3394"/></svg>';class ba{static get isReadOnlySupported(){return!0}static get displayInToolbox(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:w1,title:"Raw HTML"}}constructor({data:r,config:c,api:a,readOnly:n}){this.api=a,this.readOnly=n,this.placeholder=a.i18n.t(c.placeholder||ba.DEFAULT_PLACEHOLDER),this.CSS={baseClass:this.api.styles.block,input:this.api.styles.input,wrapper:"ce-rawtool",textarea:"ce-rawtool__textarea"},this.data={html:r.html||""},this.textarea=null,this.resizeDebounce=null}render(){let r=document.createElement("div");return this.textarea=document.createElement("textarea"),r.classList.add(this.CSS.baseClass,this.CSS.wrapper),this.textarea.classList.add(this.CSS.textarea,this.CSS.input),this.textarea.textContent=this.data.html,this.textarea.placeholder=this.placeholder,this.readOnly?this.textarea.disabled=!0:this.textarea.addEventListener("input",()=>{this.onInput()}),r.appendChild(this.textarea),setTimeout(()=>{this.resize()},100),r}save(r){return{html:r.querySelector("textarea").value}}static get DEFAULT_PLACEHOLDER(){return"Enter HTML code"}static get sanitize(){return{html:!0}}onInput(){this.resizeDebounce&&clearTimeout(this.resizeDebounce),this.resizeDebounce=setTimeout(()=>{this.resize()},200)}resize(){this.textarea.style.height="auto",this.textarea.style.height=this.textarea.scrollHeight+"px"}}(function(){var r;try{if(typeof document<"u"){var c=document.createElement("style");c.nonce=(r=document.head.querySelector("meta[property=csp-nonce]"))==null?void 0:r.content,c.appendChild(document.createTextNode(".tc-wrap{--color-background:#f9f9fb;--color-text-secondary:#7b7e89;--color-border:#e8e8eb;--cell-size:34px;--toolbox-icon-size:18px;--toolbox-padding:6px;--toolbox-aiming-field-size:calc(var(--toolbox-icon-size) + var(--toolbox-padding)*2);border-left:0;position:relative;height:100%;width:100%;margin-top:var(--toolbox-icon-size);box-sizing:border-box;display:grid;grid-template-columns:calc(100% - var(--cell-size)) var(--cell-size);z-index:0}.tc-wrap--readonly{grid-template-columns:100% var(--cell-size)}.tc-wrap svg{vertical-align:top}@media print{.tc-wrap{border-left-color:var(--color-border);border-left-style:solid;border-left-width:1px;grid-template-columns:100% var(--cell-size)}}@media print{.tc-wrap .tc-row:after{display:none}}.tc-table{position:relative;width:100%;height:100%;display:grid;font-size:14px;border-top:1px solid var(--color-border);line-height:1.4}.tc-table:after{width:calc(var(--cell-size));height:100%;left:calc(var(--cell-size)*-1);top:0}.tc-table:after,.tc-table:before{position:absolute;content:\"\"}.tc-table:before{width:100%;height:var(--toolbox-aiming-field-size);top:calc(var(--toolbox-aiming-field-size)*-1);left:0}.tc-table--heading .tc-row:first-child{font-weight:600;border-bottom:2px solid var(--color-border);position:sticky;top:0;z-index:2;background:var(--color-background)}.tc-table--heading .tc-row:first-child [contenteditable]:empty:before{content:attr(heading);color:var(--color-text-secondary)}.tc-table--heading .tc-row:first-child:after{bottom:-2px;border-bottom:2px solid var(--color-border)}.tc-add-column,.tc-add-row{display:flex;color:var(--color-text-secondary)}@media print{.tc-add{display:none}}.tc-add-column{display:grid;border-top:1px solid var(--color-border);grid-template-columns:var(--cell-size);grid-auto-rows:var(--cell-size);place-items:center}.tc-add-column svg{padding:5px;position:sticky;top:0;background-color:var(--color-background)}.tc-add-column--disabled{visibility:hidden}@media print{.tc-add-column{display:none}}.tc-add-row{height:var(--cell-size);align-items:center;padding-left:4px;position:relative}.tc-add-row--disabled{display:none}.tc-add-row:before{content:\"\";position:absolute;right:calc(var(--cell-size)*-1);width:var(--cell-size);height:100%}@media print{.tc-add-row{display:none}}.tc-add-column,.tc-add-row{transition:0s;cursor:pointer;will-change:background-color}.tc-add-column:hover,.tc-add-row:hover{transition:background-color .1s ease;background-color:var(--color-background)}.tc-add-row{margin-top:1px}.tc-add-row:hover:before{transition:.1s;background-color:var(--color-background)}.tc-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(10px,1fr));position:relative;border-bottom:1px solid var(--color-border)}.tc-row:after{content:\"\";pointer-events:none;position:absolute;width:var(--cell-size);height:100%;bottom:-1px;right:calc(var(--cell-size)*-1);border-bottom:1px solid var(--color-border)}.tc-row--selected{background:var(--color-background)}.tc-row--selected:after{background:var(--color-background)}.tc-cell{border-right:1px solid var(--color-border);padding:6px 12px;overflow:hidden;outline:none;line-break:normal}.tc-cell--selected{background:var(--color-background)}.tc-wrap--readonly .tc-row:after{display:none}.tc-toolbox{--toolbox-padding:6px;--popover-margin:30px;--toggler-click-zone-size:30px;--toggler-dots-color:#7b7e89;--toggler-dots-color-hovered:#1d202b;position:absolute;cursor:pointer;z-index:1;opacity:0;transition:opacity .1s;will-change:left,opacity}.tc-toolbox--column{top:calc(var(--toggler-click-zone-size)*-1);transform:translate(calc(var(--toggler-click-zone-size)*-1/2));will-change:left,opacity}.tc-toolbox--row{left:calc(var(--popover-margin)*-1);transform:translateY(calc(var(--toggler-click-zone-size)*-1/2));margin-top:-1px;will-change:top,opacity}.tc-toolbox--showed{opacity:1}.tc-toolbox .tc-popover{position:absolute;top:0;left:var(--popover-margin)}.tc-toolbox__toggler{display:flex;align-items:center;justify-content:center;width:var(--toggler-click-zone-size);height:var(--toggler-click-zone-size);color:var(--toggler-dots-color);opacity:0;transition:opacity .15s ease;will-change:opacity}.tc-toolbox__toggler:hover{color:var(--toggler-dots-color-hovered)}.tc-toolbox__toggler svg{fill:currentColor}.tc-wrap:hover .tc-toolbox__toggler{opacity:1}.tc-settings .cdx-settings-button{width:50%;margin:0}.tc-popover{--color-border:#eaeaea;--color-background:#fff;--color-background-hover:rgba(232,232,235,.49);--color-background-confirm:#e24a4a;--color-background-confirm-hover:#d54040;--color-text-confirm:#fff;background:var(--color-background);border:1px solid var(--color-border);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;padding:6px;display:none;will-change:opacity,transform}.tc-popover--opened{display:block;animation:menuShowing .1s cubic-bezier(.215,.61,.355,1) forwards}.tc-popover__item{display:flex;align-items:center;padding:2px 14px 2px 2px;border-radius:5px;cursor:pointer;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none}.tc-popover__item:hover{background:var(--color-background-hover)}.tc-popover__item:not(:last-of-type){margin-bottom:2px}.tc-popover__item-icon{display:inline-flex;width:26px;height:26px;align-items:center;justify-content:center;background:var(--color-background);border-radius:5px;border:1px solid var(--color-border);margin-right:8px}.tc-popover__item-label{line-height:22px;font-size:14px;font-weight:500}.tc-popover__item--confirm{background:var(--color-background-confirm);color:var(--color-text-confirm)}.tc-popover__item--confirm:hover{background-color:var(--color-background-confirm-hover)}.tc-popover__item--confirm .tc-popover__item-icon{background:var(--color-background-confirm);border-color:#0000001a}.tc-popover__item--confirm .tc-popover__item-icon svg{transition:transform .2s ease-in;transform:rotate(90deg) scale(1.2)}.tc-popover__item--hidden{display:none}@keyframes menuShowing{0%{opacity:0;transform:translateY(-8px) scale(.9)}70%{opacity:1;transform:translateY(2px)}to{transform:translateY(0)}}")),document.head.appendChild(c)}}catch(a){console.error("vite-plugin-css-injected-by-js",a)}})();function Lr(r,c,a={}){let n=document.createElement(r);Array.isArray(c)?n.classList.add(...c):c&&n.classList.add(c);for(let u in a)Object.prototype.hasOwnProperty.call(a,u)&&(n[u]=a[u]);return n}function Lh(r){let c=r.getBoundingClientRect();return{y1:Math.floor(c.top+window.pageYOffset),x1:Math.floor(c.left+window.pageXOffset),x2:Math.floor(c.right+window.pageXOffset),y2:Math.floor(c.bottom+window.pageYOffset)}}function Ah(r,c){let a=Lh(r),n=Lh(c);return{fromTopBorder:n.y1-a.y1,fromLeftBorder:n.x1-a.x1,fromRightBorder:a.x2-n.x2,fromBottomBorder:a.y2-n.y2}}function E1(r,c){let a=r.getBoundingClientRect(),{width:n,height:u,x:f,y:o}=a,{clientX:h,clientY:l}=c;return{width:n,height:u,x:h-f,y:l-o}}function Ph(r,c){return c.parentNode.insertBefore(r,c)}function Sh(r,c=!0){let a=document.createRange(),n=window.getSelection();a.selectNodeContents(r),a.collapse(c),n.removeAllRanges(),n.addRange(a)}class ir{constructor({items:r}){this.items=r,this.wrapper=void 0,this.itemEls=[]}static get CSS(){return{popover:"tc-popover",popoverOpened:"tc-popover--opened",item:"tc-popover__item",itemHidden:"tc-popover__item--hidden",itemConfirmState:"tc-popover__item--confirm",itemIcon:"tc-popover__item-icon",itemLabel:"tc-popover__item-label"}}render(){return this.wrapper=Lr("div",ir.CSS.popover),this.items.forEach((r,c)=>{let a=Lr("div",ir.CSS.item),n=Lr("div",ir.CSS.itemIcon,{innerHTML:r.icon}),u=Lr("div",ir.CSS.itemLabel,{textContent:r.label});a.dataset.index=c,a.appendChild(n),a.appendChild(u),this.wrapper.appendChild(a),this.itemEls.push(a)}),this.wrapper.addEventListener("click",(r)=>{this.popoverClicked(r)}),this.wrapper}popoverClicked(r){let c=r.target.closest(`.${ir.CSS.item}`);if(!c)return;let a=c.dataset.index,n=this.items[a];if(n.confirmationRequired&&!this.hasConfirmationState(c)){this.setConfirmationState(c);return}n.onClick()}setConfirmationState(r){r.classList.add(ir.CSS.itemConfirmState)}clearConfirmationState(r){r.classList.remove(ir.CSS.itemConfirmState)}hasConfirmationState(r){return r.classList.contains(ir.CSS.itemConfirmState)}get opened(){return this.wrapper.classList.contains(ir.CSS.popoverOpened)}open(){this.items.forEach((r,c)=>{typeof r.hideIf=="function"&&this.itemEls[c].classList.toggle(ir.CSS.itemHidden,r.hideIf())}),this.wrapper.classList.add(ir.CSS.popoverOpened)}close(){this.wrapper.classList.remove(ir.CSS.popoverOpened),this.itemEls.forEach((r)=>{this.clearConfirmationState(r)})}}var t1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L10 12M10 12L7 15M10 12H4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L14 12M14 12L17 15M14 12H20"/></svg>',dh='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',e1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 9.16666L18.2167 12.5M18.2167 12.5L14.8833 15.8333M18.2167 12.5H10.05C9.16594 12.5 8.31809 12.1488 7.69297 11.5237C7.06785 10.8986 6.71666 10.0507 6.71666 9.16666"/></svg>',rl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.9167 14.9167L11.5833 18.25M11.5833 18.25L8.25 14.9167M11.5833 18.25L11.5833 10.0833C11.5833 9.19928 11.9345 8.35143 12.5596 7.72631C13.1848 7.10119 14.0326 6.75 14.9167 6.75"/></svg>',cl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.13333 14.9167L12.4667 18.25M12.4667 18.25L15.8 14.9167M12.4667 18.25L12.4667 10.0833C12.4667 9.19928 12.1155 8.35143 11.4904 7.72631C10.8652 7.10119 10.0174 6.75 9.13333 6.75"/></svg>',al='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 15.8333L18.2167 12.5M18.2167 12.5L14.8833 9.16667M18.2167 12.5L10.05 12.5C9.16595 12.5 8.31811 12.8512 7.69299 13.4763C7.06787 14.1014 6.71667 14.9493 6.71667 15.8333"/></svg>',nl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.41 9.66H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 9.66H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.31 14.36H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 14.36H14.59"/></svg>',jh='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',ul='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>',fl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',ol='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M14 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><path stroke="currentColor" stroke-width="2" d="M5 14H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',hl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>';class Qr{constructor({api:r,items:c,onOpen:a,onClose:n,cssModifier:u=""}){this.api=r,this.items=c,this.onOpen=a,this.onClose=n,this.cssModifier=u,this.popover=null,this.wrapper=this.createToolbox()}static get CSS(){return{toolbox:"tc-toolbox",toolboxShowed:"tc-toolbox--showed",toggler:"tc-toolbox__toggler"}}get element(){return this.wrapper}createToolbox(){let r=Lr("div",[Qr.CSS.toolbox,this.cssModifier?`${Qr.CSS.toolbox}--${this.cssModifier}`:""]);r.dataset.mutationFree="true";let c=this.createPopover(),a=this.createToggler();return r.appendChild(a),r.appendChild(c),r}createToggler(){let r=Lr("div",Qr.CSS.toggler,{innerHTML:nl});return r.addEventListener("click",()=>{this.togglerClicked()}),r}createPopover(){return this.popover=new ir({items:this.items}),this.popover.render()}togglerClicked(){this.popover.opened?(this.popover.close(),this.onClose()):(this.popover.open(),this.onOpen())}show(r){let c=r();Object.entries(c).forEach(([a,n])=>{this.wrapper.style[a]=n}),this.wrapper.classList.add(Qr.CSS.toolboxShowed)}hide(){this.popover.close(),this.wrapper.classList.remove(Qr.CSS.toolboxShowed)}}function pl(r,c){let a=0;return function(...n){let u=new Date().getTime();if(!(u-a<r))return a=u,c(...n)}}var Q={wrapper:"tc-wrap",wrapperReadOnly:"tc-wrap--readonly",table:"tc-table",row:"tc-row",withHeadings:"tc-table--heading",rowSelected:"tc-row--selected",cell:"tc-cell",cellSelected:"tc-cell--selected",addRow:"tc-add-row",addRowDisabled:"tc-add-row--disabled",addColumn:"tc-add-column",addColumnDisabled:"tc-add-column--disabled"};class Uh{constructor(r,c,a,n){this.readOnly=r,this.api=c,this.data=a,this.config=n,this.wrapper=null,this.table=null,this.toolboxColumn=this.createColumnToolbox(),this.toolboxRow=this.createRowToolbox(),this.createTableWrapper(),this.hoveredRow=0,this.hoveredColumn=0,this.selectedRow=0,this.selectedColumn=0,this.tunes={withHeadings:!1},this.resize(),this.fill(),this.focusedCell={row:0,column:0},this.documentClicked=(u)=>{let f=u.target.closest(`.${Q.table}`)!==null,o=u.target.closest(`.${Q.wrapper}`)===null;(f||o)&&this.hideToolboxes();let h=u.target.closest(`.${Q.addRow}`),l=u.target.closest(`.${Q.addColumn}`);h&&h.parentNode===this.wrapper?(this.addRow(void 0,!0),this.hideToolboxes()):l&&l.parentNode===this.wrapper&&(this.addColumn(void 0,!0),this.hideToolboxes())},this.readOnly||this.bindEvents()}getWrapper(){return this.wrapper}bindEvents(){document.addEventListener("click",this.documentClicked),this.table.addEventListener("mousemove",pl(150,(r)=>this.onMouseMoveInTable(r)),{passive:!0}),this.table.onkeypress=(r)=>this.onKeyPressListener(r),this.table.addEventListener("keydown",(r)=>this.onKeyDownListener(r)),this.table.addEventListener("focusin",(r)=>this.focusInTableListener(r))}createColumnToolbox(){return new Qr({api:this.api,cssModifier:"column",items:[{label:this.api.i18n.t("Add column to left"),icon:rl,hideIf:()=>this.numberOfColumns===this.config.maxcols,onClick:()=>{this.addColumn(this.selectedColumn,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add column to right"),icon:cl,hideIf:()=>this.numberOfColumns===this.config.maxcols,onClick:()=>{this.addColumn(this.selectedColumn+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete column"),icon:dh,hideIf:()=>this.numberOfColumns===1,confirmationRequired:!0,onClick:()=>{this.deleteColumn(this.selectedColumn),this.hideToolboxes()}}],onOpen:()=>{this.selectColumn(this.hoveredColumn),this.hideRowToolbox()},onClose:()=>{this.unselectColumn()}})}createRowToolbox(){return new Qr({api:this.api,cssModifier:"row",items:[{label:this.api.i18n.t("Add row above"),icon:al,hideIf:()=>this.numberOfRows===this.config.maxrows,onClick:()=>{this.addRow(this.selectedRow,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add row below"),icon:e1,hideIf:()=>this.numberOfRows===this.config.maxrows,onClick:()=>{this.addRow(this.selectedRow+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete row"),icon:dh,hideIf:()=>this.numberOfRows===1,confirmationRequired:!0,onClick:()=>{this.deleteRow(this.selectedRow),this.hideToolboxes()}}],onOpen:()=>{this.selectRow(this.hoveredRow),this.hideColumnToolbox()},onClose:()=>{this.unselectRow()}})}moveCursorToNextRow(){this.focusedCell.row!==this.numberOfRows?(this.focusedCell.row+=1,this.focusCell(this.focusedCell)):(this.addRow(),this.focusedCell.row+=1,this.focusCell(this.focusedCell),this.updateToolboxesPosition(0,0))}getCell(r,c){return this.table.querySelectorAll(`.${Q.row}:nth-child(${r}) .${Q.cell}`)[c-1]}getRow(r){return this.table.querySelector(`.${Q.row}:nth-child(${r})`)}getRowByCell(r){return r.parentElement}getRowFirstCell(r){return r.querySelector(`.${Q.cell}:first-child`)}setCellContent(r,c,a){let n=this.getCell(r,c);n.innerHTML=a}addColumn(r=-1,c=!1){var a;let n=this.numberOfColumns;if(this.config&&this.config.maxcols&&this.numberOfColumns>=this.config.maxcols)return;for(let f=1;f<=this.numberOfRows;f++){let o,h=this.createCell();if(r>0&&r<=n?(o=this.getCell(f,r),Ph(h,o)):o=this.getRow(f).appendChild(h),f===1){let l=this.getCell(f,r>0?r:n+1);l&&c&&Sh(l)}}let u=this.wrapper.querySelector(`.${Q.addColumn}`);(a=this.config)!=null&&a.maxcols&&this.numberOfColumns>this.config.maxcols-1&&u&&u.classList.add(Q.addColumnDisabled),this.addHeadingAttrToFirstRow()}addRow(r=-1,c=!1){let a,n=Lr("div",Q.row);this.tunes.withHeadings&&this.removeHeadingAttrFromFirstRow();let u=this.numberOfColumns;if(this.config&&this.config.maxrows&&this.numberOfRows>=this.config.maxrows&&o)return;if(r>0&&r<=this.numberOfRows){let h=this.getRow(r);a=Ph(n,h)}else a=this.table.appendChild(n);this.fillRow(a,u),this.tunes.withHeadings&&this.addHeadingAttrToFirstRow();let f=this.getRowFirstCell(a);f&&c&&Sh(f);let o=this.wrapper.querySelector(`.${Q.addRow}`);return this.config&&this.config.maxrows&&this.numberOfRows>=this.config.maxrows&&o&&o.classList.add(Q.addRowDisabled),a}deleteColumn(r){for(let a=1;a<=this.numberOfRows;a++){let n=this.getCell(a,r);if(!n)return;n.remove()}let c=this.wrapper.querySelector(`.${Q.addColumn}`);c&&c.classList.remove(Q.addColumnDisabled)}deleteRow(r){this.getRow(r).remove();let c=this.wrapper.querySelector(`.${Q.addRow}`);c&&c.classList.remove(Q.addRowDisabled),this.addHeadingAttrToFirstRow()}createTableWrapper(){if(this.wrapper=Lr("div",Q.wrapper),this.table=Lr("div",Q.table),this.readOnly&&this.wrapper.classList.add(Q.wrapperReadOnly),this.wrapper.appendChild(this.toolboxRow.element),this.wrapper.appendChild(this.toolboxColumn.element),this.wrapper.appendChild(this.table),!this.readOnly){let r=Lr("div",Q.addColumn,{innerHTML:jh}),c=Lr("div",Q.addRow,{innerHTML:jh});this.wrapper.appendChild(r),this.wrapper.appendChild(c)}}computeInitialSize(){let r=this.data&&this.data.content,c=Array.isArray(r),a=c?r.length:!1,n=c?r.length:void 0,u=a?r[0].length:void 0,f=Number.parseInt(this.config&&this.config.rows),o=Number.parseInt(this.config&&this.config.cols),h=!isNaN(f)&&f>0?f:void 0,l=!isNaN(o)&&o>0?o:void 0;return{rows:n||h||2,cols:u||l||2}}resize(){let{rows:r,cols:c}=this.computeInitialSize();for(let a=0;a<r;a++)this.addRow();for(let a=0;a<c;a++)this.addColumn()}fill(){let r=this.data;if(r&&r.content)for(let c=0;c<r.content.length;c++)for(let a=0;a<r.content[c].length;a++)this.setCellContent(c+1,a+1,r.content[c][a])}fillRow(r,c){for(let a=1;a<=c;a++){let n=this.createCell();r.appendChild(n)}}createCell(){return Lr("div",Q.cell,{contentEditable:!this.readOnly})}get numberOfRows(){return this.table.childElementCount}get numberOfColumns(){return this.numberOfRows?this.table.querySelectorAll(`.${Q.row}:first-child .${Q.cell}`).length:0}get isColumnMenuShowing(){return this.selectedColumn!==0}get isRowMenuShowing(){return this.selectedRow!==0}onMouseMoveInTable(r){let{row:c,column:a}=this.getHoveredCell(r);this.hoveredColumn=a,this.hoveredRow=c,this.updateToolboxesPosition()}onKeyPressListener(r){if(r.key==="Enter"){if(r.shiftKey)return!0;this.moveCursorToNextRow()}return r.key!=="Enter"}onKeyDownListener(r){r.key==="Tab"&&r.stopPropagation()}focusInTableListener(r){let c=r.target,a=this.getRowByCell(c);this.focusedCell={row:Array.from(this.table.querySelectorAll(`.${Q.row}`)).indexOf(a)+1,column:Array.from(a.querySelectorAll(`.${Q.cell}`)).indexOf(c)+1}}hideToolboxes(){this.hideRowToolbox(),this.hideColumnToolbox(),this.updateToolboxesPosition()}hideRowToolbox(){this.unselectRow(),this.toolboxRow.hide()}hideColumnToolbox(){this.unselectColumn(),this.toolboxColumn.hide()}focusCell(){this.focusedCellElem.focus()}get focusedCellElem(){let{row:r,column:c}=this.focusedCell;return this.getCell(r,c)}updateToolboxesPosition(r=this.hoveredRow,c=this.hoveredColumn){this.isColumnMenuShowing||c>0&&c<=this.numberOfColumns&&this.toolboxColumn.show(()=>({left:`calc((100% - var(--cell-size)) / (${this.numberOfColumns} * 2) * (1 + (${c} - 1) * 2))`})),this.isRowMenuShowing||r>0&&r<=this.numberOfRows&&this.toolboxRow.show(()=>{let a=this.getRow(r),{fromTopBorder:n}=Ah(this.table,a),{height:u}=a.getBoundingClientRect();return{top:`${Math.ceil(n+u/2)}px`}})}setHeadingsSetting(r){this.tunes.withHeadings=r,r?(this.table.classList.add(Q.withHeadings),this.addHeadingAttrToFirstRow()):(this.table.classList.remove(Q.withHeadings),this.removeHeadingAttrFromFirstRow())}addHeadingAttrToFirstRow(){for(let r=1;r<=this.numberOfColumns;r++){let c=this.getCell(1,r);c&&c.setAttribute("heading",this.api.i18n.t("Heading"))}}removeHeadingAttrFromFirstRow(){for(let r=1;r<=this.numberOfColumns;r++){let c=this.getCell(1,r);c&&c.removeAttribute("heading")}}selectRow(r){let c=this.getRow(r);c&&(this.selectedRow=r,c.classList.add(Q.rowSelected))}unselectRow(){if(this.selectedRow<=0)return;let r=this.table.querySelector(`.${Q.rowSelected}`);r&&r.classList.remove(Q.rowSelected),this.selectedRow=0}selectColumn(r){for(let c=1;c<=this.numberOfRows;c++){let a=this.getCell(c,r);a&&a.classList.add(Q.cellSelected)}this.selectedColumn=r}unselectColumn(){if(this.selectedColumn<=0)return;let r=this.table.querySelectorAll(`.${Q.cellSelected}`);Array.from(r).forEach((c)=>{c.classList.remove(Q.cellSelected)}),this.selectedColumn=0}getHoveredCell(r){let c=this.hoveredRow,a=this.hoveredColumn,{width:n,height:u,x:f,y:o}=E1(this.table,r);return f>=0&&(a=this.binSearch(this.numberOfColumns,(h)=>this.getCell(1,h),({fromLeftBorder:h})=>f<h,({fromRightBorder:h})=>f>n-h)),o>=0&&(c=this.binSearch(this.numberOfRows,(h)=>this.getCell(h,1),({fromTopBorder:h})=>o<h,({fromBottomBorder:h})=>o>u-h)),{row:c||this.hoveredRow,column:a||this.hoveredColumn}}binSearch(r,c,a,n){let u=0,f=r+1,o=0,h;for(;u<f-1&&o<10;){h=Math.ceil((u+f)/2);let l=c(h),p=Ah(this.table,l);if(a(p))f=h;else if(n(p))u=h;else break;o++}return h}getData(){let r=[];for(let c=1;c<=this.numberOfRows;c++){let a=this.table.querySelector(`.${Q.row}:nth-child(${c})`),n=Array.from(a.querySelectorAll(`.${Q.cell}`));n.every((u)=>!u.textContent.trim())||r.push(n.map((u)=>u.innerHTML))}return r}destroy(){document.removeEventListener("click",this.documentClicked)}}class Hu{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}constructor({data:r,config:c,api:a,readOnly:n,block:u}){this.api=a,this.readOnly=n,this.config=c,this.data={withHeadings:this.getConfig("withHeadings",!1,r),stretched:this.getConfig("stretched",!1,r),content:r&&r.content?r.content:[]},this.table=null,this.block=u}static get toolbox(){return{icon:hl,title:"Table"}}render(){return this.table=new Uh(this.readOnly,this.api,this.data,this.config),this.container=Lr("div",this.api.styles.block),this.container.appendChild(this.table.getWrapper()),this.table.setHeadingsSetting(this.data.withHeadings),this.container}renderSettings(){return[{label:this.api.i18n.t("With headings"),icon:fl,isActive:this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!0,this.table.setHeadingsSetting(this.data.withHeadings)}},{label:this.api.i18n.t("Without headings"),icon:ol,isActive:!this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!1,this.table.setHeadingsSetting(this.data.withHeadings)}},{label:this.data.stretched?this.api.i18n.t("Collapse"):this.api.i18n.t("Stretch"),icon:this.data.stretched?t1:ul,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.stretched=!this.data.stretched,this.block.stretched=this.data.stretched}}]}save(){let r=this.table.getData();return{withHeadings:this.data.withHeadings,stretched:this.data.stretched,content:r}}destroy(){this.table.destroy()}getConfig(r,c=void 0,a=void 0){let n=this.data||a;return n?n[r]?n[r]:c:this.config&&this.config[r]?this.config[r]:c}static get pasteConfig(){return{tags:["TABLE","TR","TH","TD"]}}onPaste(r){let c=r.detail.data,a=c.querySelector(":scope > thead, tr:first-of-type th"),n=Array.from(c.querySelectorAll("tr")).map((u)=>Array.from(u.querySelectorAll("th, td")).map((f)=>f.innerHTML));this.data={withHeadings:a!==null,content:n},this.table.wrapper&&this.table.wrapper.replaceWith(this.render())}}(function(){try{if(typeof document<"u"){var r=document.createElement("style");r.appendChild(document.createTextNode('.cdx-checklist{gap:6px;display:flex;flex-direction:column}.cdx-checklist__item{display:flex;box-sizing:content-box;align-items:flex-start}.cdx-checklist__item-text{outline:none;flex-grow:1;line-height:1.57em}.cdx-checklist__item-checkbox{width:22px;height:22px;display:flex;align-items:center;margin-right:8px;margin-top:calc(.785em - 11px);cursor:pointer}.cdx-checklist__item-checkbox svg{opacity:0;height:20px;width:20px;position:absolute;left:-1px;top:-1px;max-height:20px}@media (hover: hover){.cdx-checklist__item-checkbox:not(.cdx-checklist__item-checkbox--no-hover):hover .cdx-checklist__item-checkbox-check svg{opacity:1}}.cdx-checklist__item-checkbox-check{cursor:pointer;display:inline-block;flex-shrink:0;position:relative;width:20px;height:20px;box-sizing:border-box;margin-left:0;border-radius:5px;border:1px solid #C9C9C9;background:#fff}.cdx-checklist__item-checkbox-check:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;border-radius:100%;background-color:#369fff;visibility:hidden;pointer-events:none;transform:scale(1);transition:transform .4s ease-out,opacity .4s}@media (hover: hover){.cdx-checklist__item--checked .cdx-checklist__item-checkbox:not(.cdx-checklist__item--checked .cdx-checklist__item-checkbox--no-hover):hover .cdx-checklist__item-checkbox-check{background:#0059AB;border-color:#0059ab}}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check{background:#369FFF;border-color:#369fff}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check svg{opacity:1}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check svg path{stroke:#fff}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check:before{opacity:0;visibility:visible;transform:scale(2.5)}')),document.head.appendChild(r)}}catch(c){console.error("vite-plugin-css-injected-by-js",c)}})();var vl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 12L10.4884 15.8372C10.5677 15.9245 10.705 15.9245 10.7844 15.8372L17 9"/></svg>',yl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.2 12L11.0586 13.8586C11.1367 13.9367 11.2633 13.9367 11.3414 13.8586L14.7 10.5"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>';function Nh(){let r=document.activeElement,c=window.getSelection().getRangeAt(0),a=c.cloneRange();return a.selectNodeContents(r),a.setStart(c.endContainer,c.endOffset),a.extractContents()}function ll(r){let c=document.createElement("div");return c.appendChild(r),c.innerHTML}function Uc(r,c=null,a={}){let n=document.createElement(r);Array.isArray(c)?n.classList.add(...c):c&&n.classList.add(c);for(let u in a)n[u]=a[u];return n}function Dh(r){return r.innerHTML.replace("<br>"," ").trim()}function Bh(r,c=!1,a=void 0){let n=document.createRange(),u=window.getSelection();n.selectNodeContents(r),a!==void 0&&(n.setStart(r,a),n.setEnd(r,a)),n.collapse(c),u.removeAllRanges(),u.addRange(n)}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);Element.prototype.closest||(Element.prototype.closest=function(r){let c=this;if(!document.documentElement.contains(c))return null;do{if(c.matches(r))return c;c=c.parentElement||c.parentNode}while(c!==null&&c.nodeType===1);return null});class Ku{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:yl,title:"Checklist"}}static get conversionConfig(){return{export:(r)=>r.items.map(({text:c})=>c).join(". "),import:(r)=>({items:[{text:r,checked:!1}]})}}constructor({data:r,config:c,api:a,readOnly:n}){this._elements={wrapper:null,items:[]},this.readOnly=n,this.api=a,this.data=r||{}}render(){return this._elements.wrapper=Uc("div",[this.CSS.baseBlock,this.CSS.wrapper]),this.data.items||(this.data.items=[{text:"",checked:!1}]),this.data.items.forEach((r)=>{let c=this.createChecklistItem(r);this._elements.wrapper.appendChild(c)}),this.readOnly?this._elements.wrapper:(this._elements.wrapper.addEventListener("keydown",(r)=>{let[c,a]=[13,8];switch(r.keyCode){case c:this.enterPressed(r);break;case a:this.backspace(r);break}},!1),this._elements.wrapper.addEventListener("click",(r)=>{this.toggleCheckbox(r)}),this._elements.wrapper)}save(){let r=this.items.map((c)=>{let a=this.getItemInput(c);return{text:Dh(a),checked:c.classList.contains(this.CSS.itemChecked)}});return r=r.filter((c)=>c.text.trim().length!==0),{items:r}}validate(r){return!!r.items.length}toggleCheckbox(r){let c=r.target.closest(`.${this.CSS.item}`),a=c.querySelector(`.${this.CSS.checkboxContainer}`);a.contains(r.target)&&(c.classList.toggle(this.CSS.itemChecked),a.classList.add(this.CSS.noHover),a.addEventListener("mouseleave",()=>this.removeSpecialHoverBehavior(a),{once:!0}))}createChecklistItem(r={}){let c=Uc("div",this.CSS.item),a=Uc("span",this.CSS.checkbox),n=Uc("div",this.CSS.checkboxContainer),u=Uc("div",this.CSS.textField,{innerHTML:r.text?r.text:"",contentEditable:!this.readOnly});return r.checked&&c.classList.add(this.CSS.itemChecked),a.innerHTML=vl,n.appendChild(a),c.appendChild(n),c.appendChild(u),c}enterPressed(r){r.preventDefault();let c=this.items,a=document.activeElement.closest(`.${this.CSS.item}`);if(c.indexOf(a)===c.length-1&&Dh(this.getItemInput(a)).length===0){let o=this.api.blocks.getCurrentBlockIndex();a.remove(),this.api.blocks.insert(),this.api.caret.setToBlock(o+1);return}let n=Nh(),u=ll(n),f=this.createChecklistItem({text:u,checked:!1});this._elements.wrapper.insertBefore(f,a.nextSibling),Bh(this.getItemInput(f),!0)}backspace(r){let c=r.target.closest(`.${this.CSS.item}`),a=this.items.indexOf(c),n=this.items[a-1];if(!n||window.getSelection().focusOffset!==0)return;r.preventDefault();let u=Nh(),f=this.getItemInput(n),o=f.childNodes.length;f.appendChild(u),Bh(f,void 0,o),c.remove()}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-checklist",item:"cdx-checklist__item",itemChecked:"cdx-checklist__item--checked",noHover:"cdx-checklist__item-checkbox--no-hover",checkbox:"cdx-checklist__item-checkbox-check",textField:"cdx-checklist__item-text",checkboxContainer:"cdx-checklist__item-checkbox"}}get items(){return Array.from(this._elements.wrapper.querySelectorAll(`.${this.CSS.item}`))}removeSpecialHoverBehavior(r){r.classList.remove(this.CSS.noHover)}getItemInput(r){return r.querySelector(`.${this.CSS.textField}`)}}(function(){try{if(typeof document<"u"){var r=document.createElement("style");r.appendChild(document.createTextNode(`.cdx-warning{position:relative}@media all and (min-width: 736px){.cdx-warning{padding-left:36px}}.cdx-warning [contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-warning [contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-warning [contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-warning:before{content:"";background-image:url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='5' y='5' width='14' height='14' rx='4' stroke='black' stroke-width='2'/%3E%3Cline x1='12' y1='9' x2='12' y2='12' stroke='black' stroke-width='2' stroke-linecap='round'/%3E%3Cpath d='M12 15.02V15.01' stroke='black' stroke-width='2' stroke-linecap='round'/%3E%3C/svg%3E");width:24px;height:24px;background-size:24px 24px;position:absolute;margin-top:8px;left:0}@media all and (max-width: 735px){.cdx-warning:before{display:none}}.cdx-warning__message{min-height:85px}.cdx-warning__title{margin-bottom:6px}`)),document.head.appendChild(r)}}catch(c){console.error("vite-plugin-css-injected-by-js",c)}})();var gl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>';class Nc{static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:gl,title:"Warning"}}static get enableLineBreaks(){return!0}static get DEFAULT_TITLE_PLACEHOLDER(){return"Title"}static get DEFAULT_MESSAGE_PLACEHOLDER(){return"Message"}get CSS(){return{baseClass:this.api.styles.block,wrapper:"cdx-warning",title:"cdx-warning__title",input:this.api.styles.input,message:"cdx-warning__message"}}constructor({data:r,config:c,api:a,readOnly:n}){this.api=a,this.readOnly=n,this.titlePlaceholder=(c==null?void 0:c.titlePlaceholder)||Nc.DEFAULT_TITLE_PLACEHOLDER,this.messagePlaceholder=(c==null?void 0:c.messagePlaceholder)||Nc.DEFAULT_MESSAGE_PLACEHOLDER,this.data={title:r.title||"",message:r.message||""}}render(){let r=this._make("div",[this.CSS.baseClass,this.CSS.wrapper]),c=this._make("div",[this.CSS.input,this.CSS.title],{contentEditable:!this.readOnly,innerHTML:this.data.title}),a=this._make("div",[this.CSS.input,this.CSS.message],{contentEditable:!this.readOnly,innerHTML:this.data.message});return c.dataset.placeholder=this.titlePlaceholder,a.dataset.placeholder=this.messagePlaceholder,r.appendChild(c),r.appendChild(a),r}save(r){let c=r.querySelector(`.${this.CSS.title}`),a=r.querySelector(`.${this.CSS.message}`);return Object.assign(this.data,{title:(c==null?void 0:c.innerHTML)??"",message:(a==null?void 0:a.innerHTML)??""})}_make(r,c=null,a={}){let n=document.createElement(r);Array.isArray(c)?n.classList.add(...c):c&&n.classList.add(c);for(let u in a)n[u]=a[u];return n}static get sanitize(){return{title:{},message:{}}}}var _h=ic(Gh(),1),Ih=ic(Rh(),1);(function(){try{if(typeof document<"u"){var r=document.createElement("style");r.appendChild(document.createTextNode(".inline-code{background:rgba(250,239,240,.78);color:#b44437;padding:3px 4px;border-radius:5px;margin:0 1px;font-family:inherit;font-size:.86em;font-weight:500;letter-spacing:.3px}")),document.head.appendChild(r)}}catch(c){console.error("vite-plugin-css-injected-by-js",c)}})();var il='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8L5 12L9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8L19 12L15 16"/></svg>';class qr{constructor({api:r}){this.tag="CODE",this.api=r,this.button=null,this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get CSS(){return"inline-code"}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(r){var c;if(!r)return;let a=this.api.selection.findParentTag(this.tag,qr.CSS);a?this.unwrap(a):(c=r.commonAncestorContainer.parentElement)!=null&&c.querySelector(this.tag)||this.wrap(r)}wrap(r){let c=document.createElement(this.tag);c.classList.add(qr.CSS),c.appendChild(r.extractContents()),r.insertNode(c),this.api.selection.expandToTag(c)}unwrap(r){var c;this.api.selection.expandToTag(r);let a=window.getSelection();if(!a)return;let n=a.getRangeAt(0),u=n.extractContents();(c=r.parentNode)==null||c.removeChild(r),n.insertNode(u),a.removeAllRanges(),a.addRange(n)}checkState(){let r=this.api.selection.findParentTag(this.tag,qr.CSS);return this.button&&this.button.classList.toggle(this.iconClasses.active,!!r),!!r}get toolboxIcon(){return il}static get sanitize(){return{code:{class:qr.CSS}}}}(function(){try{if(typeof document<"u"){var r=document.createElement("style");r.appendChild(document.createTextNode(".cdx-marker{background:rgba(245,235,111,.29);padding:3px 0}")),document.head.appendChild(r)}}catch(c){console.error("vite-plugin-css-injected-by-js",c)}})();var kl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M11.3536 9.31802L12.7678 7.90381C13.5488 7.12276 14.8151 7.12276 15.5962 7.90381C16.3772 8.68486 16.3772 9.95119 15.5962 10.7322L14.182 12.1464M11.3536 9.31802L7.96729 12.7043C7.40889 13.2627 7.02827 13.9739 6.8734 14.7482L6.69798 15.6253C6.55804 16.325 7.17496 16.942 7.87468 16.802L8.75176 16.6266C9.52612 16.4717 10.2373 16.0911 10.7957 15.5327L14.182 12.1464M11.3536 9.31802L14.182 12.1464"/><line x1="15" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';class wr{static get CSS(){return"cdx-marker"}constructor({api:r}){this.api=r,this.button=null,this.tag="MARK",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(r){if(!r)return;let c=this.api.selection.findParentTag(this.tag,wr.CSS);c?this.unwrap(c):this.wrap(r)}wrap(r){let c=document.createElement(this.tag);c.classList.add(wr.CSS),c.appendChild(r.extractContents()),r.insertNode(c),this.api.selection.expandToTag(c)}unwrap(r){this.api.selection.expandToTag(r);let c=window.getSelection(),a=c.getRangeAt(0),n=a.extractContents();r.parentNode.removeChild(r),a.insertNode(n),c.removeAllRanges(),c.addRange(a)}checkState(){let r=this.api.selection.findParentTag(this.tag,wr.CSS);this.button.classList.toggle(this.iconClasses.active,!!r)}get toolboxIcon(){return kl}static get sanitize(){return{mark:{class:wr.CSS}}}}(function(){try{if(typeof document<"u"){var r=document.createElement("style");r.appendChild(document.createTextNode(".cdx-underline{text-decoration:underline}")),document.head.appendChild(r)}}catch(c){console.error("vite-plugin-css-injected-by-js",c)}})();var xl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7.5V11.5C9 12.2956 9.31607 13.0587 9.87868 13.6213C10.4413 14.1839 11.2044 14.5 12 14.5C12.7956 14.5 13.5587 14.1839 14.1213 13.6213C14.6839 13.0587 15 12.2956 15 11.5V7.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7.71429 18H16.2857"/></svg>',Zh=class r{constructor(c){this.tag="U",this.api=c.api,this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get CSS(){return"cdx-underline"}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(c){if(!c)return;let a=this.api.selection.findParentTag(this.tag,r.CSS);a?this.unwrap(a):this.wrap(c)}wrap(c){let a=document.createElement(this.tag);a.classList.add(r.CSS),a.appendChild(c.extractContents()),c.insertNode(a),this.api.selection.expandToTag(a)}unwrap(c){var a;this.api.selection.expandToTag(c);let n=window.getSelection();if(!n)return;let u=n.getRangeAt(0);if(!u)return;let f=u.extractContents();f&&((a=c.parentNode)==null||a.removeChild(c),u.insertNode(f),n.removeAllRanges(),n.addRange(u))}checkState(){var c;let a=this.api.selection.findParentTag(this.tag,r.CSS);return(c=this.button)==null||c.classList.toggle(this.iconClasses.active,!!a),!!a}get toolboxIcon(){return xl}static get sanitize(){return{u:{class:r.CSS}}}};Zh.isInline=!0;var Jh=Zh;var Mh=ic(Yh(),1),Qh=ic(Hh(),1),$h=ic(Kh(),1),bl="DOMContentLoaded",Wh="editor:change",sl="editor:save",Ol="editorjs",Ch=()=>({time:Date.now(),blocks:[{type:"header",data:{text:"Welcome to Editor.js!",level:2}},{type:"paragraph",data:{text:"Start writing your blog post here…"}}],version:"2.30.7"}),Ll=(r)=>{if(document.readyState==="loading")document.addEventListener(bl,r,{once:!0});else r()},Al=()=>{let r=window.__EDITOR_INITIAL_DATA_RAW;if(!r)return Ch();try{let c=JSON.parse(r);if(c&&typeof c==="object")return c}catch(c){console.error("[EditorJS] Failed to parse initial data, falling back to default",c)}return Ch()},Aa=(r,c)=>{try{window.dispatchEvent(new CustomEvent(r,{detail:c}))}catch(a){console.error("[EditorJS] Failed to emit event",r,a)}},Iu=(r)=>{try{return JSON.stringify(r)}catch(c){return console.error("[EditorJS] Failed to stringify data",c),null}},Pl=async()=>{if(window.__EDITORJS_INSTANCE__&&typeof window.__EDITORJS_INSTANCE__.destroy==="function")window.__EDITORJS_INSTANCE__.destroy();let r={holder:Ol,autofocus:!1,logLevel:"ERROR",placeholder:"Start writing your blog post…",tools:{header:{class:cn,inlineToolbar:!0},list:{class:dc,inlineToolbar:!0},quote:{class:pc,inlineToolbar:!0},delimiter:Du,image:{class:jc,config:{uploader:{uploadByUrl:async(a)=>({success:1,file:{url:a}}),uploadByFile:async(a)=>{try{if(typeof window.editorjs_upload_file!=="function")throw console.error("[EditorJS] Upload bridge not available"),Error("Upload functionality not available");console.log("[EditorJS] Uploading file:",a.name);let n=await window.editorjs_upload_file(a);return console.log("[EditorJS] Upload response:",n),n}catch(n){throw console.error("[EditorJS] Upload failed:",n),n}}}}},embed:{class:Hr,inlineToolbar:!0},linktool:{class:Ru,config:{}},attaches:{class:Yu,config:{uploader:{uploadByFile:async(a)=>{try{if(typeof window.editorjs_upload_file!=="function")throw console.error("[EditorJS] Upload bridge not available"),Error("Upload functionality not available");console.log("[EditorJS] Uploading attachment:",a.name);let n=await window.editorjs_upload_file(a);return console.log("[EditorJS] Attachment upload response:",n),{...n,title:a.name,size:a.size}}catch(n){throw console.error("[EditorJS] Attachment upload failed:",n),n}}}}},code:{class:xa},raw:ba,table:{class:Hu,inlineToolbar:!0},checklist:{class:Ku,inlineToolbar:!0},warning:{class:Nc,inlineToolbar:!0},button:_h.default,alert:Ih.default,inlineCode:{class:qr},marker:{class:wr},underline:Jh,hyperlink:{class:Mh.default,config:{shortcut:"CMD+L",target:"_blank",rel:"nofollow",availableTargets:["_blank","_self"],availableRels:["author","noreferrer","nofollow"],validate:!1}}},data:Al(),onReady:async()=>{let a=window.__EDITORJS_INSTANCE__;if(a)new Qh.default(a),new $h.default({editor:a});Aa("editor:ready",null);try{if(a){let n=await a.save(),u=Iu(n);if(u)Aa(Wh,u)}}catch(n){console.error("[EditorJS] Initial save failed",n)}},onChange:async(a)=>{try{let n=await a.saver.save(),u=Iu(n);if(u)Aa(Wh,u)}catch(n){console.error("[EditorJS] onChange save failed",n)}}},c=new rn(r);window.__EDITORJS_INSTANCE__=c,window.editor={save:async()=>c.save(),clear:async()=>c.clear(),render:async(a)=>c.render(a),destroy:()=>c.destroy(),instance:c},window.addEventListener("editor:request-save",async()=>{try{let a=await c.save(),n=Iu(a);if(n)Aa(sl,n)}catch(a){console.error("[EditorJS] Forced save failed",a)}})};Ll(()=>{Pl().catch((r)=>{console.error("[EditorJS] Mount failed:",r)})});
